<!DOCTYPE html>
<html>
  <head>
    <style>
    body, html {
      padding: 0;
      margin: 0;
      width: 100%;
      height: 100%;
    }
    #box1 {
      width: 40px;
      height: 40px;
      border: 2px solid #00F;
      position: absolute;
      background-color: #66F;
      left: 100px;
      top: 100px;
    }
    </style>
  </head>
  <body>
    
    <div id="box1"></div>
  
    <script src="../build/anim8js-dom.js"></script>
    
    <script>

      function HalfwayThere()
      {
        console.log('HalfwayThere!');
      }
      
      m8( window.box1 )
        .tween('opacity', true, '-0.5', '2s ~1s')
        .defer('once', 'finished')
          .invoke(HalfwayThere)
          .tween('opacity', true, '+0.5', '2s')
          .tween('left', true, '+200', '2s')
          .tween('rotate', true, '+1080', '4s')
          .defer('once', 'finished')
            .tween('rotate', true, '-360', '500ms')
            .defer('once', 'finished')
              .tween('center', true, '+100', '2s')
              .defer('once', 'finished')
                .tween('center', true, {x:'-200', y:20})
              .undefer()
            .undefer()
          .undefer()
        .undefer()
      ;

    </script>
    
  </body>
</html>
  