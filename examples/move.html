<!DOCTYPE html>
<html>
  <head>
    <style>
    body, html {
      padding: 0;
      margin: 0;
    }
    #box1 {
      width: 40px;
      height: 40px;
      border: 2px solid #00F;
      position: absolute;
      background-color: #66F;
    }
    </style>
  </head>
  <body>
    
    <div id="box1"></div>
  
    <script src="../build/anim8js-dom.js"></script>
    <script src="examples.js"></script>
    
    <!--[if lte IE 8]>
    <script src="../build/anim8js-ie.js"></script>
    <![endif]-->
    
    <script>
      
      anim8.save('moveLeft', {
        move: {
          left: -100,
          rotate: -90
        }
      });

      anim8.save('moveRight', {
        move: {
          left: 100,
          rotate: 90
        }
      });

      anim8.save('moveUp', {
        move: {
          top: -100,
          rotate: 90
        }
      });

      anim8.save('moveDown', {
        move: {
          top: 100,
          rotate: -90
        }
      });

      var cycleStart = function(cycle)
      {
        if ( console )
        {
          console.log( 'cycleStart', cycle );
        }
      };

      var cycleEnd = function(cycle)
      {
        if ( console )
        {
          console.log( 'cycleEnd', cycle );
        }
      };

      var anim8or = m8( window.box1 );

      $listen( document, 'keydown', function(mouse, ev)
      {
        if ( ev.keyCode === 37 ) anim8or.queue('moveLeft linear 250');
        if ( ev.keyCode === 38 ) anim8or.queue('moveUp linear 250');
        if ( ev.keyCode === 39 ) anim8or.queue('moveRight linear 250');
        if ( ev.keyCode === 40 ) anim8or.queue('moveDown linear 250');

        if ( ev.keyCode >= 37 && ev.keyCode <= 40 )
        {
          anim8or.onCycleStart( cycleStart );
          anim8or.onCycleEnd( cycleEnd ); 
        }
      });
      
    </script>
    
  </body>
</html>
  