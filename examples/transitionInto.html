<!DOCTYPE html>
<html>
  <head>
    <style>
    body, html {
      padding: 0;
      margin: 0;
    }
    #box {
      width: 40px;
      height: 40px;
      left: 100px;
      top: 200px;
      border: 2px solid #00F;
      position: absolute;
      background-color: #66F;
    }
    </style>
  </head>
  <body>
    
    <div id="box"></div>
		
    <script src="../build/anim8js-dom.js"></script>
    <script src="../build/anim8js-animate.css.js"></script>
		
    <script>

      function getRandomPoint()
      {
        return {
          x: Math.random() * (window.innerWidth - 100) + 50,
          y: Math.random() * (window.innerHeight - 100) + 50 
        };
      }
      getRandomPoint.computed = true;
      
      anim8.save('randomPoint', {
        tweenTo: {
          center: getRandomPoint
        }
      });
      
      var anim8or = m8( window.box );
      
      anim8or.play('randomPoint');
      
      setInterval( function()
      {        
        if ( !anim8or.hasAttrimators() )
        {
          anim8or.play('randomPoint 3s');
        }
        
      }, 2000);
      
      window.onclick = function(e)
      {
        if (anim8or.hasAttrimators())
        {
          anim8or.transition( '500 >250 <0 linear', {
            keyframe: {
              from: {
                center: {x: e.x, y: e.y}
              },
              to: {
                center: getRandomPoint()
              }
            }
          }); 
        }
      };
            
    </script>
    
  </body>
</html>
  