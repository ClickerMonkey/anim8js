<!DOCTYPE html>
<html>
  <head>
    <style>
    body, html {
      padding: 0;
      margin: 0;
    }
    #box {
      width: 40px;
      height: 40px;
      left: 100px;
      top: 150px;
      border: 2px solid #00F;
      position: absolute;
      background-color: #66F;
    }
    #box2 {
      width: 40px;
      height: 40px;
      left: 300px;
      top: 150px;
      border: 2px solid #0F0;
      position: absolute;
      background-color: #6F6;
    }
    #sequence {
      left: 80px;
      top: 60px;
      position: absolute;
      white-space: pre;
    }
    #sequence div.sequenced {
      position: relative;
      display: inline-block;
    }
    </style>
  </head>
  <body>

    <input type="range" id="currentTime">
    <input type="button" id="playButton" value="Play">
    <input type="button" id="pauseButton" value="Pause">
    <input type="button" id="reverseButton" value="Reverse">
    <input type="button" id="doubleButton" value="x2">
    <input type="button" id="halfButton" value="/2">
    <input type="button" id="startButton" value="Start">
    <input type="button" id="endButton" value="End">
    <span id="playerStatus"></span>

    <div id="box"></div>
    <div id="sequence">Movie Sequences</div>
    <div id="box2"></div>

    <script src="../assets/js/jquery.js"></script>
    <script src="../assets/js/anim8js.js"></script>
    <script src="../assets/js/anim8js-dom.js"></script>
    <script src="../assets/js/anim8js-jquery.js"></script>
    <script src="../assets/js/anim8js-animate.css.js"></script>

    <script src="examples.js"></script>

    <!--[if lte IE 8]>
    <script src="../build/anim8js-ie.js"></script>
    <![endif]-->

    <script>

      anim8.save('pathUpAndDown', {
        path: {
          center: {
            type: 'linear',
            points: [[300,150], [300,350]]
          }
        }
      });

      anim8.save('pathLeftAndRight', {
        path: {
          center: {
            type: 'linear',
            points: [[50,250], [400,250]]
          }
        }
      });

      var mov = new anim8.Movie();

      mov
        .setAutoEnd( true )
        .at( '1s' )
        .intro( window.box )
        .play( 'fadeIn' )
        .play( 'wiggle' )
        .play( 'bounceOut')
        .seek( '1s' )
        .play( 'zoomIn' )
        .play( 'tada' )

        .setAutoEnd( false )
        .at( '1s' )
        .intro( $( window.sequence ).sequence().get() )
        .sequence( '50ms' )
        .play( 'fadeInDown 2s' )
        .queue( 'zoomOut !2 ~1s 2s quad' )

        .at( '0s' )
        .with( window.box2 )
        .play( 'pathUpAndDown linear-yoyo inf' )
        .seek( '1.4s' )
        .transition( '1s >500 <100 /0', 'pathLeftAndRight x3 linear-yoyo' )
      ;

      window.currentTime.max = mov.duration();

      var ply = new anim8.MoviePlayer( mov );

      ply.play();

      ply.on( 'apply', function()
      {
        window.currentTime.value = ply.time;
        window.playerStatus.innerHTML = (
          ply.speed === -1 ? 'Playing (in reverse)' : (
          ply.speed === +1 ? 'Playing' : (
          ply.speed < 0 ? 'Playing (in reverse ' + (-ply.speed) + ' times)' :
          'Playing (' + ply.speed + ' times)'
        )));
      });

      ply.on( 'start', function()
      {
        window.playerStatus.innerHTML = 'Stopped (at beginning)';
      });

      ply.on( 'end', function()
      {
        window.playerStatus.innerHTML = 'Stopped (at end)';
      });

      $listen( window.currentTime, 'change', function(mouse, e)
      {
        ply.goto( e.target.value, true, true );
      });

      $listen( window.playButton, 'click', function()
      {
        ply.play();
      });

      $listen( window.pauseButton, 'click', function()
      {
        ply.pause();
        anim8.requestRun(function() {
          window.playerStatus.innerHTML = 'Paused';
        });
      });

      $listen( window.reverseButton, 'click', function()
      {
        ply.reverse();
      });

      $listen( window.doubleButton, 'click', function()
      {
        ply.speed *= 2;
      });

      $listen( window.halfButton, 'click', function()
      {
        ply.speed *= 0.5;
      });

      $listen( window.startButton, 'click', function()
      {
        ply.start().apply( true );
      });

      $listen( window.endButton, 'click', function()
      {
        ply.end().apply( true );
      });

    </script>

  </body>
</html>
