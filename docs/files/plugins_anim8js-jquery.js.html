<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>plugins/anim8js-jquery.js - anim8js</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="anim8js" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.1.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/anim8.html">anim8</a></li>
                                <li><a href="../classes/anim8.Animation.html">anim8.Animation</a></li>
                                <li><a href="../classes/anim8.Animator.html">anim8.Animator</a></li>
                                <li><a href="../classes/anim8.Animators.html">anim8.Animators</a></li>
                                <li><a href="../classes/anim8.Attrimator.html">anim8.Attrimator</a></li>
                                <li><a href="../classes/anim8.AttrimatorMap.html">anim8.AttrimatorMap</a></li>
                                <li><a href="../classes/anim8.defaults.html">anim8.defaults</a></li>
                                <li><a href="../classes/anim8.DeferAnimator.html">anim8.DeferAnimator</a></li>
                                <li><a href="../classes/anim8.delegate.html">anim8.delegate</a></li>
                                <li><a href="../classes/anim8.eventize.html">anim8.eventize</a></li>
                                <li><a href="../classes/anim8.Path.html">anim8.Path</a></li>
                                <li><a href="../classes/anim8.Tween.html">anim8.Tween</a></li>
                            </ul>
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/anim8.html">anim8</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: plugins/anim8js-jquery.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/**
 * A factory for jQuery objects.
 */
anim8.jQueryFactory = function()
{
  this.priority = 10;
};

// It extends anim8.Factory
anim8.override( anim8.jQueryFactory.prototype = new anim8.Factory(),
{
  /**
   * Determines whether the given subject is valid for this factory to create Animators for.
   * 
   * @param  {any} subject
   * @return {boolean}
   */
  is: function(subject)
  {
    return typeof jQuery !== &#x27;undefined&#x27; &amp;&amp; subject instanceof jQuery;
  },

  /**
   * Returns an animator given a subject.
   * 
   * @param  {any} subject
   * @return {anim8.Animator}
   */
  animatorFor: function(subject)
  {
    return anim8.factory.dom.animatorFor( subject[0] );
  },

  /**
   * Explodes the given subject to an array of Animators and adds them to the given array.
   * 
   * @param  {any} subject
   * @param  {array} animators
   * @return {void}
   */
  animatorsFor: function(subject, animators)
  {
    subject.each(function() 
    {
      var animator = anim8.factory.dom.animatorFor( this );

      if (animator) 
      {
        animators.push( animator );
      }
    });
  }
  
});

/**
 * Registers the jQuery factory.
 */
anim8.factory[&#x27;jquery&#x27;] = new anim8.jQueryFactory();

/**
 * Adds useful anim8js functions to jQuery.
 * 
 * @param  {jQuery}
 * @param  {anim8}
 * @param  {anim8s}
 * @return {function}
 */
(function($, m8, m8s)
{

  /**
   * Extend the clone function to remove the attribute which stores the animator ID so clones get new animators.
   * 
   * @return {jQuery}
   */
  var cloner = $.fn.clone;
  
  $.fn.clone = function()
  {
    var clone = cloner.apply( this, arguments );
    
    clone.removeAttr( anim8.factory.dom.elementAttribute );

    return clone;
  };

  /**
   * Adds the m8, anim8, and animator functions to jQuery. An instance of anim8.Animator will be returned.
   * 
   * @return {anim8.Animator}
   */
  $.fn.m8 = $.fn.anim8 = $.fn.animator = function()
  {
    return m8( this[0] );
  };

  /**
   * Adds the m8s, anim8s, animators functions to jQuery. An instance of anim8.Animators will be returned.
   * 
   * @return {anim8.Animators}
   */
  $.fn.m8s = $.fn.anim8s = $.fn.animators = function()
  {
    return m8s( this.get() );
  };
  
  /**
   * Plays the animation specified in the given data attribute.
   *
   * The returned jQuery object is reduced to the elements that had a valid animation attribute.
   * 
   * @param  {string} animationAttribute
   * @param  [boolean] all
   * @param  [boolean] cache
   * @return {this}
   * @see anim8.Animator.play
   */
  $.fn.dataPlay = function( animationAttribute, all, cache )
  {
    var options = {};

		return this.filter(function()
	  {
			var animationText = $(this).data( animationAttribute );
		
			if ( animationText )
			{
        var animation = anim8.animation( animationText, options, cache );

        if ( animation !== false )
        {
          m8( this ).play( animation, options, all ); 

          return true;
        }
			}
			
			return false;
  	});
  };
  
  /**
   * Queues the animation specified in the given data attribute.
   *
   * The returned jQuery object is reduced to the elements that had a valid animation attribute.
   * 
   * @param  {string} animationAttribute
   * @param  [boolean] cache
   * @return {this}
   * @see anim8.Animator.queue
   */
  $.fn.dataQueue = function( animationAttribute, cache )
  {	
    var options = {};

  	return this.filter(function()
    {
  		var animationText = $(this).data( animationAttribute );
		
  		if ( animationText )
  		{
        var animation = anim8.animation( animationText, options, cache );

        if ( animation !== false )
        {
          m8( this ).queue( animation );

          return true;
        }
  		}
			
			return false;
    });
  };

  /**
   * Transitions into the animation specified in the given data attribute.
   *
   * The returned jQuery object is reduced to the elements that had a valid animation attribute.
   * 
   * @param  {string} animationAttribute
   * @param  {number} transitionTime
   * @param  {number} transitionDelta
   * @param  {string|function} transitionEasing
   * @param  {boolean} cache
   * @return {this}
   */
  $.fn.dataTransition = function( animationAttribute, transition, all, cache )
  { 
    var options = {};

    return this.filter(function()
    {
      var animationText = $(this).data( animationAttribute );
    
      if ( animationText )
      {
        var animation = anim8.animation( animationText, options, cache );
 
        if ( animation !== false )
        {
          m8( this ).transition( transition, animation, options, all );
          
          return true;
        }
      }
      
      return false;
    });
  };

  /**
   * Wraps every character with a span and the class sequenced and returns a jquery
   * element containing all wrapped characters.
   * 
   * @return {jQuery}
   */
  $.fn.sequence = function()
  {
    this.each(function()
    {
      $(this).html( $(this).wrapCharacters(&#x27;div&#x27;, &#x27;class=&quot;sequenced&quot;&#x27;) );
    });

    return this.find(&#x27;.sequenced&#x27;);
  };

  /**
   * Wraps every character in ever element in the jQuery object with a tag.
   * If an element already only has one character it remains untouched.
   * 
   * @param  {string} tagName
   * @param  {string} attributes
   * @return {string} attributes
   */
  $.fn.wrapCharacters = function(tagName, attributes)
  {
    var tagBegin = &#x27;&lt;&#x27; + tagName + (typeof attributes === &#x27;string&#x27; ? &#x27; &#x27; + attributes : &#x27;&#x27;) + &#x27;&gt;&#x27;;
    var tagEnd = &#x27;&lt;/&#x27; + tagName + &#x27;&gt;&#x27;;
    var html = &#x27;&#x27;;

    $(this).contents().each(function()
    {
      // Is this a text node?
      if (this.nodeType === 3)
      {
        // Break up node wrapping each character
        var text = this.wholeText;

        if (text.length &gt; 1)
        {
          // Collapse whitespaces
          var previousSpace = false;
          for (var i = 0; i &lt; text.length; i++)
          {
            var space = text[i] &lt;= &#x27; &#x27;;
            if (!space || !previousSpace)
            {
              html += tagBegin + text[i] + tagEnd;
            }
            previousSpace = space;
          }
        }
        else
        {
          html += text;
        }
      }
      else
      {
        // Not a text node!
        var outer = this.outerHTML;
        // If there are children, we need to recursively break them down
        if (this.firstChild)
        {
          // Grab the element tag and attributes manually.
          var start = 0;
          var quotes = false;
          while (start &lt; outer.length)
          {
            var c = outer[start++];
            if (c === &#x27;&quot;&#x27; || c === &quot;&#x27;&quot;)
            {
              quotes = !quotes;
            }
            else if (c === &#x27;\\&#x27;)
            {
              start++;
            }
            else if (c === &#x27;&gt;&#x27; &amp;&amp; !quotes)
            {
              break;
            }
          }
          html += outer.substring(0, start) + $(this).wrapCharacters(tagName) + &#x27;&lt;/&#x27; + this.tagName.toLowerCase() + &#x27;&gt;&#x27;;
        }
        // No child nodes, just append outer HTML.
        else
        {
          html += outer;
        }
      }
    });

    return html;
  };
  
})(jQuery, anim8, anim8s);

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
