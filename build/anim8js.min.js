/* anim8js 1.0.3 - anim8js - Anim8 Everything by Philip Diffenderfer */
!function(t,e){"function"==typeof define&&define.amd?define("anim8",[],function(){return e(t)}):"object"==typeof module&&module.exports?module.exports=e(global):(t.m8=t.anim8=e(t),t.m8s=t.anim8s=t.anim8.anim8s)}(this,function(t){function e(){}function i(t){return"undefined"!=typeof t}function n(t){return!!(t&&t.constructor&&t.call&&t.apply)}function r(t){return"number"==typeof t}function a(t){return"boolean"==typeof t}function s(t){return"string"==typeof t}function u(t){return t instanceof Array}function o(t){return"object"==typeof t&&null!==t}function h(t){if(u(t)||s(t))return t.length>0;if(null===t)return!0;if(o(t))for(var e in t)return!1;else if(r(t))return 0!==t;return!0}function c(t,e){if(s(t))return e?t.split(e):[t];if(u(t))return t;if(o(t)){var n=[];for(var r in t)n.push(r);return n}return i(t)?[t]:[]}function l(t){if(u(t)){for(var e=[],i=0;i<t.length;i++)e.push(l(t[i]));t=e}else if(o(t)){var e={};for(var n in t)e[n]=l(t[n]);t=e}return t}function f(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];if(o(i))for(var n in i)n in t||(t[n]=i[n])}return t}function p(t,e,n,r){return i(t)?t:i(e)?e:i(n)?n:r}function g(t){return function(){return t}}function m(t){return n(t)?t():t}function d(t,e,i){return e>t?e:t>i?i:t}function v(t,e,i,n){this.name=t,this.input=e,this.options=i,this.attrimators=n}function y(t){this.reset(t)}function b(t){this.$=[],u(t)&&this.fill(t)}function x(){}function w(){this.reset()}function N(){}function R(t,e,i){this.input=t,this.oldOptions=e||{},this.newOptions=i||{},this.prepareSpecifics("easings"),this.prepareSpecifics("repeats"),this.prepareSpecifics("delays"),this.prepareSpecifics("sleeps"),this.prepareSpecifics("durations"),this.prepareSpecifics("offsets"),this.prepareSpecifics("scales"),this.prepareSpecifics("scaleBases")}function T(){}function A(t,e){this.$factory=t;for(var i=0;i<e.length;i++)this[e[i]]=this.$push(e[i])}function M(t,e,i,n){this.$reset(t,e,i,n)}function I(t,e,i,n,r,a,s,u,o,h,c,l,f,g,m){this.reset(t,l,f),this.path=e,this.easing=Ke(n),this.duration=Qe(i),this.sleep=ui(a),this.repeat=Ci(u),this.scale=si(o),this.scaleBase=e.calculator.parse(h,e.calculator.ZERO),this.hasInitialState=p(c,!0),this.delay=Xe(r),this.offset=ii(s),this.input=g,this.mergeId=m}function S(){this.priority=0}function E(t){if(this.reset(),t instanceof E)this.putMap(t);else if(o(t))for(var e in t)this.put(e,t[e])}function C(){this.events=[],this.currentTime=0,this.subjects=new b,this.index=0}function F(t,e,i,n,r,a,s){this.reset(t,r,a),this.value=e,this.hasInitialState=p(n,!0),this.delay=Xe(i),this.applied=!1,this.input=s}function z(){}function O(t,e,i,n,r,a,s,u){this.reset(t,e,null),this.calculator=i,this.position=n,this.velocity=r,this.acceleration=a,this.terminal=ei(s,Number.POSITIVE_INFINITY),this.stopTime=Fi(u,Number.POSITIVE_INFINITY),this.finished=!1}function q(t,e,i){this.animators=t,this.delay=Xe(e),this.easing=Ke(i)}function $(){}function k(t){if(t instanceof y)return t;var e=ti(t,!0);return e===!1?!1:e.animatorFor(t)}function _(t){var e=ti(t,!0),i=[];if(e!==!1)return e.animatorsFor(t,i),new b(i);u(t)||(t=[t]);for(var i=[],n=0;n<t.length;n++){var r=k(t[n]);r!==!1&&i.push(r)}return new b(i)}function P(){return yi}function V(){return bi}function U(t){bi=t}function D(t){H(t),B()}function H(t){t.active||(t.active=!0,xi.push(t))}function B(){yi||(yi=!0,k.trigger("starting"),wi(L))}function L(){k.trigger("begin");var t=fi(),e=xi.length();xi.preupdate(t,e),xi.update(t,e),xi.apply(e),xi.filter(xi.handleFinished),k.trigger("end"),xi.length()||bi?wi(L):(yi=!1,k.trigger("finished"))}function Z(t){return xi.pause(t),k}function j(t){return xi.resume(t),k}function Y(t){return xi.stop(t),k}function G(t){return xi.end(t),k}function X(t){return xi.finish(t),k}function Q(t){return xi.nopeat(t),k}function K(t,e,i,n){return{r:p(t,255),g:p(e,255),b:p(i,255),a:p(n,1)}}function J(t,e){if(s(t)&&n(e))return e.computed=!0,J[t]=e,e;if(n(t))return t.computed=!0,t;throw t+" and "+e+" are not valid parameters for creating a computed function."}function W(t){return n(t)&&t.computed}function te(t,i){switch(i){case te.RETURN_THIS:return function(){for(var e=this.$||this,i=0;i<e.length;i++)e[i][t].apply(e[i],arguments);return this};case te.RETURN_RESULTS:return function(){for(var e=this.$||this,i=[],n=0;n<e.length;n++)i.push(e[n][t].apply(e[n],arguments));return i};case te.RETURN_FIRST:return function(){var e=this.$||this;return 0===e.length?void 0:e[0][t].apply(e[0],arguments)};case te.RETURN_TRUE:return function(){for(var e=this.$||this,i=0;i<e.length;i++)if(e[i][t].apply(e[i],arguments))return!0;return!1}}return e}function ee(t){return function(e,i){for(var n in t)i[t[n]]=e[n]}}function ie(t,e){return function(i,n){o(n[t])||(n[t]={}),n[t][e]=i}}function ne(t){return function(e,i){for(var n=0;n<t.length;n++)i[t[n]]=e}}function re(t){ci.defineProperty(t,"on",he),ci.defineProperty(t,"once",ce),ci.defineProperty(t,"off",le),ci.defineProperty(t,"trigger",fe)}function ae(t,e,n,r,a){var n=c(n," ");i(t[e])||ci.defineProperty(t,e,{});for(var s=0;s<n.length;s++)i(t[e][n[s]])||(t[e][n[s]]=[]),t[e][n[s]].push([r,a||t])}function se(t,e,i){if(t&&e in t)for(var n=t[e],r=n.length-1;r>=0;r--)n[r][0]===i&&n.splice(r,1)}function ue(t,e){t&&e in t&&delete t[e]}function oe(t,e,i,n){if(t&&e in t){for(var r=t[e],a=r.length,s=0;a>s;s++){var u=r[s];u[0].call(u[1],i)}n&&(r.length!==a?t[e]=r.slice(a):delete t[e])}}function he(t,e,i){return ae(this,"$on",t,e,i),this}function ce(t,e,i){return ae(this,"$once",t,e,i),this}function le(t,e){if(i(t)){var t=c(t," ");if(n(e))for(var r=0;r<t.length;r++)se(this.$on,t[r],e),se(this.$once,t[r],e);else for(var r=0;r<t.length;r++)ue(this.$on,t[r]),ue(this.$once,t[r])}else delete this.$on,delete this.$once;return this}function fe(t,e){return oe(this.$on,t,e,!1),oe(this.$once,t,e,!0),this}function pe(t,e,i){var e=Ze(e,i),n=t.toLowerCase();e.name=t,Ni[n]=e}function ge(){this.createConstants()}function me(){this.createConstants()}function de(){this.createConstants()}function ve(){this.createConstants()}function ye(){this.createConstants()}function be(){this.createConstants()}function xe(){this.createConstants()}function we(){this.priority=0,this.attributes={}}function Ne(){}function Re(){}function Te(){}function Ae(){}function Me(){}function Ie(){}function Se(){}function Ee(){}function Ce(){}function Fe(){}function ze(){}function Oe(){}function qe(){}function $e(t,e,i,n){this.name=t,this.set(e,i,n)}function ke(t,e,i){this.name=t,this.set(e,i)}function _e(t,e,i,n,r,a){this.name=t,this.set(e,i,n,r,a)}function Pe(t,e,i,n){this.name=t,this.set(e,i,n)}function Ve(t,e,i){this.name=t,this.set(e,i)}function Ue(t,e,i,n,r){this.name=t,this.set(e,i,n,r)}function De(t,e,i,n,r){this.name=t,this.set(e,[i,n,r])}function He(t,e,i,n){this.name=t,this.set(e,i,n)}function Be(t,e,i,n,r,a,s,u,o,h){this.set(t,e,n,i,u,o,h),this.distance=r,this.damping=a,this.stiffness=s,this.temp=null}function Le(t,e,i,n,r,a,s,u,o){this.set(t,e,n,i,s,u,o),this.damping=r,this.stiffness=a,this.temp0=null,this.temp1=null}function Ze(t,e,i){var e=ni(e,i),n=!h(e);if(t instanceof v){if(n){var r=t.newAttrimators();return t.merge(e,r),new v(!1,t.input,e,r)}return t}if(s(t)){var a=t.toLowerCase();if(a in t&&!n)return t[a];var r=je(t,e,i);return a in t&&!n?t[a]:new v(!1,{},e,r)}if(o(t)){var r=je(t,e,i);return new v(!1,t,e,r)}return!1}function je(t,e,i){var n=ni(e,i),r=!h(n),a=new w;if(t instanceof v)a.putMap(t.newAttrimators()),r&&t.merge(n,a);else if(o(t)){var u=new R(t,n);for(var c in t){var l=Ye(c);l!==!1&&l.parse(t,n,a,u)}}else if(s(t)){var g=t.toLowerCase(),m=Ni[g],d=p(i,li.cache);if(m)a.putMap(m.newAttrimators()),r&&m.merge(n,a);else{for(var y=t.split(","),b=0;b<y.length;b++){for(var x=y[b].split("&"),N=new w,T=0;T<x.length;T++){var A=pi(x[T].toLowerCase()),M=A.split(" "),I=Ni[M[0]];if(!I)throw A+' is not a valid animation in "'+y[b]+'"';var S=ni(M.slice(1),i),E=!h(S),C=I.newAttrimators();r&&E?I.merge(f({},n,S),C):E?I.merge(S,C):r&&I.merge(n,C),N.putMap(C)}a.queueMap(N)}d&&!r&&(Ni[g]=new v(t,{},{},a))}}return a}function Ye(t){return t instanceof N?t:s(t)&&t in Ti?Ti[t]:!1}function Ge(t){return t instanceof T?t:s(t)&&t in Ai?Ai[t]:Ai["default"]}function Xe(t){return Fi(t,li.delay)}function Qe(t){return Fi(t,li.duration)}function Ke(t,e){if(n(t))return t;if(s(t)){if(t in di)return di[t];if(t in mi)return mi[t](Ke(li.easing));if(-1!==t.indexOf("-")){var a=t.split("-"),o=a[0],h=a[1];if(a.length>=2&&o in di&&h in mi)return mi[h](di[o])}}if(u(t)&&4===t.length&&r(t[0])&&r(t[1])&&r(t[2])&&r(t[3]))return di.bezier.apply(null,t);if(!i(t))return Ke(li.easing);if(i(e))return e;throw t+" is not a valid easing"}function Je(t,e){if(n(t))return t;if(s(t)&&t in mi)return mi[t];if(e)return!1;throw t+" is not a valid easing type"}function We(t){return t instanceof S?t:s(t)&&t in Mi?Mi[t]:Mi["default"]}function ti(t,e){var i=!1;for(var n in Mi){var r=Mi[n];r.is(t)&&(i===!1||i.priority<r.priority)&&(i=r)}if(i)return i;if(e)return!1;throw"No factory exists for subject "+t}function ei(t,e){var i=parseFloat(t);return isNaN(i)?e:i}function ii(t){return Fi(t,li.offset)}function ni(t,e){var i=t,n=p(e,li.cacheOptions);if(s(t)){if(t in Ei)return Ei[t];t=t.toLowerCase().split(" ")}if(u(t)){for(var r={},a=0;a<t.length;a++){var h=t[a],c=h.charAt(0);if("x"===c)ri(h.substring(1),r,Ci,"repeat","repeatAdd","repeatScale");else if("z"===c)ri(h.substring(1),r,Fi,"sleep","sleepAdd","sleepScale");else if("~"===c)ri(h.substring(1),r,Fi,"delay","delayAdd","delayScale");else if("!"===c)ri(h.substring(1),r,ei,"scale","scaleAdd","scaleScale");else if("@"===c)ri(h.substring(1),r,Fi,"offset","offsetAdd","offsetScale");else{var l=Ke(h,!1);l!==!1&&(r.easing=l);var f=ri(h,r,Fi,"duration","durationAdd","durationScale");f===!1&&ri(h,r,Ci,"repeat","repeatAdd","repeatScale")}}return s(i)&&n&&(Ei[i]=r),r}return o(t)?t:li.noOptions}function ri(t,e,i,n,r,a){var s=t.charAt(0);if("*"===s)u=ei(t.substring(1),!1),u!==!1&&(e[a]=u);else{("+"===s||"-"===s)&&(n=r,t=t.substring(1));var u=i(t,!1);u!==!1&&(e[n]=u)}return u}function ai(t){if(t instanceof z)return t;if(s(t)&&t in Ii)return Ii[t];if(o(t)&&t.type in Ii)return Ii[t.type](t);throw t+" is not a valid path"}function si(t){return ei(t,li.scale)}function ui(t){return Fi(t,li.sleep)}function oi(t){if(t instanceof $)return t;if(s(t)&&t in Si)return Si[t];if(o(t)&&t.type in Si)return Si[t.type](t);throw t+" is not a valid spring"}function hi(t,e){var i=t;if(s(t)){if(t in zi)return zi[t];t=t.toLowerCase().split(" ")}if(u(t)){var n=t;t={};for(var r=0;r<n.length;r++){var a=n[r],h=a.charAt(0);if("<"===h){var c=Fi(a.substring(1),!1);isNaN(c)||(t.intro=c)}else if(">"===h){var l=Fi(a.substring(1),!1);isNaN(l)||(t.outro=l)}else if("/"===h){var f=ei(a.substring(1),!1);f!==!1&&(t.granularity=f)}else if("^"===h){var g=Fi(a.substring(1),!1);g!==!1&&(t.lookup=g)}else{var m=Ke(a,!1);m!==!1&&(t.easing=m);var d=Fi(a,!1);d!==!1&&(t.time=d)}}}return o(t)?(t.time=Fi(t.time,li.transitionTime),t.outro=Fi(t.outro,li.transitionOutro),t.intro=Fi(t.intro,li.transitionIntro),t.easing=Ke(p(t.easing,li.transitionEasing)),t.granularity=ei(t.granularity,li.transitionGranularity),t.lookup=Fi(t.lookup,li.transitionLookup),s(i)&&p(e,li.cacheTransitions)&&(zi[i]=t),t):li.noTransition}var ci={superPrefix:"_",extend:function(t,e,i){function n(){}n.prototype=e.prototype,t.prototype=new n,o(i)&&this.define(t,i)},define:function(t,e){var i=t.prototype;for(var n in e)n in i&&this.defineProperty(i,this.superPrefix+n,i[n]),this.defineProperty(i,n,e[n])},defineProperty:function(t,e,i){Object.defineProperty?Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:i}):t[e]=i}},li={duration:1e3,easing:"ease",teasing:"linear",delay:0,sleep:0,repeat:1,scale:1,offset:0,transitionTime:500,transitionOutro:100,transitionIntro:100,transitionEasing:"linear",transitionGranularity:0,transitionLookup:10,cache:!1,cacheOptions:!1,cacheTransitions:!1,noOptions:{},noTransition:{},frameRate:16,pauseTime:5},fi=function(){return Date.now?Date.now:function(){return(new Date).getTime()}}(),pi=function(){return String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^([\s]*)|([\s]*)$/g,"")}}(),gi=function(){var t=0;return function(){return++t}}();ci.define(v,{newAttrimators:function(){return this.attrimators.clone()},merge:function(t,e){var i=new R(this.input,this.options,t);for(var n in this.input){var r=Ye(n);r!==!1&&r.merge&&r.merge(this.input,t,this.options,e,i)}return e}}),ci.define(y,{reset:function(t){return this.subject=t,this.attrimators=new w,this.attrimatorsAdded=[],this.frame={},this.updated={},this.finished=!1,this.factory=null,this.active=!1,this.cycleCurrent=0,this.cycleNext=0,this.cycleEnded=0,this},newCycle:function(t){return this.cycleNext++,t instanceof w?this.cycleNext=t.applyCycle(this.cycleNext):t instanceof x&&(t.cycle=this.cycleNext),this},applyCurrentCycle:function(){for(var t=this.cycleCurrent,e=this.attrimators.values,i=e.length-1;i>=0;i--){var n=e[i],r=n.attribute;n.cycle===t&&(this.updated[r]=n.startCycle(this.frame)!==!1||this.updated[r])}return this},endCurrentCycle:function(){this.cycleCurrent>this.cycleEnded&&(this.cycleEnded=this.cycleCurrent,this.trigger("cycleEnd:"+this.cycleCurrent,this.cycleCurrent))},getAttribute:function(t){return this.factory.attribute(t)},restore:function(){return this},applyInitialState:function(){var t=fi();return this.preupdate(t),this.update(t),this.apply(),this},preupdate:function(t){var e=this.attrimatorsAdded;if(e.length){for(var i=0;i<e.length;i++){var n=e[i],r=n.attribute;r in this.subject?this.frame[r]=this.subject[r]:this.setDefault(r),n.start(t,this)}e.length=0}return this.trigger("preupdate"),this},setDefault:function(t){t in this.frame||(this.frame[t]=this.getAttribute(t).cloneDefault())},update:function(t){this.wasFinished=this.finished,this.finished=!0;for(var e=this.attrimators.values,i=this.cycleNext,n=e.length-1;n>=0;n--){var r=e[n],a=r.attribute;this.updated[a]=r.setTime(t,this.frame),this.finished=this.finished&&r.isFinished(),i=Math.min(i,r.cycle)}if(this.cycleCurrent<i){for(;this.cycleCurrent<i;)this.endCurrentCycle(),this.cycleCurrent++;this.cycleCurrent=i,this.applyCurrentCycle(),this.trigger("cycleStart:"+this.cycleCurrent,this.cycleCurrent)}return!this.wasFinished&&this.finished&&this.endCurrentCycle(),this.trigger("update"),this},placeAttrimator:function(t){var e=t.attribute,i=this.attrimators.get(e);return this.attrimators.put(e,t),this.attrimatorsAdded.push(t),this.finished=!1,i},apply:function(){for(var t in this.frame)this.updated[t]&&(this.subject[t]=this.frame[t],this.updated[t]=!1);return this.trigger("apply"),this.trimAttrimators(),this},trimAttrimators:function(){for(var t=this.attrimators.values,e=t.length-1;e>=0;e--){var i=t[e];i.isFinished()&&(i.next?this.placeAttrimator(i.next):this.attrimators.removeAt(e))}return!this.wasFinished&&this.finished&&this.trigger("finished",this),this},value:function(t){return this.frame[t]},activate:function(){return D(this),this},deactivate:function(){return this.trigger("deactivate",this),this},destroy:function(){return this.finished=!0,this.factory.destroy(this),this.trigger("destroyed"),this},spring:function(t){var t=oi(t);return t===!1?!1:(this.newCycle(t),this.placeAttrimator(t),this.activate(),t)},play:function(t,e,i,n){var r=je(t,e,n);return this.newCycle(r),this.playAttrimators(r,i),this.activate()},playAttrimators:function(t,e){e&&this.finishNotPresent(t,0);for(var i=t.values,n=i.length-1;n>=0;n--)this.placeAttrimator(i[n]);return this},queue:function(t,e,i){var n=je(t,e,i);return this.newCycle(n),this.queueAttrimators(n),this.activate()},queueAttrimators:function(t){return this.attrimators.queueMap(t,this.placeAttrimator,this),this},transition:function(t,e,i,n,r){var t=hi(t),a=je(e,i,r);return this.newCycle(a),this.transitionAttrimators(t,a,n),this.activate()},transitionAttrimators:function(t,e,n){var r=this.attrimators,a=e.values;if(n&&this.finishNotPresent(e,t.time),r.hasOverlap(e))for(var s=a.length-1;s>=0;s--){var u=a[s],o=u.attribute,h=r.get(o);if(h&&i(this.frame[o])){var c=this.getAttribute(o),l=c.calculator,f=u.valueAt(0,l.create());if(f!==!1){var p=t.time,g=l.clone(this.frame[o]),m=t.outro?h.valueAt(h.getElapsed()+t.outro,l.create()):!1,d=t.intro?u.valueAt(t.intro,l.create()):!1,v=null;if(d!==!1&&t.intro<0&&t.lookup>0){var y=u.valueAt(t.lookup,l.create()),b=l.sub(y,f);if(b!==!1){var x=l.scale(b,t.intro/t.lookup),w=l.add(x,f);d=f,f=w}}if(v=m===!1&&d===!1?new He(o,l,g,f):m===!1?new De(o,l,g,f,d):d===!1?new De(o,l,g,m,f):new _e(o,l,g,m,f,d),t.granularity>2&&t.lookup>0){var N=m===!1?h.getElapsed():h.getElapsed()+t.outro,R=m===!1?g:m,T=h.valueAt(N+t.lookup,l.create()),A=d===!1?0:t.intro,M=d===!1?f:d,S=u.valueAt(A+t.lookup,l.create());if(T!==!1&&S!==!1){for(var E=l.sub(l.clone(T),R),C=l.length(E)/t.lookup,F=l.sub(l.clone(S),M),z=l.length(F)/t.lookup,O=new ke(o,v,t.granularity),q=O.points,$=q.length-1,k=0,_=[],P=0;$>P;P++)_[P]=k,k+=l.distance(q[P],q[P+1]);if(_[$]=k,!isNaN(k)){for(var V=2*k/(C+z),U=.5*(z-C)/V,D=V/$,H=[],P=0;$>P;P++){var B=P*D,L=C*B+U*B*B;H[P]=L/k}H[$]=1,v=new Pe(o,l,q,H),p=V}}}var Z=new I(o,v,p,t.easing,0,0,0,1);Z.next=u,Z.cycle=u.cycle,u.offset=t.intro,this.placeAttrimator(Z)}else h.stopIn(t.time+u.delay),h.queue(u),u.delay=0}else u.delay+=t.time,this.placeAttrimator(u)}else for(var s=a.length-1;s>=0;s--)this.placeAttrimator(a[s]);return this},finishNotPresent:function(t,e){for(var i=this.attrimators.values,n=e||0,r=i.length-1;r>=0;r--){var a=i[r];t.has(a.attribute)||a.stopIn(n)}return this},tweenTo:function(t,e,i,n){var i=ni(i,n),r=this.getAttribute(t),a=r.parse(e),s=new He(t,r.calculator,J.current,a),u=I.fromOptions(t,s,i);return this.newCycle(u),this.placeAttrimator(u),this.activate()},tweenManyTo:function(t,e,i){var e=ni(e,i);this.newCycle();for(var n in t){var r=this.getAttribute(n),a=r.parse(t[n]),s=new He(n,r.calculator,J.current,a),u=I.fromOptions(n,s,e);u.cycle=this.cycleNext,this.placeAttrimator(u)}return this.activate()},tweenFrom:function(t,e,i,n){var i=ni(i,n),r=this.getAttribute(t),a=r.parse(e),s=new He(t,r.calculator,a,J.current),u=I.fromOptions(t,s,i);return this.newCycle(u),this.placeAttrimator(u),this.activate()},tweenManyFrom:function(t,e){var e=ni(e);this.newCycle();for(var i in t){var n=this.getAttribute(i),r=n.parse(t[i]),a=new He(i,n.calculator,r,J.current),s=I.fromOptions(i,a,e);s.cycle=this.cycleNext,this.placeAttrimator(s)}return this.activate()},tween:function(t,e,i,n,r){var n=ni(n,r),a=this.getAttribute(t),s=a.parse(e),u=a.parse(i),o=new He(t,a.calculator,s,u),h=I.fromOptions(t,o,n);return this.newCycle(h),this.placeAttrimator(h),this.activate()},tweenMany:function(t,e,i,n){var i=ni(i,n);this.newCycle();for(var r in t){var a=this.getAttribute(r),s=a.parse(t[r]),u=a.parse(e[r]),o=new He(r,a.calculator,s,u),h=I.fromOptions(r,o,i);h.cycle=this.cycleNext,this.placeAttrimator(h)}return this.activate()},move:function(t,e,i,n){var i=ni(i,n),r=this.getAttribute(t),a=r.parse(e),s=J.current,u=W(a)?a:J.relative(a),o=new He(t,r.calculator,s,u),h=I.fromOptions(t,o,i);return this.newCycle(h),this.placeAttrimator(h),this.activate()},moveMany:function(t,e,i){var e=ni(e,i);this.newCycle();for(var n in t){var r=this.getAttribute(n),a=r.parse(t[n]),s=J.current,u=W(a)?a:J.relative(a),o=new He(n,r.calculator,s,u),h=I.fromOptions(n,o,e);h.cycle=this.cycleNext,this.placeAttrimator(h)}return this.activate()},ref:function(t){var e=this,n=this.getAttribute(t),r={};return function(){if(t in e.frame)return e.frame[t];r[t]=!0;var a=e.get(r);return i(a[t])?a[t]:n.defaultValue}},follow:function(t,e,i,n){var i=ni(i,n),e=ai(e),r=I.fromOptions(t,e,i);return this.newCycle(r),this.placeAttrimator(r),this.activate()},attrimatorsFor:function(t,e){for(var i=this.attrimators,t=c(p(t,i.keys)," "),r=!n(e),a=[],s=t.length-1;s>=0;s--){var u=t[s],o=i.get(u);o&&(r?a.push(o):e.call(this,o,u))}return r?a:this},stop:function(t){return this.attrimatorsFor(t,function(t,e){this.attrimators.remove(e)})},end:function(t){return this.attrimatorsFor(t,function(t){for(;t.next;)t=t.next;t.finish(this.frame)})},finish:function(t){return this.attrimatorsFor(t,function(t){t.finish(this.frame)})},nopeat:function(t){return this.attrimatorsFor(t,function(t){t.nopeat()})},pause:function(t){return this.attrimatorsFor(t,function(t){t.pause()})},resume:function(t){return this.attrimatorsFor(t,function(t){t.resume()})},set:function(t){for(var e in t)this.frame[e]=t[e],this.updated[e]=!0;return this.apply(),this},unset:function(t){for(var t=c(p(t,this.frame)," "),e=t.length-1;e>=0;e--){var i=t[e];this.attrimators.remove(i),delete this.frame[i]}return this},get:function(t){var e={};for(var i in t)e[i]=this.frame[i];return e},timeRemaining:function(){return this.attrimators.timeRemaining()},hasAttrimators:function(){return this.attrimators.size()>0},getSubject:function(t){var e=this.subject;return n(t)&&(e=t(e)),e},invoke:function(t,e,i){return n(t)&&t.apply(e||this,i||[]),this},defer:function(t,e,i){return new M(this,this,t,e,i)},onCycleStart:function(t,e){return this.once("cycleStart:"+this.cycleNext,t,e),this},onCycleEnd:function(t,e){return this.once("cycleEnd:"+this.cycleNext,t,e),this}}),re(y.prototype),ci.define(b,{push:function(t){return this.$.push(t),this},length:function(){return this.$.length},at:function(t){return this.$[t]},each:function(t,e){for(var i=this.$,n=0;n<i.length&&t.call(e||i[n],i[n],n)!==!1;n++);return this},fill:function(t){for(var e=0;e<t.length;e++)this.push(t[e]);return this},filter:function(t){for(var e=this.$,i=0,n=0;n<e.length;n++){var r=t(e[n]);r||(e[i++]=e[n])}return e.length=i,this},getSubjects:function(t){for(var e=this.$,i=[],r=0;r<e.length;r++)i.push(e[r].subject);return n(t)&&(i=t(i)),i},first:function(){return this.$[0]},reverse:function(){for(var t=this.$,e=t.length-1,i=Math.floor(t.length/2),n=0;i>n;n++){var r=t[n],a=t[e-n];t[n]=a,t[e-n]=r}return this},activate:function(){for(var t=this.$,e=0;e<t.length;e++)H(t[e]);return B(),this},sequence:function(t,e){return new q(this,t,e)},timeRemaining:function(){for(var t=this.$,e=0,i=0;i<t.length;i++)e=Math.max(e,t[i].timeRemaining());return e},preupdate:function(t,e){for(var i=this.$,n=e||i.length,r=0;n>r;r++)i[r].preupdate(t);return this},update:function(t,e){for(var i=this.$,n=e||i.length,r=0;n>r;r++)i[r].update(t);return this},apply:function(t){for(var e=this.$,i=t||e.length,n=0;i>n;n++)e[n].apply();return this},handleFinished:function(t){return t.finished&&(t.deactivate(),t.active=!1),t.finished},restore:te("restore",te.RETURN_THIS),placeAttrimator:te("placeAttrimator",te.RETURN_THIS),applyInitialState:te("applyInitialState",te.RETURN_THIS),trimAttrimators:te("trimAttrimators",te.RETURN_THIS),deactivate:te("deactivate",te.RETURN_THIS),destroy:te("destroy",te.RETURN_THIS),spring:te("spring",te.RETURN_RESULTS),play:te("play",te.RETURN_THIS),playAttrimators:te("playAttrimators",te.RETURN_THIS),queue:te("queue",te.RETURN_THIS),queueAttrimators:te("queueAttrimators",te.RETURN_THIS),transition:te("transition",te.RETURN_THIS),transitionAttrimators:te("transitionAttrimators",te.RETURN_THIS),tween:te("tween",te.RETURN_THIS),tweenTo:te("tweenTo",te.RETURN_THIS),tweenFrom:te("tweenFrom",te.RETURN_THIS),tweenMany:te("tweenMany",te.RETURN_THIS),tweenManyTo:te("tweenManyTo",te.RETURN_THIS),tweenManyFrom:te("tweenManyFrom",te.RETURN_THIS),move:te("move",te.RETURN_THIS),moveMany:te("moveMany",te.RETURN_THIS),follow:te("follow",te.RETURN_THIS),attrimatorsFor:te("attrimatorsFor",te.RETURN_RESULTS),stop:te("stop",te.RETURN_THIS),end:te("end",te.RETURN_THIS),finish:te("finish",te.RETURN_THIS),nopeat:te("nopeat",te.RETURN_THIS),pause:te("pause",te.RETURN_THIS),resume:te("resume",te.RETURN_THIS),set:te("set",te.RETURN_THIS),unset:te("unset",te.RETURN_THIS),get:te("get",te.RETURN_FIRST),hasAttrimators:te("hasAttrimators",te.RETURN_TRUE),invoke:te("invoke",te.RETURN_THIS),onCycleStart:te("onCycleStart",te.RETURN_THIS),onCycleEnd:te("onCycleEnd",te.RETURN_THIS),on:te("on",te.RETURN_THIS),once:te("once",te.RETURN_THIS),off:te("off",te.RETURN_THIS),trigger:te("trigger",te.RETURN_THIS)}),ci.define(x,{reset:function(t,e,i){this.attribute=t,this.builder=e,this.next=i,this.startTime=0,this.pauseTime=0,this.elapsed=0,this.stopTime=Number.POSITIVE_INFINITY,this.paused=!1,this.cycle=0,this.delay=0,this.offset=0},prestart:function(t){0===this.startTime&&(this.startTime=t-this.offset,this.elapsed=this.offset,this.finished=!1,this.prestartNext())},prestartNext:function(t){if(this.next&&0!==this.startTime&&(t&&(this.next.startTime=0),0===this.next.startTime)){var e=this.totalTime();isNaN(e)||this.next.prestart(this.startTime+e)}},start:function(t){this.prestart(t)},startCycle:function(){return!1},setTime:function(t,e){if(this.paused)return!1;var i=!1,n=t-this.startTime,i=!1;return n>this.stopTime?i=this.finish(e):n>=this.delay&&(i=this.update(n,e)),this.elapsed=n,i},update:function(){throw"Attrimator.update not implemented"},getElapsed:function(){return this.elapsed},stopIn:function(t){return this.stopTime=this.getElapsed()+t,this},nopeat:function(){return this},valueAt:function(){return!1},totalTime:function(){return this.stopTime},timeRemaining:function(){return this.totalTime()-this.elapsed+(this.next?this.next.timeRemaining():0)},clone:function(){throw"AttributeAnimator.clone not implemented"},hasComputed:function(){return!1},isInfinite:function(){return this.stopTime===Number.POSITIVE_INFINITY},pause:function(){return this.paused||(this.pauseTime=fi(),this.paused=!0),this},resume:function(){if(this.paused){for(var t=fi()-this.pauseTime,e=this;e&&0!==e.startTime;)e.startTime+=t,e=e.next;this.paused=!1}return this},isPaused:function(){return this.paused},finish:function(){return!1},isFinished:function(){return!1},getBuilder:function(){return this.builder},queue:function(t){return this.next?this.next.queue(t):(this.next=t,this.prestartNext()),this},parseValue:function(t,e,i){var n=this.calculator.parse(e,i);return W(n)&&(n=n(this,t)),n}}),ci.extend(w,E,{setGroup:function(t,e,i){for(var n=this.values,r=n.length-1;r>=0;r--){var a=n[r];do(!a.groupId||e)&&(a.groupId=t),a=a.next;while(i&&a)}},queue:function(t){var e=t.attribute,i=this.get(e);return i?i.queue(t):this.put(e,t),i},queueMap:function(t,e,i){for(var r=this.timeRemaining(),a=t.values,s=n(e),u=a.length-1;u>=0;u--){var o=a[u],h=o.attribute,c=this.get(h);c?(c.isInfinite()?c.stopIn(o.delay+r):o.delay+=r-c.timeRemaining(),c.queue(o)):(o.delay+=r,this.put(h,o),s&&e.call(i||this,o))}return this},unqueueAt:function(t){var e=this.values[t];return e.next?this.values[t]=e.next:this.removeAt(t),this},clone:function(){for(var t=this.values,e=this.keys,i=new w,n=t.length-1;n>=0;n--)i.values[n]=t[n].clone(),i.keys[n]=e[n],i.indices[e[n]]=n;return i},timeRemaining:function(){for(var t=0,e=this.values,i=e.length-1;i>=0;i--){var n=e[i];n.isInfinite()||(t=Math.max(t,n.timeRemaining()))}return t},applyCycle:function(t){for(var e=this.values,i=null;e.length;){i=[];for(var n=e.length-1;n>=0;n--){var r=e[n];r.cycle=t,r.next&&i.push(r.next)}i.length&&t++,e=i}return t},iterate:function(t,e){for(var i=this.values,n=i.length-1;n>=0;n--)for(var r=i[n],a=null,s=0;r;)t.call(e||this,r,s++,a),r=(a=r).next;return this}}),N.nextMergeId=function(){var t=0;return function(){return t++}}(),ci.define(N,{parse:function(){throw"Builder.parse not implemented"},merge:function(t,e,i,n,r){var a=this,s=We(t.factory);n.iterate(function(t){t.getBuilder()===a&&a.mergeAttrimator(t,t.attribute,r,s)})},mergeAttrimator:function(t,e,i,n){t.easing=i.mergeEasing(e,t.easing),t.repeat=i.mergeRepeat(e,t.repeat),t.delay=i.mergeDelay(e,t.delay),t.sleep=i.mergeSleep(e,t.sleep),t.duration=i.mergeDuration(e,t.duration),t.offset=i.mergeOffset(e,t.offset),t.scale=i.mergeScale(e,t.scale),t.scaleBase=i.mergeScaleBase(e,t.scaleBase,n)},submerge:function(t,e,i,n){var r=new R(t,i,e);for(var a in t){var s=Ye(a);s!==!1&&s.merge&&s.merge(t,e,i,n,r)}}}),ci.define(R,{prepareSpecifics:function(t){o(this.input[t])||(this.input[t]={})},parseEasing:function(t){return this.parseFirst(t,"easing","easings")},parseRepeat:function(t){return this.parseNumber(t,Ci,Ci,"repeat","repeatAdd","repeatScale","repeats")},parseDelay:function(t){return this.parseNumber(t,Xe,Fi,"delay","delayAdd","delayScale","delays")},parseSleep:function(t){return this.parseNumber(t,ui,Fi,"sleep","sleepAdd","sleepScale","sleeps")},parseDuration:function(t){return this.parseNumber(t,Qe,Fi,"duration","durationAdd","durationScale","durations")},parseOffset:function(t){return this.parseNumber(t,ii,Fi,"offset","offsetAdd","offsetScale","offsets")},parseScale:function(t){return this.parseNumber(t,si,ei,"scale","scaleAdd","scaleScale","scales")},parseScaleBase:function(t){return this.parseFirst(t,"scaleBase","scaleBases")},parseFirst:function(t,e,i){return p(this.input[i][t],this.oldOptions[e])},parseEvent:function(t,e,i,n){var r=this.parseDuration(t),a=this.parseEasing(t),s=this.parseDelay(t),u=this.parseSleep(t),o=this.parseRepeat(t),h=this.parseOffset(t),c=this.parseScale(t),l=this.parseScaleBase(t),f=new I(t,e,r,a,s,u,h,o,c,l,n,i,null,this.input);return f},parseNumber:function(t,e,i,n,r,a,s){var u=p(this.input[s][t],this.oldOptions[n]),o=e(u),h=i(this.oldOptions[r],0),c=p(this.oldOptions[a],1);return 0===h&&1===c?u:(o+h)*c},mergeEasing:function(t,e){return this.mergeFirst(t,e,Ke,"easing","easings")},mergeRepeat:function(t,e){return this.mergeNumber(t,e,Ci,"repeat","repeatAdd","repeatScale","repeats")},mergeDelay:function(t,e){return this.mergeNumber(t,e,Fi,"delay","delayAdd","delayScale","delays")},mergeSleep:function(t,e){return this.mergeNumber(t,e,Fi,"sleep","sleepAdd","sleepScale","scales")},mergeDuration:function(t,e){return this.mergeNumber(t,e,Fi,"duration","durationAdd","durationScale","durations")},mergeOffset:function(t,e){return this.mergeNumber(t,e,Fi,"offset","offsetAdd","offsetScale","offsets")},mergeScale:function(t,e){return this.mergeNumber(t,e,ei,"scale","scaleAdd","scaleScale","scales")},mergeScaleBase:function(t,e,i){var n=i.attribute(t).calculator,r=function(t,e){return n.parse(t,e)};return this.mergeFirst(t,e,r,"scaleBase","scaleBases")},mergeFirst:function(t,e,i,n,r){var a=this.input[r][t],s=p(a,this.newOptions[n],this.oldOptions[n]);return i(s,e)},mergeNumber:function(t,e,i,n,r,a,s){var u=p(this.input[s][t],this.newOptions[n],this.oldOptions[n]),o=i(u,e),h=i(p(this.newOptions[r],this.oldOptions[r]),0),c=p(this.newOptions[a],this.oldOptions[a],1);return(o+h)*c}}),ci.define(T,{createConstants:function(){this.ZERO=this.create(),this.ONE=this.parse(1,this.ZERO),this.INFINITY=this.parse(Number.POSITIVE_INFINITY,this.ZERO)},parse:function(){throw"Calculator.parse not implemented"},copy:function(){throw"Calculator.copy not implemented"},clone:function(t){return this.copy(this.create(),t)},create:function(){throw"Calculator.create not implemented"},scale:function(t,e){return this.adds(t,t,e-1)},add:function(t,e){return this.adds(t,e,1)},adds:function(){throw"Calculator.adds not implemented"},sub:function(t,e){return this.adds(t,e,-1)},mul:function(){throw"Calculator.mul not implemented"},interpolate:function(t,e,i,n){return t=this.zero(t),t=this.adds(t,e,1-n),t=this.adds(t,i,n)},random:function(t,e,i){return this.interpolate(t,e,i,Math.random())},distance:function(t,e){return Math.sqrt(this.distanceSq(t,e))},distanceSq:function(){throw"Calculator.distanceSq not implemented"},length:function(t){return this.distance(t,this.ZERO)},lengthSq:function(t){return this.distanceSq(t,this.ZERO)},isValid:function(){throw"Calculator.isValid not implemented"},isNaN:function(){throw"Calculator.isNaN not implemented"},isZero:function(){throw"Calculator.isZero not implemented"},isEqual:function(){throw"Calculator.isEqual not implemented"},min:function(){throw"Calculator.min not implemented"},max:function(){throw"Calculator.max not implemented"},dot:function(){throw"Calculator.dot not implemented"},clamp:function(t,e,i){var n=this.distanceSq(t,this.ZERO);return e*e>n?this.scale(t,e/Math.sqrt(n)):n>i*i?this.scale(t,i/Math.sqrt(n)):t},setLength:function(t,e){var i=this.lengthSq(t);
return 0!==i?this.scale(t,e/Math.sqrt(i)):t},isRelative:function(t){return s(t)&&("-"===t[0]||"+"===t[0])},getRelativeAmount:function(t){var e=parseFloat(t);return isNaN(e)?!1:e}}),ci.define(A,{$reset:function(t,e,i,n,r){this.$eventable=t,this.$previous=e,this.$eventType=i,this.$event=n,this.$callback=r,this.$calls=[],this.$next=[],this.$isRoot()&&this.$register()},$isRoot:function(){return this.$eventable===this.$previous},$register:function(){this.$eventable[this.$eventType](this.$event,this.$run,this)},$push:function(t){return function(){return this.$calls.push([t,arguments]),this}},$run:function(){n(this.$callback)&&this.$callback.call(this.$eventable,this);for(var t=0;t<this.$calls.length;t++){var e=this.$calls[t];this.$eventable[e[0]].apply(this.$eventable,e[1])}for(var i=0;i<this.$next.length;i++)this.$next[i].$register()},undefer:function(){return this.$previous},defer:function(t,e,i){var n=new this.$factory(this.$eventable,this,t,e,i);return this.$next.push(n),n}}),M.prototype=new A(M,["restore","placeAttrimator","applyInitialState","preupdate","update","apply","trimAttrimators","activate","deactivate","destroy","spring","play","playAttrimators","queue","queueAttrimators","transition","transitionAttrimators","tween","tweenTo","tweenMany","tweenManyTo","tweenFrom","tweenManyFrom","move","moveMany","follow","stop","end","finish","nopeat","pause","resume","set","unset","get","invoke","onCycleStart","onCycleEnd"]);var mi={};mi["in"]=function(t){return function(e){return t(e)}},mi.out=function(t){return function(e){return 1-t(1-e)}},mi.inout=function(t){return function(e){return.5>e?.5*t(2*e):1-.5*t(2-2*e)}},mi.yoyo=function(t){return function(e){return t(.5>e?2*e:2-2*e)}},mi.mirror=function(t){return function(e){return.5>e?t(2*e):1-t(2-2*e)}},mi.reverse=function(t){return function(e){return t(1-e)}},mi.flip=function(t){return function(e){return 1-t(e)}};var di={};di.linear=function(t){return t},di.quad=function(t){return t*t},di.ease=function(t){var e=1-t,i=e*e,n=t*t,r=.3*i*t+3*e*n+n*t,a=1-i*i;return r*e+a*t},di.cubic=function(t){return t*t*t},di.quartic=function(t){var e=t*t;return e*e},di.quintic=function(t){var e=t*t;return e*e*t},di.back=function(t){var e=t*t,i=e*t;return i+e-t},di.sine=function(t){return Math.sin(1.57079632679*t)},di.overshot=function(t){return(1-.7*t)*t*(10/3)},di.elastic=function(t){var e=t*t,i=e*t,n=e*(2*i+e-4*t+2),r=-Math.sin(10.9955742876*t);return n*r},di.revisit=function(t){return Math.abs(t-Math.sin(3.14159265359*t))},di.lasso=function(t){return 1-Math.cos(t*t*t*36)*(1-t)},di.slowbounce=function(t){var e=t*t;return 1-Math.abs((1-e)*Math.cos(e*t*14.8044066016))},di.bounce=function(t){return 1-Math.abs((1-t)*Math.cos(t*t*14.8044066016))},di.smallbounce=function(t){var e=1-t;return 1-Math.abs(e*e*Math.cos(t*t*14.8044066016))},di.tinybounce=function(t){var e=1-t;return 1-Math.abs(e*e*Math.cos(t*t*7))},di.hesitant=function(t){return Math.cos(t*t*12)*t*(1-t)+t},di.sqrt=function(t){return Math.sqrt(t)},di.sqrtf=function(t){var e=1-t,i=e*e;return.5*(1-i*i+t)},di.log10=function(t){return.5*(Math.log10(t+.01)+2)/1.0021606868913213},di.slingshot=function(t){if(.7>t)return t*-.357;var e=t-.7;return.5*(e*e*27.5-.5)},di.circular=function(t){return 1-Math.sqrt(1-t*t)},di.gentle=function(t){return 3*(1-t)*t*t+t*t*t},di.bezier=function(t,e,i,n){function r(t,e){return 1-3*e+3*t}function a(t,e){return 3*e-6*t}function s(t){return 3*t}function u(t,e,i){return((r(e,i)*t+a(e,i))*t+s(e))*t}function o(t,e,i){return 3*r(e,i)*t*t+2*a(e,i)*t+s(e)}function h(e){for(var n=e,r=0;4>r;++r){var a=o(n,t,i);if(0===a)return n;var s=u(n,t,i)-e;n-=s/a}return n}return function(t){return u(h(t),e,n)}};var vi={DELAYED:1,ANIMATING:2,SLEEPING:4,FINISHED:8};ci.extend(I,x,{computeValue:function(t,e){var i=this.path.compute(t,this.easing(e));if(i!==!1&&1!==this.scale){var n=this.path.calculator,t=n.clone(this.scaleBase),r=n.sub(t,i);i=n.adds(i,r,-this.scale)}return i},applyValue:function(t,e,i){var n=this.computeValue(e,i);return n!==!1&&(t[this.attribute]=n),n},nopeat:function(){var t=d(Math.ceil((this.elapsed-this.delay)/(this.duration+this.sleep)),0,this.repeat);return t!==this.repeat&&(this.repeat=t,this.prestartNext(!0)),this},finish:function(t){this.applyValue(t,this.path.calculator.create(),1),this.state=vi.FINISHED},start:function(t,e){this.prestart(t),this.state=this.delay?vi.DELAYED:vi.ANIMATING,this.hasComputed()&&(this.path=this.path.replaceComputed(this,e))},startCycle:function(t){return this.hasInitialState?this.applyValue(t,t[this.attribute],0):!1},update:function(t,e){var i=!1,n=this.delay,r=this.duration,a=this.sleep,s=this.repeat,u=this.state,o=this.state,h=0;t-=n;var c=r+a,l=Math.floor((t+a)/c);return l>=s?(o=vi.FINISHED,h=1):(t-=l*c,t>r?(o=vi.SLEEPING,h=1):(o=vi.ANIMATING,h=t/r)),(o===vi.ANIMATING||o!==vi.ANIMATING&&u===vi.ANIMATING)&&(this.applyValue(e,e[this.attribute],h),i=!0),this.state=o,i},valueAt:function(t,e){if(t<this.delay&&!this.hasInitialState)return!1;var i=0;if(t>=this.delay){var n=this.duration+this.sleep,r=t-this.delay,a=Math.floor((r+this.sleep)/n);i=a>=this.repeat?1:Math.min(1,r%n/this.duration)}return this.computeValue(e,i)},totalTime:function(){return Math.min(this.stopTime,this.delay+this.repeat*this.duration+(this.repeat-1)*this.sleep)},clone:function(){return new I(this.attribute,this.path,this.duration,this.easing,this.delay,this.sleep,this.offset,this.repeat,this.scale,this.scaleBase,this.hasInitialState,this.builder,this.next?this.next.clone():null,this.input)},hasComputed:function(){return this.path.computed},isInfinite:function(){return this.repeat===Number.POSITIVE_INFINITY&&this.stopTime===Number.POSITIVE_INFINITY},isFinished:function(){return this.state===vi.FINISHED}}),I.fromOptions=function(t,e,i){return new I(t,e,i.duration,i.easing,i.delay,i.sleep,i.offset,i.repeat,i.scale,i.scaleBase)},ci.define(S,{is:function(){throw"Factory.is not implemented"},animatorFor:function(){throw"Factory.animatorFor not implemented"},animatorsFor:function(t,e){e.push(this.animatorFor(t))},destroy:function(){},attribute:function(){throw"Factory.attribute not implemented"}}),ci.define(E,{reset:function(){return this.values=[],this.keys=[],this.indices={},this},put:function(t,e){return t in this.indices?this.values[this.indices[t]]=e:(this.indices[t]=this.values.length,this.values.push(e),this.keys.push(t)),this},putMap:function(t){for(var e=t.keys,i=t.values,n=0;n<e.length;n++)this.put(e[n],i[n]);return this},get:function(t){return this.values[this.indices[t]]},remove:function(t){var e=this.indices[t];return r(e)&&this.removeAt(e),this},removeAt:function(t){var e=this.keys[t],i=this.values.pop(),n=this.keys.pop();return t<this.values.length&&(this.values[t]=i,this.keys[t]=n,this.indices[n]=t),delete this.indices[e],this},indexOf:function(t){return p(this.indices[t],-1)},has:function(t){return t in this.indices},hasOverlap:function(t){for(var e=this.keys,i=t.indices,n=0;n<e.length;n++)if(e[n]in i)return!0;return!1},size:function(){return this.values.length},clear:function(){return this.values.length=0,this.keys.length=0,this.indices={},this}}),ci.define(C,{select:function(){},at:function(t){var e=Fi(t,!1);if(e===!1)throw"Invalid time in Movie.at: "+t;this.currentTime=e},move:function(t){var e=Fi(t,!1);if(e===!1)throw"Invalid time in Movie.move: "+t;this.at(this.currentTime+e)},wait:function(){},after:function(){},invoke:function(){},play:function(t,e){{var i=this.getAttrimators(t,e);i.timeRemaining()}},queue:function(){},transition:function(t,e,i){hi(t),this.getAttrimators(e,i)},sequence:function(){},_add:function(){},getAttrimators:function(t,e){return je(t,e)}}),re(C.prototype),ci.extend(F,x,{getValue:function(){return n(this.value)?this.value():this.value},finish:function(t){var e=!this.applied;return e&&(t[this.attribute]=this.getValue(),this.applied=!0),e},start:function(t,e){this.prestart(t),this.value=e.getAttribute(this.attribute).parse(this.value),W(this.value)&&(this.value=this.value(this,e)),this.applied=!1},startCycle:function(t){return this.hasInitialState&&this.finish(t)},update:function(t,e){return t>=this.delay&&this.finish(e)},valueAt:function(t){return t<this.delay?!1:this.getValue()},totalTime:function(){return Math.min(this.stopTime,this.delay)},clone:function(){return new F(this.attribute,this.value,this.delay,this.hasInitialState,this.builder,this.next?this.next.clone():null)},hasComputed:function(){return W(this.value)},isInfinite:function(){return!1},isFinished:function(){return this.applied}}),ci.define(z,{reset:function(t,e){this.calculator=Ge(t),this.points=e,this.computed=this.hasComputed()},compute:function(){throw"Path.compute not implemented"},hasComputed:function(){for(var t=this.points,e=0;e<t.length;e++)if(W(t[e]))return!0;return!1},replaceComputed:function(t,e){for(var i=this.copy(),n=i.points,r=0;r<n.length;r++)W(n[r])&&(n[r]=n[r](t,e));return i},resolvePoint:function(t){return m(this.points[t])},isLinear:function(){return!0},length:function(t){var e=0,i=this.calculator;if(this.isLinear())for(var n=this.resolvePoint(0),r=1;r<this.points.length;r++){var a=this.resolvePoint(r);e+=i.distance(n,a),n=a}else for(var s=1/t,u=s,n=i.clone(this.resolvePoint(0)),o=i.create(),r=1;t>=r;r++){var a=this.compute(o,u);e+=i.distance(n,a),u+=s,o=n,n=a}return e}}),ci.extend(O,x,{parseValue:function(t,e,i){var n=this.calculator.parse(e,i);return W(n)&&(n=n(this,t)),n},resolveVelocity:function(){return m(this.velocity)},resolveAcceleration:function(){return m(this.acceleration)},start:function(t,e){this.prestart(t);var i=e.getAttribute(this.attribute),n=Ge(p(this.calculator,i.calculator));this.calculator=n,this.position=this.parseValue(e,this.position,i.defaultValue),this.initalPosition=n.clone(this.position),this.velocity=this.parseValue(e,this.velocity,n.ZERO),this.acceleration=this.parseValue(e,this.acceleration,n.ZERO),this.temp=n.create()},hasComputed:function(){return W(this.position)||W(this.velocity)||W(this.acceleration)},update:function(t,e){var i=this.valueAt(t,this.temp,!0);if(i!==!1)return e[this.attribute]=this.position=i,!0;var r=this.calculator,a=Math.min(.001*(t-this.elapsed),O.MAX_DT),s=r.copy(this.temp,this.resolveVelocity()),u=this.resolveAcceleration(),o=this.position;return s=r.adds(s,u,a),this.terminal!==Number.POSITIVE_INFINITY&&(s=r.clamp(s,0,this.terminal)),o=r.adds(o,s,a),this.position=o,n(this.velocity)||(this.velocity=r.copy(this.velocity,s)),e[this.attribute]=o,!0},valueAt:function(t,e,i){if(n(this.velocity)||n(this.acceleration)||this.terminal!==Number.POSITIVE_INFINITY)return!1;t-=this.delay,t*=.001;var r=this.calculator,a=i?r.copy(this.position,this.initalPosition):r.copy(e,this.initalPosition);return a=r.adds(a,this.velocity,t),a=r.adds(a,this.acceleration,t*t)},clone:function(){return new O(this.attribute,this.builder,this.calculator,this.position,this.velocity,this.acceleration,this.terminal,this.stopTime)},finish:function(){return this.finished=!0,!0},isFinished:function(){return this.finished}}),O.MAX_DT=.1,ci.define(q,{maxDelay:function(){return this.delay*(this.animators.length()-1)},createAttrimators:function(t,e){for(var i=t.clone(),n=i.values,r=e/(this.animators.length()-1),a=this.easing(r)*this.maxDelay(),s=n.length-1;s>=0;s--)n[s].delay+=a;return i},reverse:function(){return this.animators.reverse(),this},play:function(t,e,i,n){var r=je(t,e,n),a=this;return this.animators.each(function(t,e){var n=a.createAttrimators(r,e);t.newCycle(n),t.playAttrimators(n,i)}),this.add()},queue:function(t,e,i){var n=je(t,e,i),r=this,a=0,s=[];return this.animators.each(function(t,e){s[e]=t.timeRemaining(),a=Math.max(a,s[e])}),this.animators.each(function(t,e){for(var i=a-s[e],u=r.createAttrimators(n,e),o=u.values,h=o.length-1;h>=0;h--)o[h].delay+=i;t.newCycle(u),t.queueAttrimators(u)}),this.add()},transition:function(t,e,i,n,r){var t=hi(t),a=je(e,i,r),s=this;return this.animators.each(function(e,i){var r=s.createAttrimators(a,i);e.newCycle(r),e.transitionAttrimators(t,r,n)}),this.add()},add:function(){return this.animators.activate(),this}}),ci.extend($,x,{set:function(t,e,i,n,r,a,s){this.reset(t,null,null),this.calculator=e,this.rest=i,this.position=n,this.gravity=a,this.velocity=r,this.finishOnRest=s},resolveRest:function(){return m(this.rest)},updateVelocity:function(){throw"Spring.updateVelocity not implemented"},start:function(t,e){this.prestart(t);var i=e.getAttribute(this.attribute),n=Ge(p(this.calculator,i.calculator));this.calculator=n,this.rest=this.parseValue(e,this.rest,i.defaultValue),this.position=this.parseValue(e,this.position,i.defaultValue),this.gravity=this.parseValue(e,this.gravity,n.ZERO),this.velocity=this.parseValue(e,this.velocity,n.ZERO)},hasComputed:function(){return W(this.rest)||W(this.position)||W(this.gravity)||W(this.velocity)},update:function(t,e){var i=this.calculator,n=Math.min(.001*(t-this.elapsed),$.MAX_DT),r=i.clone(this.position);this.updateVelocity(n),this.velocity=i.adds(this.velocity,this.gravity,n),this.position=i.adds(this.position,this.velocity,n);var a=!i.isEqual(r,this.position,$.EPSILON);return a?e[this.attribute]=this.position:this.finishOnRest&&i.isZero(this.velocity)&&(this.finished=!0),a},finish:function(){return this.finished=!0,!0},isFinished:function(){return this.finished}}),$.MAX_DT=.1,$.EPSILON=1e-4,re(k);var yi=!1,bi=!1,xi=new b,wi=function(){for(var e=["ms","moz","webkit","o"],i=t.requestAnimationFrame,n=0;n<e.length&&!i;++n)i=t[e[n]+"RequestAnimationFrame"];if(!i){var r=0;return function(e){var i=fi(),n=Math.max(li.pauseTime,li.frameRate-(i-r)),a=t.setTimeout(function(){e(i+n)},n);return r=i+n,a}}return function(t){i(t)}}();K.parsers=[{parse:function(t){if("object"==typeof t){var e={r:this.parseComponent(t.r,parseInt,255),g:this.parseComponent(t.g,parseInt,255),b:this.parseComponent(t.b,parseInt,255),a:this.parseComponent(t.a,parseFloat,1)};return e}return!1},parseComponent:function(t,e,i){var n=typeof t,r=i;if("string"===n){var a=e(n,10);isNaN(a)||(r=a)}else"number"===n&&(r=t);return r>i&&(r=i),0>r&&(r=0),r}},{names:{transparent:{r:255,g:256,b:255,a:0},aliceblue:{r:240,g:248,b:255,a:1},antiquewhite:{r:250,g:235,b:215,a:1},aqua:{r:0,g:255,b:255,a:1},aquamarine:{r:127,g:255,b:212,a:1},azure:{r:240,g:255,b:255,a:1},beige:{r:245,g:245,b:220,a:1},bisque:{r:255,g:228,b:196,a:1},black:{r:0,g:0,b:0,a:1},blanchedalmond:{r:255,g:235,b:205,a:1},blue:{r:0,g:0,b:255,a:1},blueviolet:{r:138,g:43,b:226,a:1},brown:{r:165,g:42,b:42,a:1},burlywood:{r:222,g:184,b:135,a:1},cadetblue:{r:95,g:158,b:160,a:1},chartreuse:{r:127,g:255,b:0,a:1},chocolate:{r:210,g:105,b:30,a:1},coral:{r:255,g:127,b:80,a:1},cornflowerblue:{r:100,g:149,b:237,a:1},cornsilk:{r:255,g:248,b:220,a:1},crimson:{r:220,g:20,b:60,a:1},cyan:{r:0,g:255,b:255,a:1},darkblue:{r:0,g:0,b:139,a:1},darkcyan:{r:0,g:139,b:139,a:1},darkgoldenrod:{r:184,g:134,b:11,a:1},darkgray:{r:169,g:169,b:169,a:1},darkgreen:{r:0,g:100,b:0,a:1},darkkhaki:{r:189,g:183,b:107,a:1},darkmagenta:{r:139,g:0,b:139,a:1},darkolivegreen:{r:85,g:107,b:47,a:1},darkorange:{r:255,g:140,b:0,a:1},darkorchid:{r:153,g:50,b:204,a:1},darkred:{r:139,g:0,b:0,a:1},darksalmon:{r:233,g:150,b:122,a:1},darkseagreen:{r:143,g:188,b:143,a:1},darkslateblue:{r:72,g:61,b:139,a:1},darkslategray:{r:47,g:79,b:79,a:1},darkturquoise:{r:0,g:206,b:209,a:1},darkviolet:{r:148,g:0,b:211,a:1},deeppink:{r:255,g:20,b:147,a:1},deepskyblue:{r:0,g:191,b:255,a:1},dimgray:{r:105,g:105,b:105,a:1},dodgerblue:{r:30,g:144,b:255,a:1},feldspar:{r:209,g:146,b:117,a:1},firebrick:{r:178,g:34,b:34,a:1},floralwhite:{r:255,g:250,b:240,a:1},forestgreen:{r:34,g:139,b:34,a:1},fuchsia:{r:255,g:0,b:255,a:1},gainsboro:{r:220,g:220,b:220,a:1},ghostwhite:{r:248,g:248,b:255,a:1},gold:{r:255,g:215,b:0,a:1},goldenrod:{r:218,g:165,b:32,a:1},gray:{r:128,g:128,b:128,a:1},green:{r:0,g:128,b:0,a:1},greenyellow:{r:173,g:255,b:47,a:1},honeydew:{r:240,g:255,b:240,a:1},hotpink:{r:255,g:105,b:180,a:1},indianred:{r:205,g:92,b:92,a:1},indigo:{r:75,g:0,b:130,a:1},ivory:{r:255,g:255,b:240,a:1},khaki:{r:240,g:230,b:140,a:1},lavender:{r:230,g:230,b:250,a:1},lavenderblush:{r:255,g:240,b:245,a:1},lawngreen:{r:124,g:252,b:0,a:1},lemonchiffon:{r:255,g:250,b:205,a:1},lightblue:{r:173,g:216,b:230,a:1},lightcoral:{r:240,g:128,b:128,a:1},lightcyan:{r:224,g:255,b:255,a:1},lightgoldenrodyellow:{r:250,g:250,b:210,a:1},lightgrey:{r:211,g:211,b:211,a:1},lightgreen:{r:144,g:238,b:144,a:1},lightpink:{r:255,g:182,b:193,a:1},lightsalmon:{r:255,g:160,b:122,a:1},lightseagreen:{r:32,g:178,b:170,a:1},lightskyblue:{r:135,g:206,b:250,a:1},lightslateblue:{r:132,g:112,b:255,a:1},lightslategray:{r:119,g:136,b:153,a:1},lightsteelblue:{r:176,g:196,b:222,a:1},lightyellow:{r:255,g:255,b:224,a:1},lime:{r:0,g:255,b:0,a:1},limegreen:{r:50,g:205,b:50,a:1},linen:{r:250,g:240,b:230,a:1},magenta:{r:255,g:0,b:255,a:1},maroon:{r:128,g:0,b:0,a:1},mediumaquamarine:{r:102,g:205,b:170,a:1},mediumblue:{r:0,g:0,b:205,a:1},mediumorchid:{r:186,g:85,b:211,a:1},mediumpurple:{r:147,g:112,b:216,a:1},mediumseagreen:{r:60,g:179,b:113,a:1},mediumslateblue:{r:123,g:104,b:238,a:1},mediumspringgreen:{r:0,g:250,b:154,a:1},mediumturquoise:{r:72,g:209,b:204,a:1},mediumvioletred:{r:199,g:21,b:133,a:1},midnightblue:{r:25,g:25,b:112,a:1},mintcream:{r:245,g:255,b:250,a:1},mistyrose:{r:255,g:228,b:225,a:1},moccasin:{r:255,g:228,b:181,a:1},navajowhite:{r:255,g:222,b:173,a:1},navy:{r:0,g:0,b:128,a:1},oldlace:{r:253,g:245,b:230,a:1},olive:{r:128,g:128,b:0,a:1},olivedrab:{r:107,g:142,b:35,a:1},orange:{r:255,g:165,b:0,a:1},orangered:{r:255,g:69,b:0,a:1},orchid:{r:218,g:112,b:214,a:1},palegoldenrod:{r:238,g:232,b:170,a:1},palegreen:{r:152,g:251,b:152,a:1},paleturquoise:{r:175,g:238,b:238,a:1},palevioletred:{r:216,g:112,b:147,a:1},papayawhip:{r:255,g:239,b:213,a:1},peachpuff:{r:255,g:218,b:185,a:1},peru:{r:205,g:133,b:63,a:1},pink:{r:255,g:192,b:203,a:1},plum:{r:221,g:160,b:221,a:1},powderblue:{r:176,g:224,b:230,a:1},purple:{r:128,g:0,b:128,a:1},red:{r:255,g:0,b:0,a:1},rosybrown:{r:188,g:143,b:143,a:1},royalblue:{r:65,g:105,b:225,a:1},saddlebrown:{r:139,g:69,b:19,a:1},salmon:{r:250,g:128,b:114,a:1},sandybrown:{r:244,g:164,b:96,a:1},seagreen:{r:46,g:139,b:87,a:1},seashell:{r:255,g:245,b:238,a:1},sienna:{r:160,g:82,b:45,a:1},silver:{r:192,g:192,b:192,a:1},skyblue:{r:135,g:206,b:235,a:1},slateblue:{r:106,g:90,b:205,a:1},slategray:{r:112,g:128,b:144,a:1},snow:{r:255,g:250,b:250,a:1},springgreen:{r:0,g:255,b:127,a:1},steelblue:{r:70,g:130,b:180,a:1},tan:{r:210,g:180,b:140,a:1},teal:{r:0,g:128,b:128,a:1},thistle:{r:216,g:191,b:216,a:1},tomato:{r:255,g:99,b:71,a:1},turquoise:{r:64,g:224,b:208,a:1},violet:{r:238,g:130,b:238,a:1},violetred:{r:208,g:32,b:144,a:1},wheat:{r:245,g:222,b:179,a:1},white:{r:255,g:255,b:255,a:1},whitesmoke:{r:245,g:245,b:245,a:1},yellow:{r:255,g:255,b:0,a:1},yellowgreen:{r:154,g:205,b:50,a:1}},parse:function(t){if("string"==typeof t&&(t=t.toLowerCase(),t in this.names)){var e=this.names[t];return{r:e.r,g:e.g,b:e.b,a:e.a}}return!1}},{regex:/^#?([0-9A-F])([0-9A-F])([0-9A-F])$/i,parse:function(t){var e=this.regex.exec(t);return null!==e?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}:!1}},{regex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,parse:function(t){var e=this.regex.exec(t);return null!==e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:1}:!1}},{regex:/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,parse:function(t){var e=this.regex.exec(t);return null!==e?{r:Math.min(255,parseInt(e[1],10)),g:Math.min(255,parseInt(e[2],10)),b:Math.min(255,parseInt(e[3],10)),a:1}:!1}},{regex:/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([01]?\.\d+|[01])\)$/i,parse:function(t){var e=this.regex.exec(t);return null!==e?{r:Math.min(255,parseInt(e[1],10)),g:Math.min(255,parseInt(e[2],10)),b:Math.min(255,parseInt(e[3],10)),a:Math.min(1,parseFloat(e[4]))}:!1}}],K.parse=function(t){for(var e=K.parsers,i=0;i<e.length;i++){var n=e[i].parse(t);if(n!==!1)return n}return!1},K.format=function(t){var e=d(p(t.a,1),0,1),i=Math.floor(d(p(t.r,255),0,255)),n=Math.floor(d(p(t.g,255),0,255)),r=Math.floor(d(p(t.b,255),0,255));if(1===e){var a=i.toString(16),s=n.toString(16),u=r.toString(16);return 1===a.length&&(a="0"+a),1===s.length&&(s="0"+s),1===u.length&&(u="0"+u),"#"+a+s+u}return"rgba("+i+","+n+","+r+","+e+")"},J("current",function(t,e){var i=t.attribute,n=e.getAttribute(i);return i in e.frame?n.calculator.clone(e.frame[i]):n.cloneDefault()}),J("relative",function(t,e){if(W(t))return t;var i=function(i,n){var r=i.attribute,a=n.getAttribute(r),s=a.calculator,u=null;return u=r in n.frame?s.clone(n.frame[r]):a.cloneDefault(),e&&(u=s.mul(u,e)),s.add(u,t)};return i.computed=!0,i.relativeAmount=t,i.mask=e,i}),J("random",function(t){var e=null;if(u(t))e=function(e,i){var n=e.attribute,r=i.getAttribute(n),a=r.calculator,s=t[Math.floor(Math.random()*t.length)];return a.parse(s,a.ZERO)};else if(t instanceof z)e=function(e,i){var n=e.attribute,r=i.getAttribute(n),a=r.calculator;return t.compute(a.create(),Math.random())};else{if(!(o(t)&&i(t.min)&&i(t.max)))throw"Invalid random input: "+t;e=function(e,i){var n=e.attribute,r=i.getAttribute(n),a=r.calculator,s=m(t.min),u=m(t.max),o=a.parse(s,a.ZERO),h=a.parse(u,a.ZERO);return a.random(a.create(),o,h)}}return e.randomSelection=t,J(e)}),te.RETURN_THIS="this",te.RETURN_RESULTS="results",te.RETURN_FIRST="first",te.RETURN_TRUE="true";var Ni={};ci.extend(ge,T,{parse:function(t,e){if(n(t))return t;if(t===!0)return J.current;if(r(t))return{x:t,y:t};if(u(t)&&(t={x:t[0],y:t[1]}),o(t)){var a=p(t.x,e.x),h=p(t.y,e.y),c=this.getRelativeAmount(a),l=this.getRelativeAmount(h);if(c!==!1&&l!==!1){var f={x:c,y:l},g=this.isRelative(a),m=this.isRelative(h);if(g||m){var d={x:g?1:0,y:m?1:0};return J.relative(f,d)}return f}}if(s(t)){if(this.isRelative(t)){var c=this.getRelativeAmount(t);if(c!==!1)return J.relative({x:c,y:c})}var v={left:0,right:100,middle:50,center:50,top:0,bottom:100};if(-1===t.indexOf(" ")){var y=parseFloat(t);if(!isNaN(y)||t in v)return{x:t in v?v[t]:y,y:t in v?v[t]:y}}else{var b=t.split(" "),y=parseFloat(b[0]),x=parseFloat(b[1]);if((!isNaN(y)||b[0]in v)&&(!isNaN(x)||b[1]in v))return{x:b[0]in v?v[b[0]]:y,y:b[1]in v?v[b[1]]:x}}}return i(e)?this.clone(e):!1},copy:function(t,e){return t.x=e.x,t.y=e.y,t},create:function(){return{x:0,y:0}},zero:function(t){return t.x=0,t.y=0,t},adds:function(t,e,i){return t.x+=e.x*i,t.y+=e.y*i,t},mul:function(t,e){return t.x*=e.x,t.y*=e.y,t},interpolate:function(t,e,i,n){return t.x=(i.x-e.x)*n+e.x,t.y=(i.y-e.y)*n+e.y,t},distanceSq:function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n},isValid:function(t){return"object"==typeof t&&"x"in t&&"y"in t},isNaN:function(t){return isNaN(t.x)||isNaN(t.y)},isZero:function(t,e){return Math.abs(t.x)<e&&Math.abs(t.y)<e},isEqual:function(t,e,i){return Math.abs(t.x-e.x)<i&&Math.abs(t.y-e.y)<i},min:function(t,e,i){return t.x=Math.min(e.x,i.x),t.y=Math.min(e.y,i.y),t},max:function(t,e,i){return t.x=Math.max(e.x,i.x),t.y=Math.max(e.y,i.y),t},dot:function(t,e){return t.x*e.x+t.y*e.y},random:function(t,e,i){return t.x=(i.x-e.x)*Math.random()+e.x,t.y=(i.y-e.y)*Math.random()+e.y,t}}),ci.extend(me,T,{parse:function(t,e){if(n(t))return t;if(t===!0)return J.current;if(r(t))return{x:t,y:t,z:t};if(u(t)&&(t={x:t[0],y:t[1],z:t[2]}),o(t)){var a=p(t.x,e.x),s=p(t.y,e.y),h=p(t.z,e.z),c=this.getRelativeAmount(a),l=this.getRelativeAmount(s),f=this.getRelativeAmount(h);if(c!==!1&&l!==!1&&f!==!1){var g={x:c,y:l,z:f},m=this.isRelative(a),d=this.isRelative(s),v=this.isRelative(h);if(m||d||v){var y={x:m?1:0,y:d?1:0,z:v?1:0};return J.relative(g,y)}return g}}if(this.isRelative(t)){var c=this.getRelativeAmount(t);if(c!==!1)return J.relative({x:c,y:c,z:c})}return i(e)?this.clone(e):!1},copy:function(t,e){return t.x=e.x,t.y=e.y,t.z=e.z,t},create:function(){return{x:0,y:0,z:0}},zero:function(t){return t.x=0,t.y=0,t.z=0,t},adds:function(t,e,i){return t.x+=e.x*i,t.y+=e.y*i,t.z+=e.z*i,t},mul:function(t,e){return t.x*=e.x,t.y*=e.y,t.z*=e.z,t},interpolate:function(t,e,i,n){return t.x=(i.x-e.x)*n+e.x,t.y=(i.y-e.y)*n+e.y,t.z=(i.z-e.z)*n+e.z,t},distanceSq:function(t,e){var i=t.x-e.x,n=t.y-e.y,r=t.z-e.z;return i*i+n*n+r*r},isValid:function(t){return"object"==typeof t&&"x"in t&&"y"in t&&"z"in t},isNaN:function(t){return isNaN(t.x)||isNaN(t.y)||isNaN(t.z)},isZero:function(t,e){return Math.abs(t.x)<e&&Math.abs(t.y)<e&&Math.abs(t.z)<e},isEqual:function(t,e,i){return Math.abs(t.x-e.x)<i&&Math.abs(t.y-e.y)<i&&Math.abs(t.z-e.z)<i},min:function(t,e,i){return t.x=Math.min(e.x,i.x),t.y=Math.min(e.y,i.y),t.z=Math.min(e.z,i.z),t},max:function(t,e,i){return t.x=Math.max(e.x,i.x),t.y=Math.max(e.y,i.y),t.z=Math.max(e.z,i.z),t},dot:function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},random:function(t,e,i){return t.x=(i.x-e.x)*Math.random()+e.x,t.y=(i.y-e.y)*Math.random()+e.y,t.z=(i.z-e.z)*Math.random()+e.z,t}}),ci.extend(de,T,{parse:function(t,e){if(n(t))return t;if(t===!0)return J.current;if(r(t))return t;if(s(t)){var i=this.getRelativeAmount(t);if(i!==!1)return this.isRelative(t)?J.relative(i):i}return e},copy:function(t,e){return e},create:function(){return 0},zero:function(){return 0},adds:function(t,e,i){return t+=e*i},mul:function(t,e){return t*=e},interpolate:function(t,e,i,n){return(i-e)*n+e},distanceSq:function(t,e){var i=t-e;return i*i},distance:function(t,e){return Math.abs(t-e)},length:function(t){return Math.abs(t)},lengthSq:function(t){return t*t},isValid:function(t){return"number"==typeof t},isNaN:function(t){return isNaN(t)},isZero:function(t,e){return Math.abs(t)<e},isEqual:function(t,e,i){return Math.abs(t-e)<i},min:function(t,e,i){return Math.min(e,i)},max:function(t,e,i){return Math.max(e,i)},dot:function(t,e){return t*e}}),ci.extend(ve,T,{parse:function(t,e){if(n(t))return t;if(t===!0)return J.current;if(r(t))return{x:0,y:0,z:1,angle:t};if(u(t)&&(t={x:t[0],y:t[1],z:t[2],angle:t[3]}),o(t)){var a=p(t.x,e.x),s=p(t.y,e.y),h=p(t.z,e.z),c=p(t.angle,e.angle),l=this.getRelativeAmount(a),f=this.getRelativeAmount(s),g=this.getRelativeAmount(h),m=this.getRelativeAmount(c);if(l!==!1&&f!==!1&&g!==!1&&m!==!1){var d={x:l,y:f,z:g,angle:m},v=this.isRelative(a),y=this.isRelative(s),b=this.isRelative(h),x=this.isRelative(c);if(v||y||b||x){return J.relative(d)}return d}}if(this.isRelative(t)){var l=this.getRelativeAmount(t);if(l!==!1)return J.relative({x:0,y:0,z:1,angle:l},{x:0,y:0,z:0,angle:1})}return i(e)?this.clone(e):!1},copy:function(t,e){return t.x=e.x,t.y=e.y,t.z=e.z,t.angle=e.angle,t},create:function(){return{x:0,y:0,z:0,angle:0}},zero:function(t){return t.x=0,t.y=0,t.z=0,t.angle=0,t},adds:function(t,e,i){return t.x+=e.x*i,t.y+=e.y*i,t.z+=e.z*i,t.angle+=e.angle*i,t},mul:function(t,e){return t.x*=e.x,t.y*=e.y,t.z*=e.z,t.angle*=e.angle,t},interpolate:function(t,e,i,n){return t.x=(i.x-e.x)*n+e.x,t.y=(i.y-e.y)*n+e.y,t.z=(i.z-e.z)*n+e.z,t.angle=(i.angle-e.angle)*n+e.angle,t},distanceSq:function(t,e){var i=t.x-e.x,n=t.y-e.y,r=t.z-e.z,a=t.angle-e.angle;return i*i+n*n+r*r+a*a},isValid:function(t){return"object"==typeof t&&"x"in t&&"y"in t&&"z"in t&&"angle"in t},isNaN:function(t){return isNaN(t.x)||isNaN(t.y)||isNaN(t.z)||isNaN(t.angle)},isZero:function(t,e){return Math.abs(t.x)<e&&Math.abs(t.y)<e&&Math.abs(t.z)<e&&Math.abs(t.angle)<e},isEqual:function(t,e,i){return Math.abs(t.x-e.x)<i&&Math.abs(t.y-e.y)<i&&Math.abs(t.z-e.z)<i&&Math.abs(t.angle-e.angle)<i},min:function(t,e,i){return t.x=Math.min(e.x,i.x),t.y=Math.min(e.y,i.y),t.z=Math.min(e.z,i.z),t.angle=Math.min(e.angle,i.angle),t},max:function(t,e,i){return t.x=Math.max(e.x,i.x),t.y=Math.max(e.y,i.y),t.z=Math.max(e.z,i.z),t.angle=Math.max(e.angle,i.angle),t},dot:function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z+t.angle*e.angle},random:function(t,e,i){return t.x=(i.x-e.x)*Math.random()+e.x,t.y=(i.y-e.y)*Math.random()+e.y,t.z=(i.z-e.z)*Math.random()+e.z,t.angle=(i.angle-e.angle)*Math.random()+e.angle,t}}),ci.extend(ye,T,{parse:function(t,e){if(n(t))return t;if(t===!0)return J.current;if(r(t))return{r:t,g:t,b:t};if(u(t)&&(t={r:t[0],g:t[1],b:t[2]}),o(t)){var a=p(t.r,e.r),s=p(t.g,e.g),h=p(t.b,e.b),c=this.getRelativeAmount(a),l=this.getRelativeAmount(s),f=this.getRelativeAmount(h);if(c!==!1&&l!==!1&&f!==!1){var g={r:c,g:l,b:f},m=this.isRelative(a),d=this.isRelative(s),v=this.isRelative(h);if(m||d||v){var y={r:m?1:0,g:d?1:0,b:v?1:0};return J.relative(g,y)}return g}}if(this.isRelative(t)){var b=this.getRelativeAmount(t);if(b!==!1)return J.relative({r:b,g:b,b:b})}var g=K.parse(t);return g!==!1?g:i(e)?this.clone(e):!1},copy:function(t,e){return t.r=e.r,t.g=e.g,t.b=e.b,t},create:function(){return{r:0,g:0,b:0}},zero:function(t){return t.r=0,t.g=0,t.b=0,t},adds:function(t,e,i){return t.r+=e.r*i,t.g+=e.g*i,t.b+=e.b*i,t},mul:function(t,e){return t.r*=e.r,t.g*=e.g,t.b*=e.b,t},interpolate:function(t,e,i,n){return t.r=(i.r-e.r)*n+e.r,t.g=(i.g-e.g)*n+e.g,t.b=(i.b-e.b)*n+e.b,t},distanceSq:function(t,e){var i=t.r-e.r,n=t.g-e.g,r=t.b-e.b;return i*i+n*n+r*r},isValid:function(t){return o(t)&&"r"in t&&"g"in t&&"b"in t},isNaN:function(t){return isNaN(t.r)||isNaN(t.g)||isNaN(t.b)},isZero:function(t,e){return Math.abs(t.r)<e&&Math.abs(t.g)<e&&Math.abs(t.b)<e},isEqual:function(t,e,i){return Math.abs(t.r-e.r)<i&&Math.abs(t.g-e.g)<i&&Math.abs(t.b-e.b)<i},min:function(t,e,i){return t.r=Math.min(e.r,i.r),t.g=Math.min(e.g,i.g),t.b=Math.min(e.b,i.b),t},max:function(t,e,i){return t.r=Math.max(e.r,i.r),t.g=Math.max(e.g,i.g),t.b=Math.max(e.b,i.b),t},dot:function(t,e){return t.r*e.r+t.g*e.g+t.b*e.b},random:function(t,e,i){return t.r=(i.r-e.r)*Math.random()+e.r,t.g=(i.g-e.g)*Math.random()+e.g,t.b=(i.b-e.b)*Math.random()+e.b,t}}),ci.extend(be,T,{parse:function(t,e){if(n(t))return t;if(t===!0)return J.current;if(r(t))return{r:t,g:t,b:t,a:1};if(u(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),o(t)){var a=p(t.r,e.r),s=p(t.g,e.g),h=p(t.b,e.b),c=p(t.a,e.a),l=this.getRelativeAmount(a),f=this.getRelativeAmount(s),g=this.getRelativeAmount(h),m=this.getRelativeAmount(c);if(l!==!1&&f!==!1&&g!==!1&&m!==!1){var d={r:l,g:f,b:g,a:m},v=this.isRelative(a),y=this.isRelative(s),b=this.isRelative(h),x=this.isRelative(c);if(v||y||b||x){var w={r:v?1:0,g:y?1:0,b:b?1:0,a:x?1:0};return J.relative(d,w)}return d}}if(this.isRelative(t)){var N=this.getRelativeAmount(t);if(N!==!1)return J.relative({r:N,g:N,b:N,a:0})}var d=K.parse(t);return d!==!1?d:i(e)?this.clone(e):!1},copy:function(t,e){return t.r=e.r,t.g=e.g,t.b=e.b,t.a=e.a,t},create:function(){return{r:0,g:0,b:0,a:0}},zero:function(t){return t.r=0,t.g=0,t.b=0,t.a=0,t},adds:function(t,e,i){return t.r+=e.r*i,t.g+=e.g*i,t.b+=e.b*i,t.a+=e.a*i,t},mul:function(t,e){return t.r*=e.r,t.g*=e.g,t.b*=e.b,t.a*=e.a,t},interpolate:function(t,e,i,n){return t.r=(i.r-e.r)*n+e.r,t.g=(i.g-e.g)*n+e.g,t.b=(i.b-e.b)*n+e.b,t.a=(i.a-e.a)*n+e.a,t},distanceSq:function(t,e){var i=t.r-e.r,n=t.g-e.g,r=t.b-e.b,a=t.a-e.a;return i*i+n*n+r*r+a*a},isValid:function(t){return o(t)&&"r"in t&&"g"in t&&"b"in t&&"a"in t},isNaN:function(t){return isNaN(t.r)||isNaN(t.g)||isNaN(t.b)||isNaN(t.a)},isZero:function(t,e){return Math.abs(t.r)<e&&Math.abs(t.g)<e&&Math.abs(t.b)<e&&Math.abs(t.a)<e},isEqual:function(t,e,i){return Math.abs(t.r-e.r)<i&&Math.abs(t.g-e.g)<i&&Math.abs(t.b-e.b)<i&&Math.abs(t.a-e.a)<i},min:function(t,e,i){return t.r=Math.min(e.r,i.r),t.g=Math.min(e.g,i.g),t.b=Math.min(e.b,i.b),t.a=Math.min(e.a,i.a),t},max:function(t,e,i){return t.r=Math.max(e.r,i.r),t.g=Math.max(e.g,i.g),t.b=Math.max(e.b,i.b),t.a=Math.max(e.a,i.a),t},dot:function(t,e){return t.r*e.r+t.g*e.g+t.b*e.b+t.a*e.a},random:function(t,e,i){return t.r=(i.r-e.r)*Math.random()+e.r,t.g=(i.g-e.g)*Math.random()+e.g,t.b=(i.b-e.b)*Math.random()+e.b,t.a=(i.a-e.a)*Math.random()+e.a,t}}),ci.extend(xe,T,{parse:function(t,e){return n(t)?t:t===!0?J.current:s(t)?t:e},copy:function(t,e){return e},create:function(){return""},zero:function(){return""},adds:function(t,e){return e},mul:function(t,e){return e},interpolate:function(t,e,i,n){return.5>n?e:i},distanceSq:function(t,e){var i=Math.abs(t.length-e.length);return i*i},distance:function(t,e){return Math.abs(t.length-e.length)},length:function(t){return t.length},lengthSq:function(t){return t.length*t.length},isValid:function(t){return"string"==typeof t
},isNaN:function(){return!1},isZero:function(t,e){return t.length<=e},isEqual:function(t,e){return t===e},min:function(t,e,i){return i>e?e:i},max:function(t,e,i){return e>i?e:i},dot:function(t,e){return t.length*e.length}}),ci.extend(we,S,{is:function(t){return o(t)&&!u(t)},animatorFor:function(t){var e=t.$animator;return e||(e=new y(t),e.factory=this,t.$animator=e),e},destroy:function(t){delete t.subject.$animator},attribute:function(t){var e=this.attributes[t];if(!e){e=this.attributes[t]=Ri.attribute(t);var i=e.calculator,n=Ge(i),r=n.parse(e.defaultValue,n.ZERO);e.calculatorName=i,e.calculator=n,e.defaultValue=r,e.name=t,e.parse=function(t){return this.calculator.parse(t,this.defaultValue)},e.cloneDefault=function(){return this.calculator.clone(this.defaultValue)}}return e}});var Ri={};Ri.attribute=function(t){return o(t)&&i(t.defaultValue)?t:s(t)&&t in Ri.attribute?Ri.attribute[t]:Ri.attribute["default"]},Ri.attribute["default"]={defaultValue:0},ci.extend(Ne,N,{parse:function(t,e,i){var n=t.and;n.factory=p(n.factory,t.factory),i.putMap(je(n,e))},merge:function(t,e,i,n){this.submerge(t.and,e,i,n)}}),ci.extend(Re,N,{parse:function(t,e,n,r){var a=N.nextMergeId(),s=We(t.factory),o=t.deltas,h=t.values;if(i(o)){if(u(o)){var c={};for(var l in h)c[l]=o;o=c}}else o={};for(var l in h){for(var f=h[l],p=f.length-1,g=o[l],m=s.attribute(l),d=0;p>=d;d++)f[d]=m.parse(f[d]);if(!u(g)){g=[];for(var v=0;p>=v;v++)g[v]=v/p}var y=new Pe(l,m.calculator,f,g),b=r.parseEvent(l,y,this,!0);b.mergeId=a,n.put(l,b)}}}),ci.extend(Te,N,{parse:function(t,e,i,n){var r=We(t.factory),a=t["final"];for(var s in a){var u=r.attribute(s),o=u.parse(a[s]),h=Xe(n.parseDelay(s)),c=Qe(n.parseDuration(s)),l=new F(s,o,h+c,!1,this,null,t);i.put(s,l)}},mergeAttrimator:function(t,e,i){t.delay=i.mergeDelay(e,t.delay)+i.mergeDuration(e,t.duration)}}),ci.extend(Ae,N,{parse:function(t,e,i,n){var r=We(t.factory),a=t.initial;for(var s in a){var u=r.attribute(s),o=u.parse(a[s]),h=n.parseDelay(s),c=new F(s,o,h,!0,this,null,t);i.put(s,c)}},mergeAttrimator:function(t,e,i){t.delay=i.mergeDelay(e,t.delay)}}),ci.extend(Me,N,{aliases:{from:"0",start:"0",initial:"0",first:"0",half:"50",middle:"50",to:"100",end:"100",last:"100"},parse:function(t,e,i,n){var r=We(t.factory),a=t.keyframe,s=t.easings||{},u=Ke(p(e.teasing,li.teasing)),o=!1;for(var h in a)if(h in this.aliases)a[this.aliases[h]]=a[h],delete a[h];else if(-1!==h.indexOf(",")){for(var c=h.split(","),l=0;l<c.length;l++)a[c[l]]=a[h];delete a[h],o=!0}var c=[],f=0,g=0;for(var h in a){var m=parseFloat(h);isNaN(m)?delete a[h]:(f>m&&(o=!0),c.push({order:m,key:h,value:a[h]}),f=m,g=Math.max(g,m))}if(o){c.sort(function(t,e){return t.order-e.order}),a={};for(var l=0;l<c.length;l++)a[c[l].key]=c[l].value}for(var d={},v={},y={},b={},l=0;l<c.length;l++){var x=c[l],w=p(x.value.easing,e.easing);delete x.value.easing;for(var N in x.value)N in d||(d[N]=[],v[N]=[],y[N]=[],b[N]=r.attribute(N)),d[N].push(x.order/g),v[N].push(b[N].parse(x.value[N])),y[N].push(Ke(p(s[N],w)))}for(var N in d){var R=n.parseDuration(N),T=n.parseDelay(N),A=n.parseSleep(N),M=n.parseOffset(N),S=n.parseRepeat(N),E=n.parseScale(N),C=n.parseScaleBase(N),F=new Ue(N,b[N].calculator,v[N],d[N],y[N]),z=new I(N,F,R,u,T,A,M,S,E,C,!0,this,null,t);i.put(N,z)}}}),ci.extend(Ie,N,{parse:function(t,e,i,n){var r=We(t.factory),a=t.move;for(var s in a){var u=r.attribute(s),o=u.parse(a[s]),h=new He(s,u.calculator,J.current,J.relative(o)),c=n.parseEvent(s,h,this,!0);i.put(s,c)}}}),ci.extend(Se,N,{parse:function(t,e,i,n){var r=We(t.factory),a=t.path;for(var s in a){var u=r.attribute(s),o=a[s];o instanceof z||(o.name=s,o.calculator=u.calculator);var h=ai(o),c=n.parseEvent(s,h,this,!0);i.put(s,c)}}}),ci.extend(Ee,N,{parse:function(t,e,i){var n=(We(t.factory),t.physics);for(var r in n){var a=n[r],s=new O(r,this,a.calculator,p(a.position,!0),a.velocity,a.acceleration,a.terminal,a.stopAt);i.put(r,s)}},merge:!1}),ci.extend(Ce,N,{parse:function(t,e,i){var n=t.queue;n.factory=p(n.factory,t.factory),i.queueMap(je(n,e))},merge:function(t,e,i,n){this.submerge(t.queue,e,i,n)}}),ci.extend(Fe,N,{parse:function(t,e,n){var r=(We(t.factory),t.springs);for(var a in r){var s=r[a];i(s.attribute)||(s.attribute=a);var u=oi(s);u!==!1&&(u.parser=this,n.put(a,u))}},merge:!1}),ci.extend(ze,N,{parse:function(t,e,i){var n=We(t.factory),r=t.travel,a=function(t,e,i,n){return J(function(r,a){var s=a.getAttribute(r.attribute),u=s.calculator,o=W(e)?e(r,a):e,h=u.create();return function(){var e=r.position,a=u.copy(h,m(o)),s=u.sub(a,e),c=u.distance(s,u.ZERO);return i>c?r.stopIn(0):s=u.scale(s,t/c),n&&(s=u.sub(s,r.resolveVelocity())),s}})};for(var s in r){var u=r[s],o=n.attribute(s),h=o.parse(p(u.from,!0)),c=o.parse(p(u.to,!0)),l=ei(u.velocity,0),f=ei(u.acceleration,0),g=ei(p(u.terminal,u.velocity),Number.POSITIVE_INFINITY),d=ei(u.epsilon,.001);0!==f&&(f=a(f,c,d,!0)),0!==l&&(l=a(l,c,d,!1));var v=new O(s,this,o.calculator,h,l,f,g);i.put(s,v)}},merge:!1}),ci.extend(Oe,N,{parse:function(t,e,i,n){var r=We(t.factory),a=t.tweenFrom;for(var s in a){var u=r.attribute(s),o=u.parse(a[s]),h=new He(s,u.calculator,o,J.current),c=n.parseEvent(s,h,this,!0);i.put(s,c)}}}),ci.extend(qe,N,{parse:function(t,e,i,n){var r=We(t.factory),a=t.tweenTo;for(var s in a){var u=r.attribute(s),o=u.parse(a[s]),h=new He(s,u.calculator,J.current,o),c=n.parseEvent(s,h,this,!0);i.put(s,c)}}}),ci.extend($e,z,{set:function(t,e,i){for(var n=t[0].calculator,r=[],a=[],s=!0,u=!1,o=0;o<t.length;o++)r.push.apply(r,t[o].points),a[o]=(o+1)/t.length,t[o].isLinear()||(s=!1);if(e){for(var h=p(i,100),c=0,l=[],o=0;o<t.length;o++)l[o]=t[o].length(h),c+=l[o];for(var f=0,o=0;o<t.length;o++)f+=l[o],a[o]=f/c;u=c}this.reset(n,r),this.paths=t,this.deltas=a,this.uniform=e,this.granularity=i,this.linear=s,this.cachedLength=u},isLinear:function(){return this.linear},length:function(t){return this.cachedLength!==!1?this.cachedLength:this._length(t)},compute:function(t,e){for(var i=this.paths,n=this.deltas,r=0,a=0;a<i.length-1&&n[a]<e;)r=n[a],a++;return i[a].compute(t,(e-r)/(n[a]-r))},copy:function(){return new $e(this.name,this.paths,this.uniform,this.granularity)}}),ci.extend(ke,z,{set:function(t,e){for(var i=t.calculator,n=[],r=0;e>r;r++)n.push(t.compute(i.create(),r/(e-1)));this.reset(i,n)},compute:function(t,e){var i=Math.floor(e*this.points.length),n=Math.min(i,this.points.length-1);return this.calculator.copy(t,this.resolvePoint(n))},copy:function(){return new ke(this.name,this,this.points.length)}}),ci.extend(_e,z,{set:function(t,e,i,n,r){this.reset(t,[e,i,n,r])},compute:function(t,e){var i=this.calculator,n=e*e,r=e*n,a=1-e,s=a*a,u=a*s;return t=i.copy(t,this.resolvePoint(0)),t=i.scale(t,u),t=i.adds(t,this.resolvePoint(1),3*s*e),t=i.adds(t,this.resolvePoint(2),3*a*n),t=i.adds(t,this.resolvePoint(3),r)},copy:function(){return new _e(this.name,this.calculator,this.points[0],this.points[1],this.points[2],this.points[3])},isLinear:function(){return!1}}),ci.extend(Pe,z,{set:function(t,e,i){this.reset(t,e),this.deltas=i},compute:function(t,e){for(var i=this.deltas,n=i.length-2,r=0;i[r+1]<e&&n>r;)r++;var a=i[r],s=i[r+1],u=(e-a)/(s-a),o=this.resolvePoint(r),h=this.resolvePoint(r+1);return this.calculator.interpolate(t,o,h,u)},copy:function(){return new Pe(this.name,l(this.points),l(this.deltas),this.calculator)}}),ci.extend(Ve,z,{set:function(t,e){this.reset(t,e)},compute:function(t,e){var i=Math.floor(e*this.points.length),n=Math.min(i,this.points.length-1);return this.calculator.copy(t,this.resolvePoint(n))},copy:function(){return new Ve(this.name,this.calculator,l(this.points))}}),ci.extend(Ue,z,{set:function(t,e,i,n){this.reset(t,e),this.deltas=i,this.easings=n},compute:function(t,e){var i=this.deltas,n=i.length-2;if(e<i[0])return!1;if(e>i[i.length-1])return this.points[i.length-1];for(var r=0;i[r+1]<e&&n>r;)r++;var a=i[r],s=i[r+1],u=(e-a)/(s-a),o=this.resolvePoint(r),h=this.resolvePoint(r+1),c=this.easings[r];return this.calculator.interpolate(t,o,h,c(u))},copy:function(){return new Ue(this.name,this.calculator,l(this.points),l(this.deltas),l(this.easings))}}),ci.extend(De,z,{set:function(t,e,i,n){this.reset(t,[e,i,n])},compute:function(t,e){var i=this.calculator,n=e*e,r=1-e,a=r*r;return t=i.copy(t,this.resolvePoint(0)),t=i.scale(t,a),t=i.adds(t,this.resolvePoint(1),2*r*e),t=i.adds(t,this.resolvePoint(2),n)},copy:function(){return new De(this.name,this.calculator,this.points[0],this.points[1],this.points[2])},isLinear:function(){return!1}}),ci.extend(He,z,{set:function(t,e,i){this.reset(t,[e,i])},compute:function(t,e){return this.calculator.interpolate(t,this.resolvePoint(0),this.resolvePoint(1),e)},copy:function(){return new He(this.name,this.calculator,this.points[0],this.points[1])}}),ci.extend(Be,$,{start:function(t,e){this._start(t,e),this.temp=this.calculator.create()},clone:function(){return new Be(this.attribute,this.calculator,this.position,this.rest,this.distance,this.damping,this.stiffness,this.velocity,this.gravity,this.finishOnRest)},updateVelocity:function(t){var e=this.calculator,i=this.resolveRest(),n=e.distance(this.position,i);this.temp=e.copy(this.temp,this.position),this.temp=e.sub(this.temp,i),0!==n&&(this.temp=e.scale(this.temp,1/n),this.temp=e.scale(this.temp,(n-this.distance)*this.stiffness)),this.temp=e.adds(this.temp,this.velocity,-this.damping),this.velocity=e.adds(this.velocity,this.temp,t)}}),ci.extend(Le,$,{start:function(t,e){this._start(t,e);var i=e.getAttribute(this.attribute),n=this.calculator;this.damping=this.parseValue(e,this.damping,i.defaultValue),this.stiffness=this.parseValue(e,this.stiffness,i.defaultValue),this.temp0=n.create(),this.temp1=n.create()},clone:function(){return new Le(this.attribute,this.calculator,this.position,this.rest,this.damping,this.stiffness,this.velocity,this.gravity,this.finishOnRest)},hasComputed:function(){return W(this.rest)||W(this.position)||W(this.gravity)||W(this.velocity)||W(this.damping)||W(this.stiffness)},updateVelocity:function(t){var e=this.calculator;this.temp1=e.copy(this.temp1,this.damping),this.temp1=e.mul(this.temp1,this.velocity),this.temp0=e.copy(this.temp0,this.position),this.temp0=e.sub(this.temp0,this.resolveRest()),this.temp0=e.mul(this.temp0,this.stiffness),this.temp0=e.sub(this.temp0,this.temp1),this.velocity=e.adds(this.velocity,this.temp0,t)}});var Ti={};Ti.values=new Re,Ti.and=new Ne,Ti["final"]=new Te,Ti.initial=new Ae,Ti.keyframe=new Me,Ti.move=new Ie,Ti.path=new Se,Ti.physics=new Ee,Ti.queue=new Ce,Ti.springs=new Fe,Ti.travel=new ze,Ti.tweenFrom=new Oe,Ti.tweenTo=new qe;var Ai={};Ai.number=new de,Ai["2d"]=new ge,Ai["3d"]=new me,Ai.quaternion=new ve,Ai.rgb=new ye,Ai.rgba=new be,Ai.string=new xe,Ai["default"]=Ai.number;var Mi={};Mi.object=new we,Mi["default"]=Mi.object;var Ii={};Ii.combo=function(t){for(var e=t.paths,i=0;i<e.length;i++)e[i]=ai(e[i]);return new $e(t.name,e,t.uniform,t.granularity)},Ii.compiled=function(t){return new ke(t.name,ai(t.path),t.pointCount)},Ii.cubic=function(t){var e=Ge(t.calculator),i=e.parse(t.defaultValue,e.ZERO);return new _e(t.name,e,e.parse(t.p0,i),e.parse(t.p1,i),e.parse(t.p2,i),e.parse(t.p3,i))},Ii.delta=function(t){var e=Ge(t.calculator),i=e.parse(t.defaultValue,e.ZERO);if(!t.deltas){t.deltas=[];for(var n=0;n<t.points.length;n++)t.deltas[n]=n/(t.points.length-1)}for(var n=0;n<t.points.length;n++)t.points[n]=e.parse(t.points[n],i);return new Pe(t.name,e,t.points,t.deltas)},Ii.jump=function(t){for(var e=Ge(t.calculator),i=e.parse(t.defaultValue,e.ZERO),n=0;n<t.points.length;n++)t.points[n]=e.parse(t.points[n],i);return new Ve(t.name,e,t.points)},Ii.keyframe=function(t){var e=Ge(t.calculator),n=e.parse(t.defaultValue,e.ZERO);if(!t.deltas){t.deltas=[];for(var r=0;r<t.points.length;r++)t.deltas[r]=r/(t.points.length-1)}var a=Ke(t.easings,null);if(!i(t.easings)||!u(t.easings)||null!==a){t.easings=[];for(var r=0;r<t.points.length;r++)t.easings[r]=a}for(var r=0;r<t.easings.length;r++)t.easings[r]=Ke(t.easings[r]);for(var r=0;r<t.points.length;r++)t.points[r]=e.parse(t.points[r],n);return new Ue(t.name,e,t.points,t.deltas,t.easings)},Ii.quadratic=function(t){var e=Ge(t.calculator),i=e.parse(t.defaultValue,e.ZERO);return new De(t.name,e,e.parse(t.p0,i),e.parse(t.p1,i),e.parse(t.p2,i))},Ii.tween=function(t){var e=Ge(t.calculator),i=e.parse(t.defaultValue,e.ZERO);return new He(t.name,e,e.parse(t.start,i),e.parse(t.end,i))};var Si={};Si.distance=function(t){return new Be(t.attribute,t.calculator,p(t.position,!0),p(t.rest,!0),t.distance,t.damping,t.stiffness,t.velocity,t.gravity,t.finishOnRest)},Si.linear=function(t){return new Le(t.attribute,t.calculator,p(t.position,!0),p(t.rest,!0),t.damping,t.stiffness,t.velocity,t.gravity,t.finishOnRest)};var Ei={},Ci=function(){var t={inf:Number.POSITIVE_INFINITY,infinity:Number.POSITIVE_INFINITY,infinite:Number.POSITIVE_INFINITY,once:1,twice:2,thrice:3,dozen:12,random:4};return function(e,i){if(r(e))return e;if(s(e)){if(e=e.toLowerCase(),e in t)return t[e];var n=parseInt(e);if(!isNaN(n))return n}return p(i,li.repeat)}}(),Fi=function(){var t=/^(-?\d*(\.\d+)|-?\d+)(ms|s|c|cs|third|jiffy|sec|m|min|h|hr)?$/,e={ms:1,c:100,cs:100,jiffy:1e3/60,third:1e3/60,s:1e3,sec:1e3,m:6e4,min:6e4,h:36e5,hr:36e5};return function(i,n){if(r(i))return Math.floor(i);if(s(i)){var a=t.exec(i);if(a){var i=parseFloat(a[1]),u=a[3];return u in e&&(i*=e[u]),Math.floor(i)}}return p(n,0)}}(),zi={};return re(k),k.anim8s=_,k.fn=y.prototype,_.fn=b.prototype,k.isRunning=P,k.isLive=V,k.setLive=U,k.animating=xi,k.requestRun=wi,k.activateAnimator=D,k.pushAnimator=H,k.activate=B,k.run=L,k.pause=Z,k.resume=j,k.stop=Y,k.end=G,k.finish=X,k.nopeat=Q,k.noop=e,k.isDefined=i,k.isFunction=n,k.isNumber=r,k.isBoolean=a,k.isString=s,k.isArray=u,k.isObject=o,k.isEmpty=h,k.now=fi,k.trim=pi,k.toArray=c,k.copy=l,k.extend=f,k.coalesce=p,k.constant=g,k.resolve=m,k.clamp=d,k.id=gi,k.Class=ci,k.Defaults=li,k.Animations=Ni,k.Calculators=Ai,k.Factories=Mi,k.Builders=N,k.Paths=Ii,k.Springs=Si,k.Easings=di,k.EasingTypes=mi,k.Options=Ei,k.Transitions=zi,k.animation=Ze,k.attrimatorsFor=je,k.calculator=Ge,k.delay=Xe,k.duration=Qe,k.easing=Ke,k.easingType=Je,k.factory=We,k.factoryFor=ti,k.number=ei,k.offset=ii,k.options=ni,k.builder=Ye,k.path=ai,k.repeat=Ci,k.scale=si,k.sleep=ui,k.spring=oi,k.time=Fi,k.transition=hi,k.Color=K,k.computed=J,k.isComputed=W,k.composite=ee,k.partial=ie,k.spread=ne,k.eventize=re,k.save=pe,k.Aninmation=v,k.Animator=y,k.Animators=b,k.Attrimator=x,k.AttrimatorMap=w,k.Calculator=T,k.Defer=A,k.DeferAnimator=M,k.Event=I,k.EventState=vi,k.Factory=S,k.FastMap=E,k.Movie=C,k.Oncer=F,k.Builder=N,k.Path=z,k.Physics=O,k.Sequence=q,k.Spring=$,k.Calculator2d=ge,k.Calculator3d=me,k.CalculatorNumber=de,k.CalculatorQuaternion=ve,k.CalculatorRGB=ye,k.CalculatorRGBA=be,k.CalculatorString=xe,k.object=Ri,k.FactoryObject=we,k.BuilderAnd=Ne,k.BuilderDeltas=Re,k.BuilderFinal=Te,k.BuilderInitial=Ae,k.BuilderKeyframe=Me,k.BuilderMove=Ie,k.BuilderPath=Se,k.BuilderPhysics=Ee,k.BuilderQueue=Ce,k.BuilderSpring=Fe,k.BuilderTravel=ze,k.BuilderTweenFrom=Oe,k.BuilderTweenTo=qe,k.PathCombo=$e,k.PathCompiled=ke,k.PathCubic=_e,k.PathDelta=Pe,k.PathJump=Ve,k.PathKeyframe=Ue,k.PathQuadratic=De,k.PathTween=He,k.SpringDistance=Be,k.SpringLinear=Le,k});
//# sourceMappingURL=anim8js.min.js.map