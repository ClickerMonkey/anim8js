m8=anim8=function(t){if(t instanceof anim8.Animator)return t;var e=anim8.factory(t,!0);return e===!1?!1:e.animatorFor(t)},m8s=anim8s=function(t){var e=anim8.factory(t,!0),i=[];if(e!==!1)return e.animatorsFor(t,i),new anim8.Animators(i);anim8.isArray(t)||(t=[t]);for(var i=[],n=0;n<t.length;n++){var a=anim8(t[n]);a!==!1&&i.push(a)}return new anim8.Animators(i)},anim8.noop=function(){},anim8.isDefined=function(t){return"undefined"!=typeof t},anim8.isFunction=function(t){return!!(t&&t.constructor&&t.call&&t.apply)},anim8.isNumber=function(t){return"number"==typeof t},anim8.isString=function(t){return"string"==typeof t},anim8.isArray=function(t){return t instanceof Array},anim8.isObject=function(t){return"object"==typeof t},anim8.isElement=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},anim8.now=function(){return Date.now?Date.now:function(){return(new Date).getTime()}}(),anim8.log=!1,anim8.size=function(t){if(anim8.isArray(t)||anim8.isString(t))return t.length;if(null===t)return 0;if(anim8.isObject(t)){var e=0;for(var i in t)e++;return e}return anim8.isNumber(t)?t:0},anim8.isEmpty=function(t){if(anim8.isArray(t)||anim8.isString(t))return t.length>0;if(null===t)return!0;if(anim8.isObject(t))for(var e in t)return!1;else if(anim8.isNumber(t))return 0!==t;return!0},anim8.copy=function(t){if(anim8.isArray(t)){for(var e=[],i=0;i<t.length;i++)e.push(anim8.copy(t[i]));t=e}else if(anim8.isObject(t)){var e={};for(var n in t)e[n]=anim8.copy(t[n]);t=e}return t},anim8.extend=function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];if(anim8.isObject(i))for(var n in i)n in t||(t[n]=i[n])}return t},anim8.coalesce=function(t,e,i,n){return anim8.isDefined(t)?t:anim8.isDefined(e)?e:anim8.isDefined(i)?i:n},anim8.time=function(){var t=/^(-?\d*(\.\d+)|-?\d+)(ms|s|c|cs|third|jiffy|sec|m|min|h|hr)?$/,e={ms:1,c:100,cs:100,jiffy:1e3/60,third:1e3/60,s:1e3,sec:1e3,m:6e4,min:6e4,h:36e5,hr:36e5};return function(i,n){if(anim8.isNumber(i))return Math.floor(i);if(anim8.isString(i)){var a=t.exec(i);if(a){var i=parseFloat(a[1]),r=a[3];return r in e&&(i*=e[r]),Math.floor(i)}}return anim8.coalesce(n,0)}}(),anim8.delay=function(t){return anim8.time(t,anim8.defaults.delay)},anim8.sleep=function(t){return anim8.time(t,anim8.defaults.sleep)},anim8.duration=function(t){return anim8.time(t,anim8.defaults.duration)},anim8.repeat=function(){var t={inf:Number.POSITIVE_INFINITY,infinity:Number.POSITIVE_INFINITY,infinite:Number.POSITIVE_INFINITY,once:1,twice:2,thrice:3,dozen:12,random:4};return function(e,i){if(anim8.isNumber(e))return e;if(anim8.isString(e)){if(e=e.toLowerCase(),e in t)return t[e];var n=parseInt(e);if(!isNaN(n))return n}return anim8.coalesce(i,anim8.defaults.repeat)}}(),anim8.scale=function(t,e){return anim8.isNumber(t)?t:anim8.coalesce(e,anim8.defaults.scale)},anim8.constant=function(t){return function(){return t}},anim8.clamp=function(t,e,i){return e>t?e:t>i?i:t},anim8.delegate=function(t,e){switch(e){case anim8.delegate.RETURN_THIS:return function(){for(var e=0;e<this.length;e++)this[e][t].apply(this[e],arguments);return this};case anim8.delegate.RETURN_RESULTS:return function(){for(var e=[],i=0;i<this.length;i++)e.push(this[i][t].apply(this[i],arguments));return e};case anim8.delegate.RETURN_FIRST:return function(){return 0===this.length?void 0:this[0][t].apply(this[0],arguments)};case anim8.delegate.RETURN_TRUE:return function(){for(var e=0;e<this.length;e++)if(this[e][t].apply(this[e],arguments))return!0;return!1}}return anim8.noop},anim8.delegate.RETURN_THIS="this",anim8.delegate.RETURN_RESULTS="results",anim8.delegate.RETURN_FIRST="first",anim8.delegate.RETURN_TRUE="true",anim8.eventize=function(t){var e=function(t,e,i,n,a){i=i.split(" "),anim8.isDefined(t[e])||(t[e]={});for(var r=0;r<i.length;r++)anim8.isDefined(t[e][i[r]])||(t[e][i[r]]=[]),t[e][i[r]].push([n,a||t])};t.on=function(t,i,n){e(this,"$on",t,i,n)},t.once=function(t,i,n){e(this,"$once",t,i,n)};var i=function(t,e,i){if(t&&e in t)for(var n=t[e],a=n.length-1;a>=0;a--)n[a][0]===i&&n.splice(a,1)};t.off=function(t){t=t.split(" ");for(var e=0;e<t.length;e++)i(this.$on,t[e]),i(this.$once,t[e])};var n=function(t,e,i,n){if(t&&e in t){for(var a=t[e],r=a.length,s=0;r>s;s++){var o=a[s];o[0].call(o[1],i)}n&&(a.length!==r?t[e]=a.slice(r):a.length=0)}};t.trigger=function(t,e){n(this.$on,t,e,!1),n(this.$once,t,e,!0)}},anim8.attribute=function(t){return anim8.isObject(t)&&anim8.isDefined(t.defaultValue)?t:anim8.isString(t)&&t in anim8.attribute?anim8.attribute[t]:anim8.attribute["default"]},anim8.attribute["default"]={defaultValue:0},anim8.defaults={duration:1e3,easing:"ease",teasing:"linear",delay:0,sleep:0,repeat:1,scale:1,transitionTime:500,transitionDelta:.2,transitionIntoDelta:.2,transitionEasing:"linear",cache:!1},anim8.Defer=function(t,e){this.$factory=t;for(var i=0;i<e.length;i++)this[e[i]]=this.$push(e[i])},anim8.Defer.prototype={$reset:function(t,e,i,n,a){this.$eventable=t,this.$previous=e,this.$eventType=i,this.$event=n,this.$callback=a,this.$calls=[],this.$next=[],this.$isRoot()&&this.$register()},$isRoot:function(){return this.$eventable===this.$previous},$register:function(){this.$eventable[this.$eventType](this.$event,this.$run,this)},$push:function(t){return function(){return this.$calls.push([t,arguments]),this}},$run:function(){anim8.isFunction(this.$callback)&&this.$callback.call(this.$eventable,this);for(var t=0;t<this.$calls.length;t++){var e=this.$calls[t];this.$eventable[e[0]].apply(this.$eventable,e[1])}for(var i=0;i<this.$next.length;i++)this.$next[i].$register()},undefer:function(){return this.$previous},defer:function(t,e,i){var n=new this.$factory(this.$eventable,this,t,e,i);return this.$next.push(n),n}},anim8.easing=function(t,e){if(anim8.isFunction(t))return t;if(anim8.isString(t)){if(t in anim8.easing)return anim8.easing[t];if(-1!==t.indexOf("-")){var i=t.split("-"),n=i[0],a=i[1];if(i.length>=2&&n in anim8.easing&&a in anim8.easingType)return anim8.easingType[a](anim8.easing[n])}}if(anim8.isArray(t)&&4===t.length&&anim8.isNumber(t[0])&&anim8.isNumber(t[1])&&anim8.isNumber(t[2])&&anim8.isNumber(t[3]))return anim8.easing.bezier.apply(null,t);if(!anim8.isDefined(t))return anim8.easing["default"];if(anim8.isDefined(e))return e;throw t+" is not a valid easing"},anim8.isEasingName=function(t){if(t in anim8.easing)return!0;var e=t.split("-"),i=e[0],n=e[1];return e.length>=2&&i in anim8.easing&&n in anim8.easingType?!0:!1},anim8.easingType=function(t,e){if(anim8.isFunction(t))return t;if(anim8.isString(t)&&t in anim8.easingType)return anim8.easingType[t];if(e)return!1;throw t+" is not a valid easing type"},anim8.easingType["in"]=function(t){return function(e){return t(e)}},anim8.easingType.out=function(t){return function(e){return 1-t(1-e)}},anim8.easingType.inout=function(t){return function(e){return.5>e?.5*t(2*e):1-.5*t(2-2*e)}},anim8.easingType.pong=function(t){return function(e){return t(.5>e?2*e:2-2*e)}},anim8.easingType.yoyo=anim8.easingType.pong,anim8.easing.linear=function(t){return t},anim8.easing.quad=function(t){return t*t},anim8.easing.ease=function(t){var e=1-t,i=e*e,n=t*t,a=.3*i*t+3*e*n+n*t,r=1-i*i;return a*e+r*t},anim8.easing.cubic=function(t){return t*t*t},anim8.easing.quartic=function(t){var e=t*t;return e*e},anim8.easing.quintic=function(t){var e=t*t;return e*e*t},anim8.easing.back=function(t){var e=t*t,i=e*t;return i+e-t},anim8.easing.sine=function(t){return Math.sin(1.57079632679*t)},anim8.easing.overshot=function(t){return(1-.7*t)*t*(10/3)},anim8.easing.elastic=function(t){var e=t*t,i=e*t,n=e*(2*i+e-4*t+2),a=-Math.sin(10.9955742876*t);return n*a},anim8.easing.revisit=function(t){return Math.abs(t-Math.sin(3.14159265359*t))},anim8.easing.lasso=function(t){return 1-Math.cos(t*t*t*36)*(1-t)},anim8.easing.slowbounce=function(t){var e=t*t;return 1-Math.abs((1-e)*Math.cos(e*t*14.8044066016))},anim8.easing.bounce=function(t){return 1-Math.abs((1-t)*Math.cos(t*t*14.8044066016))},anim8.easing.smallbounce=function(t){var e=1-t;return 1-Math.abs(e*e*Math.cos(t*t*14.8044066016))},anim8.easing.tinybounce=function(t){var e=1-t;return 1-Math.abs(e*e*Math.cos(t*t*7))},anim8.easing.hesitant=function(t){return Math.cos(t*t*12)*t*(1-t)+t},anim8.easing.sqrt=function(t){return Math.sqrt(t)},anim8.easing.sqrtf=function(t){var e=1-t,i=e*e;return.5*(1-i*i+t)},anim8.easing.log10=function(t){return.5*(Math.log10(t+.01)+2)/1.0021606868913213},anim8.easing.slingshot=function(t){if(.7>t)return t*-.357;var e=t-.7;return.5*(e*e*27.5-.5)},anim8.easing.circular=function(t){return 1-Math.sqrt(1-t*t)},anim8.easing.gentle=function(t){return 3*(1-t)*t*t+t*t*t},anim8.easing.bezier=function(t,e,i,n){function a(t,e){return 1-3*e+3*t}function r(t,e){return 3*e-6*t}function s(t){return 3*t}function o(t,e,i){return((a(e,i)*t+r(e,i))*t+s(e))*t}function u(t,e,i){return 3*a(e,i)*t*t+2*r(e,i)*t+s(e)}function m(e){for(var n=e,a=0;4>a;++a){var r=u(n,t,i);if(0==r)return n;var s=o(n,t,i)-e;n-=s/r}return n}return function(t){return o(m(t),e,n)}},anim8.easing.cssEase=anim8.easing.ease,anim8.easing.cssEaseIn=anim8.easing.quad,anim8.easing.cssEaseOut=anim8.easingType.out(anim8.easing.quad),anim8.easing.cssEaseInOut=anim8.easingType.inout(anim8.easing.quad),anim8.easing.cssLinear=anim8.easing.linear,anim8.easing["default"]=anim8.easing.ease,anim8.color=function(t,e,i,n){return{r:anim8.coalesce(t,255),g:anim8.coalesce(e,255),b:anim8.coalesce(i,255),a:anim8.coalesce(n,1)}},anim8.color.parsers=[{parse:function(t){if("object"==typeof t){var e={r:this.parseComponent(t.r,"parseInt",255),g:this.parseComponent(t.g,"parseInt",255),b:this.parseComponent(t.b,"parseInt",255),a:this.parseComponent(t.a,"parseFloat",1)};return e}return!1},parseComponent:function(t,e,i){var n=typeof t,a=i;if("string"===n){var r=window[e](n,10);isNaN(r)||(a=r)}else"number"===n&&(a=t);return a>i&&(a=i),0>a&&(a=0),a}},{names:{transparent:{r:255,g:256,b:255,a:0},aliceblue:{r:240,g:248,b:255,a:1},antiquewhite:{r:250,g:235,b:215,a:1},aqua:{r:0,g:255,b:255,a:1},aquamarine:{r:127,g:255,b:212,a:1},azure:{r:240,g:255,b:255,a:1},beige:{r:245,g:245,b:220,a:1},bisque:{r:255,g:228,b:196,a:1},black:{r:0,g:0,b:0,a:1},blanchedalmond:{r:255,g:235,b:205,a:1},blue:{r:0,g:0,b:255,a:1},blueviolet:{r:138,g:43,b:226,a:1},brown:{r:165,g:42,b:42,a:1},burlywood:{r:222,g:184,b:135,a:1},cadetblue:{r:95,g:158,b:160,a:1},chartreuse:{r:127,g:255,b:0,a:1},chocolate:{r:210,g:105,b:30,a:1},coral:{r:255,g:127,b:80,a:1},cornflowerblue:{r:100,g:149,b:237,a:1},cornsilk:{r:255,g:248,b:220,a:1},crimson:{r:220,g:20,b:60,a:1},cyan:{r:0,g:255,b:255,a:1},darkblue:{r:0,g:0,b:139,a:1},darkcyan:{r:0,g:139,b:139,a:1},darkgoldenrod:{r:184,g:134,b:11,a:1},darkgray:{r:169,g:169,b:169,a:1},darkgreen:{r:0,g:100,b:0,a:1},darkkhaki:{r:189,g:183,b:107,a:1},darkmagenta:{r:139,g:0,b:139,a:1},darkolivegreen:{r:85,g:107,b:47,a:1},darkorange:{r:255,g:140,b:0,a:1},darkorchid:{r:153,g:50,b:204,a:1},darkred:{r:139,g:0,b:0,a:1},darksalmon:{r:233,g:150,b:122,a:1},darkseagreen:{r:143,g:188,b:143,a:1},darkslateblue:{r:72,g:61,b:139,a:1},darkslategray:{r:47,g:79,b:79,a:1},darkturquoise:{r:0,g:206,b:209,a:1},darkviolet:{r:148,g:0,b:211,a:1},deeppink:{r:255,g:20,b:147,a:1},deepskyblue:{r:0,g:191,b:255,a:1},dimgray:{r:105,g:105,b:105,a:1},dodgerblue:{r:30,g:144,b:255,a:1},feldspar:{r:209,g:146,b:117,a:1},firebrick:{r:178,g:34,b:34,a:1},floralwhite:{r:255,g:250,b:240,a:1},forestgreen:{r:34,g:139,b:34,a:1},fuchsia:{r:255,g:0,b:255,a:1},gainsboro:{r:220,g:220,b:220,a:1},ghostwhite:{r:248,g:248,b:255,a:1},gold:{r:255,g:215,b:0,a:1},goldenrod:{r:218,g:165,b:32,a:1},gray:{r:128,g:128,b:128,a:1},green:{r:0,g:128,b:0,a:1},greenyellow:{r:173,g:255,b:47,a:1},honeydew:{r:240,g:255,b:240,a:1},hotpink:{r:255,g:105,b:180,a:1},indianred:{r:205,g:92,b:92,a:1},indigo:{r:75,g:0,b:130,a:1},ivory:{r:255,g:255,b:240,a:1},khaki:{r:240,g:230,b:140,a:1},lavender:{r:230,g:230,b:250,a:1},lavenderblush:{r:255,g:240,b:245,a:1},lawngreen:{r:124,g:252,b:0,a:1},lemonchiffon:{r:255,g:250,b:205,a:1},lightblue:{r:173,g:216,b:230,a:1},lightcoral:{r:240,g:128,b:128,a:1},lightcyan:{r:224,g:255,b:255,a:1},lightgoldenrodyellow:{r:250,g:250,b:210,a:1},lightgrey:{r:211,g:211,b:211,a:1},lightgreen:{r:144,g:238,b:144,a:1},lightpink:{r:255,g:182,b:193,a:1},lightsalmon:{r:255,g:160,b:122,a:1},lightseagreen:{r:32,g:178,b:170,a:1},lightskyblue:{r:135,g:206,b:250,a:1},lightslateblue:{r:132,g:112,b:255,a:1},lightslategray:{r:119,g:136,b:153,a:1},lightsteelblue:{r:176,g:196,b:222,a:1},lightyellow:{r:255,g:255,b:224,a:1},lime:{r:0,g:255,b:0,a:1},limegreen:{r:50,g:205,b:50,a:1},linen:{r:250,g:240,b:230,a:1},magenta:{r:255,g:0,b:255,a:1},maroon:{r:128,g:0,b:0,a:1},mediumaquamarine:{r:102,g:205,b:170,a:1},mediumblue:{r:0,g:0,b:205,a:1},mediumorchid:{r:186,g:85,b:211,a:1},mediumpurple:{r:147,g:112,b:216,a:1},mediumseagreen:{r:60,g:179,b:113,a:1},mediumslateblue:{r:123,g:104,b:238,a:1},mediumspringgreen:{r:0,g:250,b:154,a:1},mediumturquoise:{r:72,g:209,b:204,a:1},mediumvioletred:{r:199,g:21,b:133,a:1},midnightblue:{r:25,g:25,b:112,a:1},mintcream:{r:245,g:255,b:250,a:1},mistyrose:{r:255,g:228,b:225,a:1},moccasin:{r:255,g:228,b:181,a:1},navajowhite:{r:255,g:222,b:173,a:1},navy:{r:0,g:0,b:128,a:1},oldlace:{r:253,g:245,b:230,a:1},olive:{r:128,g:128,b:0,a:1},olivedrab:{r:107,g:142,b:35,a:1},orange:{r:255,g:165,b:0,a:1},orangered:{r:255,g:69,b:0,a:1},orchid:{r:218,g:112,b:214,a:1},palegoldenrod:{r:238,g:232,b:170,a:1},palegreen:{r:152,g:251,b:152,a:1},paleturquoise:{r:175,g:238,b:238,a:1},palevioletred:{r:216,g:112,b:147,a:1},papayawhip:{r:255,g:239,b:213,a:1},peachpuff:{r:255,g:218,b:185,a:1},peru:{r:205,g:133,b:63,a:1},pink:{r:255,g:192,b:203,a:1},plum:{r:221,g:160,b:221,a:1},powderblue:{r:176,g:224,b:230,a:1},purple:{r:128,g:0,b:128,a:1},red:{r:255,g:0,b:0,a:1},rosybrown:{r:188,g:143,b:143,a:1},royalblue:{r:65,g:105,b:225,a:1},saddlebrown:{r:139,g:69,b:19,a:1},salmon:{r:250,g:128,b:114,a:1},sandybrown:{r:244,g:164,b:96,a:1},seagreen:{r:46,g:139,b:87,a:1},seashell:{r:255,g:245,b:238,a:1},sienna:{r:160,g:82,b:45,a:1},silver:{r:192,g:192,b:192,a:1},skyblue:{r:135,g:206,b:235,a:1},slateblue:{r:106,g:90,b:205,a:1},slategray:{r:112,g:128,b:144,a:1},snow:{r:255,g:250,b:250,a:1},springgreen:{r:0,g:255,b:127,a:1},steelblue:{r:70,g:130,b:180,a:1},tan:{r:210,g:180,b:140,a:1},teal:{r:0,g:128,b:128,a:1},thistle:{r:216,g:191,b:216,a:1},tomato:{r:255,g:99,b:71,a:1},turquoise:{r:64,g:224,b:208,a:1},violet:{r:238,g:130,b:238,a:1},violetred:{r:208,g:32,b:144,a:1},wheat:{r:245,g:222,b:179,a:1},white:{r:255,g:255,b:255,a:1},whitesmoke:{r:245,g:245,b:245,a:1},yellow:{r:255,g:255,b:0,a:1},yellowgreen:{r:154,g:205,b:50,a:1}},parse:function(t){if("string"==typeof t&&(t=t.toLowerCase(),t in this.names)){var e=this.names[t];return{r:e.r,g:e.g,b:e.b,a:e.a}}return!1}},{regex:/^#?([0-9A-F])([0-9A-F])([0-9A-F])$/i,parse:function(t){var e=this.regex.exec(t);return null!==e?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}:!1}},{regex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,parse:function(t){var e=this.regex.exec(t);return null!==e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:1}:!1}},{regex:/^rgb\(\s*(\d{3})\s*,\s*(\d{3})\s*,\s*(\d{3})\s*\)$/i,parse:function(t){var e=this.regex.exec(t);return null!==e?{r:Math.min(255,parseInt(e[1],10)),g:Math.min(255,parseInt(e[2],10)),b:Math.min(255,parseInt(e[3],10)),a:1}:!1}},{regex:/^rgba\(\s*(\d{3})\s*,\s*(\d{3})\s*,\s*(\d{3})\s*,\s*([01]?\.\d+|[01])\)$/i,parse:function(t){var e=this.regex.exec(t);return null!==e?{r:Math.min(255,parseInt(e[1],10)),g:Math.min(255,parseInt(e[2],10)),b:Math.min(255,parseInt(e[3],10)),a:Math.min(1,parseFloat(e[4]))}:!1}}],anim8.color.parse=function(t){for(var e=(m8.color.parsers,0);e<this.parsers.length;e++){var i=this.parsers[e].parse(t);if(i!==!1)return i}return this.invalidColor},anim8.color.format=function(t){var e=anim8.clamp(anim8.coalesce(t.a,1),0,1),i=Math.floor(anim8.clamp(anim8.coalesce(t.r,255),0,255)),n=Math.floor(anim8.clamp(anim8.coalesce(t.g,255),0,255)),a=Math.floor(anim8.clamp(anim8.coalesce(t.b,255),0,255));if(1===e){var r=i.toString(16),s=n.toString(16),o=a.toString(16);return 1==r.length&&(r="0"+r),1==s.length&&(s="0"+s),1==o.length&&(o="0"+o),"#"+r+s+o}return"rgba("+i+","+n+","+a+","+e+")"},anim8.color.invalidColor=anim8.color.defaultValue={r:255,g:255,b:255,a:1},anim8.calculator=function(t){return anim8.isObject(t)?t:anim8.isString(t)&&t in anim8.calculator?anim8.calculator[t]:anim8.calculator["default"]},anim8.calculator.create=function(t,e){var i={clone:function(t){return this.copy(this.create(),t)},scale:function(t,e){return this.adds(t,t,e-1)},add:function(t,e){return this.adds(t,e,1)},sub:function(t,e){return this.adds(t,e,-1)},interpolate:function(t,e,i,n){return t=this.zero(t),t=this.adds(t,e,1-n),t=this.adds(t,i,n)},distance:function(t,e){return Math.sqrt(this.distanceSq(t,e))},isPristine:function(t){return t===!0||anim8.isFunction(t)}};for(var n in i)n in e||(e[n]=i[n]);anim8.calculator[t]=e},anim8.calculator.create("number",{parse:function(t,e){return this.isPristine(t)?t:anim8.isNumber(t)?t:anim8.isString(t)&&(t=parseFloat(t),!isNaN(t))?t:e},copy:function(t,e){return e},create:function(){return 0},zero:function(){return 0},adds:function(t,e,i){return t+=e*i},mul:function(t,e){return t*=e},distanceSq:function(t,e){var i=t-e;return i*i},isValid:function(t){return"number"==typeof t},isNaN:function(t){return isNaN(t)},isZero:function(t,e){return Math.abs(t)<e},isEqual:function(t,e,i){return Math.abs(t-e)<i}}),anim8.calculator.create("2d",{parse:function(t,e){if(this.isPristine(t))return t;if(anim8.isNumber(t))return{x:t,y:t};if(anim8.isObject(t))return{x:anim8.coalesce(t.x,e.x),y:anim8.coalesce(t.y,e.y)};if(anim8.isString(t)){var i={left:0,right:100,middle:50,center:50,top:0,bottom:100};if(-1===t.indexOf(" ")){var n=parseFloat(t);if(!isNaN(n)||t in i)return{x:t in i?i[t]:n,y:t in i?i[t]:n}}else{var a=t.split(" "),n=parseFloat(a[0]),r=parseFloat(a[1]);if((!isNaN(n)||a[0]in i)&&(!isNaN(r)||a[1]in i))return{x:a[0]in i?i[a[0]]:n,y:a[1]in i?i[a[1]]:r}}}return anim8.isDefined(e)?this.clone(e):!1},copy:function(t,e){return t.x=e.x,t.y=e.y,t},create:function(){return{x:0,y:0}},zero:function(t){return t.x=0,t.y=0,t},adds:function(t,e,i){return t.x+=e.x*i,t.y+=e.y*i,t},mul:function(t,e){return t.x*=e.x,t.y*=e.y,t},distanceSq:function(t,e){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n},isValid:function(t){return"object"==typeof t&&"x"in t&&"y"in t},isNaN:function(t){return isNaN(t.x)||isNaN(t.y)},isZero:function(t,e){return Math.abs(t.x)<e&&Math.abs(t.y)<e},isEqual:function(t,e,i){return Math.abs(t.x-e.x)<i&&Math.abs(t.y-e.y)<i}}),anim8.calculator.create("3d",{parse:function(t,e){return this.isPristine(t)?t:anim8.isNumber(t)?{x:t,y:t,z:t}:anim8.isObject(t)?{x:anim8.coalesce(t.x,e.x),y:anim8.coalesce(t.y,e.y),z:anim8.coalesce(t.z,e.z)}:anim8.isDefined(e)?this.clone(e):!1},copy:function(t,e){return t.x=e.x,t.y=e.y,t.z=e.z,t},create:function(){return{x:0,y:0,z:0}},zero:function(t){return t.x=0,t.y=0,t.z=0,t},adds:function(t,e,i){return t.x+=e.x*i,t.y+=e.y*i,t.z+=e.z*i,t},mul:function(t,e){return t.x*=e.x,t.y*=e.y,t.z*=e.z,t},distanceSq:function(t,e){var i=t.x-e.x,n=t.y-e.y,a=t.z-e.z;return i*i+n*n+a*a},isValid:function(t){return"object"==typeof t&&"x"in t&&"y"in t&&"z"in t},isNaN:function(t){return isNaN(t.x)||isNaN(t.y)||isNaN(t.z)},isZero:function(t,e){return Math.abs(t.x)<e&&Math.abs(t.y)<e&&Math.abs(t.z)<e},isEqual:function(t,e,i){return Math.abs(t.x-e.x)<i&&Math.abs(t.y-e.y)<i&&Math.abs(t.z-e.z)<i}}),anim8.calculator.create("quaternion",{parse:function(t,e){return this.isPristine(t)?t:anim8.isNumber(t)?{x:0,y:0,z:1,angle:t}:anim8.isObject(t)?{x:anim8.coalesce(t.x,e.x),y:anim8.coalesce(t.y,e.y),z:anim8.coalesce(t.z,e.z),angle:anim8.coalesce(t.angle,e.angle)}:anim8.isDefined(e)?this.clone(e):!1},copy:function(t,e){return t.x=e.x,t.y=e.y,t.z=e.z,t.angle=e.angle,t},create:function(){return{x:0,y:0,z:0,angle:0}},zero:function(t){return t.x=0,t.y=0,t.z=0,t.angle=0,t},adds:function(t,e,i){return t.x+=e.x*i,t.y+=e.y*i,t.z+=e.z*i,t.angle+=e.angle*i,t},mul:function(t,e){return t.x*=e.x,t.y*=e.y,t.z*=e.z,t.angle*=e.angle,t},distanceSq:function(t,e){var i=t.x-e.x,n=t.y-e.y,a=t.z-e.z,r=t.angle-e.angle;return i*i+n*n+a*a+r*r},isValid:function(t){return"object"==typeof t&&"x"in t&&"y"in t&&"z"in t&&"angle"in t},isNaN:function(t){return isNaN(t.x)||isNaN(t.y)||isNaN(t.z)||isNaN(t.angle)},isZero:function(t,e){return Math.abs(t.x)<e&&Math.abs(t.y)<e&&Math.abs(t.z)<e&&Math.abs(t.angle)<e},isEqual:function(t,e,i){return Math.abs(t.x-e.x)<i&&Math.abs(t.y-e.y)<i&&Math.abs(t.z-e.z)<i&&Math.abs(t.angle-e.angle)<i}}),anim8.calculator.create("rgb",{parse:function(t){return this.isPristine(t)?t:anim8.isNumber(t)?{r:t,g:t,b:t}:anim8.color.parse(t)},copy:function(t,e){return t.r=e.r,t.g=e.g,t.b=e.b,t},create:function(){return{r:0,g:0,b:0}},zero:function(t){return t.r=0,t.g=0,t.b=0,t},adds:function(t,e,i){return t.r+=e.r*i,t.g+=e.g*i,t.b+=e.b*i,t},mul:function(t,e){return t.r*=e.r,t.g*=e.g,t.b*=e.b,t},distanceSq:function(t,e){var i=t.r-e.r,n=t.g-e.g,a=t.b-e.b;return i*i+n*n+a*a},isValid:function(t){return anim8.isObject(t)&&"r"in t&&"g"in t&&"b"in t},isNaN:function(t){return isNaN(t.r)||isNaN(t.g)||isNaN(t.b)},isZero:function(t,e){return Math.abs(t.r)<e&&Math.abs(t.g)<e&&Math.abs(t.b)<e},isEqual:function(t,e,i){return Math.abs(t.r-e.r)<i&&Math.abs(t.g-e.g)<i&&Math.abs(t.b-e.b)<i}}),anim8.calculator.create("rgba",{parse:function(t){return this.isPristine(t)?t:anim8.isNumber(t)?{r:t,g:t,b:t,a:1}:anim8.color.parse(t)},copy:function(t,e){return t.r=e.r,t.g=e.g,t.b=e.b,t.a=e.a,t},create:function(){return{r:0,g:0,b:0,a:0}},zero:function(t){return t.r=0,t.g=0,t.b=0,t.a=0,t},adds:function(t,e,i){return t.r+=e.r*i,t.g+=e.g*i,t.b+=e.b*i,t.a+=e.a*i,t},mul:function(t,e){return t.r*=e.r,t.g*=e.g,t.b*=e.b,t.a*=e.a,t},distanceSq:function(t,e){var i=t.r-e.r,n=t.g-e.g,a=t.b-e.b,r=t.a-e.a;return i*i+n*n+a*a+r*r},isValid:function(t){return anim8.isObject(t)&&"r"in t&&"g"in t&&"b"in t&&"a"in t},isNaN:function(t){return isNaN(t.r)||isNaN(t.g)||isNaN(t.b)||isNaN(t.a)},isZero:function(t,e){return Math.abs(t.r)<e&&Math.abs(t.g)<e&&Math.abs(t.b)<e&&Math.abs(t.a)<e},isEqual:function(t,e,i){return Math.abs(t.r-e.r)<i&&Math.abs(t.g-e.g)<i&&Math.abs(t.b-e.b)<i&&Math.abs(t.a-e.a)<i}}),anim8.calculator["default"]=anim8.calculator.number,anim8.path=function(t){return t instanceof anim8.Path?t:anim8.isString(t)&&t in anim8.path?anim8.path[spring]:anim8.isObject(t)&&t.type in anim8.path?anim8.path[t.type](t):!1},anim8.Path=function(){},anim8.Path.prototype={reset:function(t,e,i){this.name=t,this.calculator=anim8.calculator(e),this.points=i,this.trues=this.hasTrue()},compute:function(t){return t},hasTrue:function(){for(var t=this.points,e=0;e<t.length;e++)if(t[e]===!0)return!0;return!1},reference:function(){return this.trues?this.copy():this},last:function(){return this.points[this.points.length-1]},first:function(){return this.points[0]},point:function(t){return this.points[t]},resolvePoint:function(t){var e=this.points[t];return anim8.isFunction(e)&&(e=e()),e}},anim8.DeltaPath=function(t,e,i,n){this.reset(t,e,i),this.deltas=n},anim8.DeltaPath.prototype=new anim8.Path,anim8.DeltaPath.prototype.compute=function(t,e){for(var i=this.deltas,n=i.length-2,a=0;i[a+1]<e&&n>a;)a++;var r=i[a],s=i[a+1],o=(e-r)/(s-r),u=this.resolvePoint(a),m=this.resolvePoint(a+1);return this.calculator.interpolate(t,u,m,o)},anim8.DeltaPath.prototype.copy=function(){return new anim8.DeltaPath(this.name,anim8.copy(this.points),anim8.copy(this.deltas),this.calculator)},anim8.path.delta=function(t){var e=anim8.calculator(t.calculator);if(!t.deltas){t.deltas=[];for(var i=0;i<t.points.length;i++)t.deltas[i]=i/(t.points.length-1)}for(var i=0;i<t.points.length;i++)t.points[i]=e.parse(t.points[i]);return new anim8.DeltaPath(t.name,e,t.points,t.deltas)},anim8.PointPath=function(t,e,i){this.reset(t,e,[i])},anim8.PointPath.prototype=new anim8.Path,anim8.PointPath.prototype.compute=function(t){return this.calculator.copy(t,this.resolvePoint(0))},anim8.PointPath.prototype.copy=function(){return new anim8.PointPath(this.name,this.calculator,this.points[0])},anim8.path.point=function(t){var e=anim8.calculator(t.calculator);return new anim8.PointPath(t.name,e,e.parse(t.point))},anim8.KeyframePath=function(t,e,i,n,a){this.reset(t,e,i),this.deltas=n,this.easings=a},anim8.KeyframePath.prototype=new anim8.Path,anim8.KeyframePath.prototype.compute=function(t,e){var i=this.deltas,n=i.length-2;if(e<i[0])return!1;if(e>i[i.length-1])return this.points[i.length-1];for(var a=0;i[a+1]<e&&n>a;)a++;var r=i[a],s=i[a+1],o=(e-r)/(s-r),u=this.resolvePoint(a),m=this.resolvePoint(a+1),l=this.easings[a];return this.calculator.interpolate(t,u,m,l(o))},anim8.KeyframePath.prototype.copy=function(){return new anim8.KeyframePath(this.name,this.calculator,anim8.copy(this.points),anim8.copy(this.deltas),anim8.copy(this.easings))},anim8.path.keyframe=function(){var t=anim8.calculator(path.calculator);if(!path.deltas){path.deltas=[];for(var e=0;e<path.points.length;e++)path.deltas[e]=e/(path.points.length-1)}var i=anim8.easing(path.easings,null);if(!anim8.isDefined(path.easings)||!anim8.isArray(path.easings)||null!==i){path.easings=[];for(var e=0;e<path.points.length;e++)path.easings[e]=i}for(var e=0;e<path.easings.length;e++)path.easings[e]=anim8.easing(path.easings[e]);for(var e=0;e<path.points.length;e++)path.points[e]=t.parse(path.points[e]);return new anim8.KeyframePath(path.name,t,path.points,path.deltas,path.easings)},anim8.CubicPath=function(t,e,i,n,a,r){this.reset(t,e,[i,n,a,r])},anim8.CubicPath.prototype=new anim8.Path,anim8.CubicPath.prototype.compute=function(t,e){var i=this.calculator,n=e*e,a=e*n,r=1-e,s=r*r,o=r*s;return t=i.copy(t,this.resolvePoint(0)),t=i.scale(t,o),t=i.adds(t,this.resolvePoint(1),3*s*e),t=i.adds(t,this.resolvePoint(2),3*r*n),t=i.adds(t,this.resolvePoint(3),a)},anim8.CubicPath.prototype.copy=function(){return new anim8.CubicPath(this.name,this.calculator,this.points[0],this.points[1],this.points[2],this.points[3])},anim8.path.cubic=function(t){var e=anim8.calculator(t.calculator);return new anim8.CubicPath(t.name,e,e.parse(t.p0),e.parse(t.p1),e.parse(t.p2),e.parse(t.p3))},anim8.QuadraticPath=function(t,e,i,n,a){this.reset(t,e,[i,n,a])},anim8.QuadraticPath.prototype=new anim8.Path,anim8.QuadraticPath.prototype.compute=function(t,e){var i=this.calculator,n=e*e,a=1-e,r=a*a;return t=i.copy(t,this.resolvePoint(0)),t=i.scale(t,r),t=i.adds(t,this.resolvePoint(1),2*a*e),t=i.adds(t,this.resolvePoint(2),n)},anim8.QuadraticPath.prototype.copy=function(){return new anim8.QuadraticPath(this.name,this.calculator,this.points[0],this.points[1],this.points[2])},anim8.path.quadratic=function(t){var e=anim8.calculator(t.calculator);return new anim8.QuadraticPath(t.name,e,e.parse(t.p0),e.parse(t.p1),e.parse(t.p2))},anim8.CompiledPath=function(t,e,i){for(var n=e.calculator,a=[],r=0;i>r;r++)a.push(e.compute(n.create(),r/(i-1)));this.reset(t,n,a)},anim8.CompiledPath.prototype=new anim8.Path,anim8.CompiledPath.prototype.compute=function(t,e){var i=Math.floor(e*this.points.length),n=Math.min(i,this.points.length-1);return this.calculator.copy(t,this.resolvePoint(n))},anim8.CompiledPath.prototype.copy=function(){return new anim8.CompiledPath(this.name,this,this.points.length)},anim8.path.compiled=function(t){return new anim8.CompiledPath(t.name,anim8.path(t.path),t.pointCount)},anim8.Tween=function(t,e,i,n){this.reset(t,e,[i,n])},anim8.Tween.prototype=new anim8.Path,anim8.Tween.prototype.compute=function(t,e){return this.calculator.interpolate(t,this.resolvePoint(0),this.resolvePoint(1),e)},anim8.Tween.prototype.copy=function(){return new anim8.Tween(this.name,this.calculator,this.points[0],this.points[1])},anim8.path.tween=function(t){var e=anim8.calculator(t.calculator);return new anim8.Tween(t.name,e,e.parse(t.start),e.parse(t.end))},anim8.JumpPath=function(t,e,i){this.reset(t,e,i)},anim8.JumpPath.prototype=new anim8.Path,anim8.JumpPath.prototype.compute=function(t,e){var i=Math.floor(e*this.points.length),n=Math.min(i,this.points.length-1);return this.calculator.copy(t,this.resolvePoint(n))},anim8.JumpPath.prototype.copy=function(){return new anim8.JumpPath(this.name,this.calculator,anim8.copy(this.points))},anim8.path.jump=function(t){for(var e=anim8.calculator(t.calculator),i=0;i<t.points.length;i++)t.points[i]=e.parse(t.points[i]);return new anim8.JumpPath(t.name,e,t.points)},anim8.spring=function(t){return t instanceof anim8.Spring?t:anim8.isString(t)&&t in anim8.spring?anim8.spring[t]:anim8.isObject(t)&&t.type in anim8.spring?anim8.spring[t.type](t):!1},anim8.Spring=function(){},anim8.Spring.prototype={reset:function(t,e,i,n,a){var r=anim8.calculator(e),s=anim8.attribute(t);this.attribute=t,this.calculator=r,this.rest=r.parse(i,s.defaultValue),this.position=r.parse(n,s.defaultValue),this.gravity=r.parse(a,r.create()),this.velocity=r.create(),this.time=0},update:function(t,e){0===this.time&&(this.time=t);var i=this.calculator,n=Math.min(.001*(t-this.time),anim8.Spring.MAX_DT),a=i.copy({},this.position);this.updateVelocity(n),this.velocity=i.adds(this.velocity,this.gravity,n),this.position=i.adds(this.position,this.velocity,n),this.time=t;var r=!i.isEqual(a,this.position,anim8.Spring.EPSILON);return r&&(e[this.attribute]=this.position),r},resolveRest:function(){return anim8.isFunction(this.rest)?this.rest():this.rest},updateVelocity:function(){}},anim8.Spring.MAX_DT=.1,anim8.Spring.EPSILON=1e-4,anim8.BoxSpring=function(t,e,i,n,a,r){var s=anim8.attribute(t);this.reset(t,e,n,i,r),this.acceleration=this.calculator.create(),this.constant=this.calculator.parse(a,s.defaultValue)},anim8.BoxSpring.prototype=new anim8.Spring,anim8.BoxSpring.prototype.updateVelocity=function(t){var e=this.calculator;this.acceleration=e.copy(this.acceleration,this.resolveRest()),this.acceleration=e.sub(this.acceleration,this.position),this.acceleration=e.mul(this.acceleration,this.constant),this.velocity=e.adds(this.velocity,this.acceleration,t)},anim8.spring.box=function(t){return new anim8.BoxSpring(t.attribute,anim8.calculator(anim8.attribute(t.attribute).calculator),t.position,t.rest,t.constant,t.gravity)},anim8.LinearSpring=function(t,e,i,n,a,r,s){var o=anim8.attribute(t);this.reset(t,e,n,i,s),this.damping=this.calculator.parse(a,o.defaultValue),this.stiffness=this.calculator.parse(r,o.defaultValue),this.temp0=this.calculator.create(),this.temp1=this.calculator.create()},anim8.LinearSpring.prototype=new anim8.Spring,anim8.LinearSpring.prototype.updateVelocity=function(t){var e=this.calculator;this.temp1=e.copy(this.temp1,this.damping),this.temp1=e.mul(this.temp1,this.velocity),this.temp0=e.copy(this.temp0,this.position),this.temp0=e.sub(this.temp0,this.resolveRest()),this.temp0=e.mul(this.temp0,this.stiffness),this.temp0=e.sub(this.temp0,this.temp1),this.velocity=e.adds(this.velocity,this.temp0,t)},anim8.spring.linear=function(t){return new anim8.LinearSpring(t.attribute,anim8.calculator(anim8.attribute(t.attribute).calculator),t.position,t.rest,t.damping,t.stiffness,t.gravity)},anim8.DistanceSpring=function(t,e,i,n,a,r,s,o){this.reset(t,e,n,i,o),this.distance=a,this.damping=r,this.stiffness=s,this.temp=this.calculator.create()},anim8.DistanceSpring.prototype=new anim8.Spring,anim8.DistanceSpring.prototype.updateVelocity=function(t){var e=this.calculator,i=this.resolveRest(),n=e.distance(this.position,i);this.temp=e.copy(this.temp,this.position),this.temp=e.sub(this.temp,i),0!==n&&(this.temp=e.scale(this.temp,1/n),this.temp=e.scale(this.temp,(n-this.distance)*this.stiffness)),this.temp=e.adds(this.temp,this.velocity,-this.damping),this.velocity=e.adds(this.velocity,this.temp,t)},anim8.spring.distance=function(t){return new anim8.DistanceSpring(t.attribute,anim8.calculator(anim8.attribute(t.attribute).calculator),t.position,t.rest,t.distance,t.damping,t.stiffness,t.gravity)},anim8.EventState={CREATED:0,DELAYED:1,ANIMATING:2,SLEEPING:4,PAUSED:8,FINISHED:16},anim8.Event=function(t,e,i,n,a,r,s,o,u,m,l,c){this.attribute=t,this.path=e,this.easing=anim8.easing(n),this.delay=anim8.delay(a),this.duration=anim8.duration(i),this.sleep=anim8.sleep(r),this.repeat=anim8.repeat(s),this.scale=anim8.scale(o),this.scaleBase=e.calculator.parse(u,e.calculator.create()),this.hasInitialState=anim8.coalesce(m,!0),this.parser=l,this.next=c
},anim8.Event.prototype={totalTime:function(){return this.delay+this.repeat*this.duration+(this.repeat-1)*this.sleep},newInstance:function(){return new anim8.EventInstance(this)},clone:function(){return new anim8.Event(this.attribute,this.path,this.duration,this.easing,this.delay,this.sleep,this.repeat,this.scale,this.scaleBase,this.hasInitialState,this.parser,this.next?this.next.clone():null)},getParser:function(){return this.parser},isInfinite:function(){return this.repeat===Number.POSITIVE_INFINITY},timeRemaining:function(){return this.totalTime()},timeRemainingInChain:function(){return this.timeRemaining()+(this.next?this.next.timeRemainingInChain():0)},finiteTimeRemaining:function(){return this.isInfinite()?0:this.timeRemaining()},finiteTimeRemainingInChain:function(){return this.isInfinite()?0:this.timeRemaining()+(this.next?this.next.finiteTimeRemainingInChain():0)},queue:function(t){this.next?this.next.queue(t):this.next=t}},anim8.EventInstance=function(t){this.event=t,this.attribute=t.attribute,this.path=t.path,this.duration=t.duration,this.easing=t.easing,this.delay=t.delay,this.sleep=t.sleep,this.repeat=t.repeat,this.scale=t.scale,this.scaleBase=t.scaleBase,this.state=anim8.EventState.CREATED,this.time=0,this.pauseTime=0,this.pauseState=0,this.elapsed=0,this.next=null},anim8.EventInstance.prototype={update:function(t,e){var i=!1,n=this.catchup(t);if(this.isAnimating()){var a=n/this.duration;if(a>=1||0===this.duration){if(!this.isInfinite()&&0===--this.repeat)return this.finish(e),!0;this.sleep?(n=this.progress(n,this.duration,anim8.EventState.SLEEPING),a=1,this.trigger("sleeping",this)):(n=this.progress(n,this.duration,anim8.EventState.ANIMATING),a-=1)}this.applyValue(e,e[this.attribute],a),i=!0}return i},catchup:function(t){if(!this.isPaused()){this.state===anim8.EventState.CREATED&&(this.time=t,this.delay?(this.state=anim8.EventState.DELAYED,this.trigger("delaying",this)):this.state=anim8.EventState.ANIMATING);var e=t-this.time;if(this.isDelayed()&&e>this.delay&&(this.trigger("delayed",this),e=this.progress(e,this.delay,anim8.EventState.ANIMATING)),this.isSleeping()&&e>this.sleep&&(this.trigger("slept",this),e=this.progress(e,this.sleep,anim8.EventState.ANIMATING)),this.isAnimating()&&this.duration){var i=this.duration+this.sleep,n=Math.floor((e+this.sleep)/i),a=Math.min(this.repeat,n);e=this.progress(e,a*i,anim8.EventState.ANIMATING),this.isInfinite()||(a===this.repeat?(e=this.duration,this.repeat=1):this.repeat-=n),e>this.duration&&(e=this.progress(e,this.duration,anim8.EventState.SLEEPING),this.trigger("sleeping",this))}return e}},computeValue:function(t,e){var i=this.path.compute(t,this.easing(e));if(i!==!1&&1!==this.scale){var n=this.path.calculator,t=n.clone(this.scaleBase),a=n.sub(t,i);i=n.adds(i,a,-this.scale)}return i},progress:function(t,e,i){return this.time+=e,this.elapsed+=e,this.state=i,t-e},finish:function(t){this.applyValue(t,this.path.calculator.create(),1),this.state=anim8.EventState.FINISHED,this.trigger("finish",this)},applyValue:function(t,e,i){var n=this.computeValue(e,i);n!==!1&&(t[this.attribute]=n)},hasInitialState:function(){return this.event.hasInitialState},getParser:function(){return this.event.parser},getPoint:function(t){return this.computeValue(this.path.calculator.create(),t)},getFuture:function(t){return this.getPoint(Math.min(1,this.getDelta()+t))},getDelta:function(){return this.isAnimating()?Math.min(1,(anim8.now()-this.time)/this.duration):0},getStart:function(){return this.getPoint(0)},getEnd:function(){return this.getPoint(1)},totalTime:function(){return this.delay+this.repeat*this.duration+(this.repeat-1)*this.sleep},timeRemaining:function(){return this.totalTime()-this.elapsed},timeRemainingInChain:function(){return this.timeRemaining()+(this.next?this.next.timeRemainingInChain():0)},finiteTimeRemaining:function(){return this.isInfinite()?0:this.timeRemaining()},finiteTimeRemainingInChain:function(){return this.isInfinite()?0:this.timeRemaining()+(this.next?this.next.finiteTimeRemainingInChain():0)},queue:function(t){this.next?this.next.queue(t):this.next=t},pause:function(){this.state!==anim8.EventState.PAUSED&&(this.pauseTime=anim8.now(),this.pauseState=this.state,this.state=anim8.EventState.PAUSED)},resume:function(){this.state===anim8.EventState.PAUSED&&(this.time+=anim8.now()-this.pauseTime,this.state=this.pauseState)},isInfinite:function(){return this.repeat===Number.POSITIVE_INFINITY},hasStarted:function(){return this.state!==anim8.EventState.CREATED&&this.state!==anim8.EventState.DELAYED},isAnimating:function(){return this.state===anim8.EventState.ANIMATING},isFinished:function(){return this.state===anim8.EventState.FINISHED},isDelayed:function(){return this.state===anim8.EventState.DELAYED},isPaused:function(){return this.state===anim8.EventState.PAUSED},isSleeping:function(){return this.state===anim8.EventState.SLEEPING},hasStates:function(t){return 0!==(this.state&t)},stateText:function(){switch(this.state){case anim8.EventState.CREATED:return"created";case anim8.EventState.DELAYED:return"delayed";case anim8.EventState.ANIMATING:return"animating";case anim8.EventState.SLEEPING:return"sleeping";case anim8.EventState.FINISHED:return"finished"}},hasTrue:function(){return this.path.trues}},anim8.eventize(anim8.EventInstance.prototype),anim8.animation=function(t,e,i){if(t instanceof anim8.Animation)return t;if(anim8.isString(t)){var n=t.toLowerCase();if(n in anim8.animation)return anim8.animation[n];for(var a=t.split(","),r=!1,s=!1,o=0;o<a.length;o++){var u=anim8.parseAnimationString(a[o]);u.animation!==!1&&(s=r===!1?r=u.animation.extend(u.options,!0):s.next=u.animation.extend(u.options,!0))}return anim8.coalesce(i,anim8.defaults.cache)&&anim8.isEmpty(e)&&(r.name=t,anim8.animation[n]=r),r}if(anim8.isObject(t)){var m=[],e=e||{};for(var l in t){var c=anim8.parser(l);c!==!1&&c.parse(t,e,m)}if(m.length)return new anim8.Animation(!1,t,e,m)}return!1},anim8.save=function(t,e,i){var e=anim8.animation(e,i),n=t.toLowerCase();e.name=t,anim8.animation[n]=e},anim8.parseAnimationString=function(t){for(var e=t.toLowerCase().split(" "),i={animation:!1,options:{}},n=0;n<e.length;n++){var a=e[n];if(a in anim8.animation&&!i.animation)i.animation=anim8.animation[a];else{var r=a.charAt(0);if("x"===r){var s=anim8.repeat(a.substring(1),!1);s!==!1&&(i.options.repeat=s)}if("z"===r){var o=anim8.time(a.substring(1),!1);o!==!1&&(i.options.sleep=o)}if("~"===r){var u=anim8.time(a.substring(1),!1);u!==!1&&(i.options.delay=u)}if("!"===r){var m=parseFloat(a.substring(1));isNaN(m)||(i.options.scale=m)}var l=anim8.easing(a,!1);l!==!1&&(i.options.easing=l);var c=anim8.time(a,!1);if(c!==!1)i.options.duration=c;else{var s=anim8.repeat(a,!1);s!==!1&&(i.options.repeat=s)}}}return i},anim8.Animation=function(t,e,i,n){this.name=t,this.input=e,this.options=i,this.events=n,this.next=null},anim8.Animation.prototype={isSaved:function(){return this.name!==!1},newEvents:function(){for(var t=[],e=0;e<this.events.length;e++)t.push(this.events[e].newInstance());return t},cloneEvents:function(){for(var t=[],e=0;e<this.events.length;e++)t.push(this.events[e].clone());return t},merge:function(t,e){for(var i in this.input){var n=anim8.parser(i);n!==!1&&n.merge(this.input,t,this.options,e)}return e},extend:function(t,e){if(anim8.isEmpty(t)&&!e)return this;var i=this.cloneEvents();return this.merge(t,i),anim8.extend(t,this.options),new anim8.Animation(!1,this.input,t,i)}},anim8.Animator=function(t){this.reset(t)},anim8.fn=anim8.Animator.prototype={reset:function(t){return this.subject=t,this.events={},this.springs={},this.attributes={},this.frame={},this.updated={},this.finished=!1,this.factory=null,this.active=!1,this},restore:function(){return this},preupdate:function(){return this.trigger("preupdate"),this},update:function(t){this.wasFinished=this.finished,this.finished=!0;for(var e in this.events){var i=this.events[e];this.updated[e]=i.update(t,this.frame),this.finished=this.finished&&i.isFinished()}for(var e in this.springs){var n=this.springs[e];this.updated[e]=n.update(t,this.frame),this.finished=!1}return this.trigger("update"),this},placeSpring:function(t){var e=t.attribute;this.springs[e]=t,e in this.frame||(this.frame[e]=anim8.attribute(e).defaultValue),this.finished=!1},placeEvent:function(t){var e=t.attribute;this.events[e]=t,e in this.frame||(this.frame[e]=anim8.attribute(e).defaultValue),this.finished=!1},apply:function(){for(var t in this.frame)this.updated[t]&&(this.subject[t]=this.frame[t],this.updated[t]=!1);return this.trigger("apply"),this.trimEvents(),this},trimEvents:function(){for(var t in this.events){var e=this.events[t];e.isFinished()&&(e.next?(this.placeEvent(e.next),this.finished=!1):delete this.events[t])}!this.wasFinished&&this.finished&&this.trigger("finished",this)},value:function(t){return this.frame[t]},activate:function(){return anim8.add(this),this},deactivate:function(){this.trigger("deactivate",this)},destroy:function(){this.finished=!0,this.factory.destroy(this),this.trigger("destroyed")},createEvents:function(t,e,i){var e=e||{},t=anim8.animation(t,e,i);if(t===!1)return!1;var n=t.newEvents();if(t.isSaved()&&!anim8.isEmpty(e)&&t.merge(e,n),this.onAnimation(t,e,n),null!==t.next){for(var a={},r=0;r<n.length;r++){var s=n[r];a[s.attribute]=s}for(;null!==t.next;){t=t.next;for(var o=t.newEvents(),u=0,r=0;r<n.length;r++){var s=n[r];s.isInfinite()||(u=Math.max(u,s.finiteTimeRemainingInChain()))}for(var r=0;r<o.length;r++){var s=o[r],m=a[s.attribute];m&&!m.isInfinite()?(s.delay+=u-m.finiteTimeRemainingInChain(),a[s.attribute].queue(s)):(s.delay+=u,a[s.attribute]=s,n.push(s))}this.onAnimation(t,e,o)}}return n},onAnimation:function(){},spring:function(t){var t=anim8.spring(t);return t===!1?!1:(this.placeSpring(t),this.activate(),t)},unspring:function(t){return this.springsFor(t,function(t){delete this.springs[t.attribute]})},play:function(t,e,i,n){var a=this.createEvents(t,e,n);return a===!1?!1:(this.playEvents(a,i),this.activate())},playEvents:function(t,e){for(var i={},n=0;n<t.length;n++)this.placeEvent(t[n]),i[t[n].attribute]=!0;if(e)for(var a in this.events)a in i||this.events[a].finish(this.frame);return this},queue:function(t,e,i){var n=this.createEvents(t,e,i);return n===!1?!1:(this.queueEvents(n),this)},queueEvents:function(t){for(var e=this.finiteTimeRemaining(),i=0;i<t.length;i++){var n=t[i],a=n.attribute;a in this.events&&!this.events[a].isInfinite()?(n.delay+=e-this.events[a].timeRemainingInChain(),this.events[a].queue(n)):(n.delay+=e,this.placeEvent(n))}return this},transition:function(t,e,i,n,a,r,s){var o=this.createEvents(n,a,s);return o===!1?!1:(this.transitionEvents(t,e,i,o,r),this.activate())},transitionEvents:function(t,e,i,n){for(var a=!1,r=0;r<n.length&&!a;r++)n[r].attribute in this.events&&(a=!0);var t=anim8.time(t,anim8.defaults.transitionTime),e=anim8.coalesce(e,anim8.defaults.transitionDelta),i=anim8.easing(i,anim8.defaults.transitionEasing);if(a)for(var r=0;r<n.length;r++){var s=n[r],o=s.attribute;if(o in this.events){var u=s.path,m=u.calculator,l=this.events[o],c=m.clone(this.frame[o]),f=l.getFuture(e),p=s.getPoint(0),h=new anim8.QuadraticPath(o,m,c,f,p),g=new anim8.Event(o,h,t,i,0,0,1).newInstance();g.next=s,this.placeEvent(g)}else s.delay+=t,this.placeEvent(s)}else for(var r=0;r<n.length;r++)this.placeEvent(n[r]);return this},transitionInto:function(t,e,i,n,a,r,s,o){var u=this.createEvents(a,r,o);return u===!1?!1:(this.transitionIntoEvents(t,e,i,n,u,s),this.activate())},transitionIntoEvents:function(t,e,i,n,a){for(var r=!1,s=0;s<a.length&&!r;s++)a[s].attribute in this.events&&(r=!0);var t=anim8.time(t,anim8.defaults.transitionTime),e=anim8.coalesce(e,anim8.defaults.transitionDelta),i=anim8.coalesce(i,anim8.defaults.transitionIntoDelta),n=anim8.easing(n,anim8.defaults.transitionEasing);if(r)for(var s=0;s<a.length;s++){var o=a[s],u=o.attribute;if(u in this.events){var m=o.path,l=m.calculator,c=this.events[u],f=l.clone(this.frame[u]),p=c.getFuture(e),h=o.getPoint(0),g=o.getPoint(i),d=new anim8.CubicPath(u,l,f,p,h,g),y=new anim8.Event(u,d,t,n,0,0,1).newInstance();y.next=o,this.placeEvent(y)}else o.delay+=t,this.placeEvent(o)}else for(var s=0;s<a.length;s++)this.placeEvent(a[s]);return this},tweenTo:function(t,e,i,n,a,r,s,o,u){var m=anim8.attribute(t),l=anim8.calculator(m.calculator),c=t in this.frame?l.clone(this.frame[t]):!0,f=l.parse(e,m.defaultValue),p=new anim8.Tween(t,l,c,f),h=new anim8.Event(t,p,i,a,n,s,r,o,u);return this.placeEvent(h.newInstance()),this.activate()},tweenManyTo:function(t,e,i,n,a,r,s,o){for(var u in t){var m=anim8.attribute(u),l=anim8.calculator(m.calculator),c=u in this.frame?l.clone(this.frame[u]):!0,f=l.parse(t[u],m.defaultValue),p=new anim8.Tween(u,l,c,f),h=new anim8.Event(u,p,e,n,i,r,a,s,o);this.placeEvent(h.newInstance())}return this.activate()},tween:function(t,e,i,n,a,r,s,o,u,m){var l=anim8.attribute(t),c=anim8.calculator(l.calculator),f=c.parse(e,l.defaultValue),p=c.parse(i,l.defaultValue),h=new anim8.Tween(t,c,f,p),g=new anim8.Event(t,h,n,r,a,o,s,u,m);return this.placeEvent(g.newInstance()),this.activate()},tweenMany:function(t,e,i,n,a,r,s,o,u){for(var m in t){var l=anim8.attribute(input),c=anim8.calculator(l.calculator),f=c.parse(t[m],l.defaultValue),p=c.parse(e[m],l.defaultValue),h=new anim8.Tween(m,c,f,p),g=new anim8.Event(m,h,i,a,n,s,r,o,u);this.placeEvent(g.newInstance())}return this.activate()},applyInitialState:function(t){var e=this.eventsFor(t,function(t,e){!t.hasStarted()&&t.hasInitialState()&&(t.applyValue(this.frame,this.frame[e],0),this.updated[e]=!0)});return this.apply(),e},finiteTimeRemaining:function(){var t=0;for(var e in this.events){var i=this.events[e];i.isInfinite()||(t=Math.max(t,this.events[e].finiteTimeRemainingInChain()))}return t},ref:function(t){var e=this,i={};return function(){if(t in e.frame)return e.frame[t];i[t]=!0;var n=e.get(i);return anim8.isDefined(n[t])?n[t]:anim8.attribute(t).defaultValue}},follow:function(t,e,i,n,a,r,s,o,u){var e=anim8.path(e),m=new anim8.Event(t,e,i,a,n,s,r,o,u);return this.placeEvent(m.newInstance()),this.activate()},objectsFor:function(t,e,i){anim8.isString(t)&&(t=t.split(" "));var n=!anim8.isFunction(e),a=[];if(anim8.isArray(t))for(var r=0;r<t.length;r++){var s=t[r];s in i&&(n?a.push(i[s]):e.call(this,i[s],s))}else for(var s in i)n?a.push(i[s]):e.call(this,i[s],s);return n?a:this},eventsFor:function(t,e){return this.objectsFor(t,e,this.events)},springsFor:function(t,e){return this.objectsFor(t,e,this.springs)},stop:function(t){return this.eventsFor(t,function(t,e){delete this.events[e]})},end:function(t){return this.eventsFor(t,function(t){for(;t.next;)t=t.next;t.finish(this.frame)})},finish:function(t){return this.eventsFor(t,function(t){t.finish(this.frame)})},pause:function(t){return this.eventsFor(t,function(t){t.pause()})},resume:function(t){return this.eventsFor(t,function(t){t.resume()})},set:function(t){for(var e in t)this.frame[e]=t[e],this.updated[e]=!0;return this.apply(),this},get:function(t){var e={};for(var i in t)e[i]=this.frame[i];return e},hasEvents:function(){for(var t in this.events)return!0;return!1},hasSprings:function(){for(var t in this.springs)return!0;return!1},isAnimating:function(){if(this.hasSprings())return!0;for(var t in this.events)if(this.events[t].isAnimating())return!0;return!1},getSubject:function(t){var e=this.subject;return anim8.isFunction(t)&&(e=t(e)),e},defer:function(t,e,i){return new anim8.DeferAnimator(this,this,t,e,i)}},anim8.eventize(anim8.Animator.prototype),anim8.DeferAnimator=function(t,e,i,n){this.$reset(t,e,i,n)},anim8.DeferAnimator.prototype=new anim8.Defer(anim8.DeferAnimator,["play","queue","transition","transitionInt","restore","set","resume","pause","finish","end","stop","follow","applyInitialState","tweenTo","tween","tweenMany","tweenManyTo","spring","unspring","apply","placeSpring","placeEvent"]),anim8.Animators=function(t){anim8.isArray(t)&&this.fill(t)},anim8s.fn=anim8.Animators.prototype=new Array,anim8s.fn.each=function(t,e){for(var i=0;i<this.length&&t.call(e||this[i],this[i],i)!==!1;i++);return this},anim8s.fn.fill=function(t){for(var e=0;e<t.length;e++)this.push(t[e]);return this},anim8s.fn.filter=function(t){for(var e=0,i=0;i<this.length;i++){var n=t(this[i]);n||(this[e++]=this[i])}return this.length=e,this},anim8s.fn.getSubjects=function(t){for(var e=[],i=0;i<this.length;i++)e.push(this[i].subject);return anim8.isFunction(t)&&(e=t(e)),e},anim8s.fn.first=function(){return this[0]},anim8s.fn.reverse=function(){for(var t=this.length-1,e=Math.floor(this.length/2),i=0;e>i;i++){var n=this[i],a=this[t-i];this[i]=a,this[t-i]=n}return this},anim8s.fn.activate=function(){for(var t=0;t<this.length;t++){var e=this[t];e.active||(e.active=!0,anim8.animating.push(e))}return anim8.running||(anim8.running=!0,anim8.trigger("starting"),anim8.requestRun(anim8.run)),this},anim8s.fn.sequence=function(t,e,i,n){return new anim8.Sequence(this,t,e,i,n)},anim8s.fn.restore=anim8.delegate("restore",anim8.delegate.RETURN_THIS),anim8s.fn.placeSpring=anim8.delegate("placeSpring",anim8.delegate.RETURN_THIS),anim8s.fn.placeEvent=anim8.delegate("placeEvent",anim8.delegate.RETURN_THIS),anim8s.fn.preupdate=anim8.delegate("preupdate",anim8.delegate.RETURN_THIS),anim8s.fn.update=anim8.delegate("update",anim8.delegate.RETURN_THIS),anim8s.fn.apply=anim8.delegate("apply",anim8.delegate.RETURN_THIS),anim8s.fn.trimEvents=anim8.delegate("trimEvents",anim8.delegate.RETURN_THIS),anim8s.fn.deactivate=anim8.delegate("deactivate",anim8.delegate.RETURN_THIS),anim8s.fn.destroy=anim8.delegate("destroy",anim8.delegate.RETURN_THIS),anim8s.fn.spring=anim8.delegate("spring",anim8.delegate.RETURN_RESULTS),anim8s.fn.unspring=anim8.delegate("unspring",anim8.delegate.RETURN_THIS),anim8s.fn.play=anim8.delegate("play",anim8.delegate.RETURN_THIS),anim8s.fn.playEvents=anim8.delegate("playEvents",anim8.delegate.RETURN_THIS),anim8s.fn.queue=anim8.delegate("queue",anim8.delegate.RETURN_THIS),anim8s.fn.queueEvents=anim8.delegate("queueEvents",anim8.delegate.RETURN_THIS),anim8s.fn.transition=anim8.delegate("transition",anim8.delegate.RETURN_THIS),anim8s.fn.transitionEvents=anim8.delegate("transitionEvents",anim8.delegate.RETURN_THIS),anim8s.fn.transitionInto=anim8.delegate("transitionInto",anim8.delegate.RETURN_THIS),anim8s.fn.transitionIntoEvents=anim8.delegate("transitionIntoEvents",anim8.delegate.RETURN_THIS),anim8s.fn.tween=anim8.delegate("tween",anim8.delegate.RETURN_THIS),anim8s.fn.tweenTo=anim8.delegate("tweenTo",anim8.delegate.RETURN_THIS),anim8s.fn.tweenMany=anim8.delegate("tweenMany",anim8.delegate.RETURN_THIS),anim8s.fn.tweenManyTo=anim8.delegate("tweenManyTo",anim8.delegate.RETURN_THIS),anim8s.fn.applyInitialState=anim8.delegate("applyInitialState",anim8.delegate.RETURN_THIS),anim8s.fn.follow=anim8.delegate("follow",anim8.delegate.RETURN_THIS),anim8s.fn.eventsFor=anim8.delegate("eventsFor",anim8.delegate.RETURN_RESULTS),anim8s.fn.springsFor=anim8.delegate("springsFor",anim8.delegate.RETURN_RESULTS),anim8s.fn.stop=anim8.delegate("stop",anim8.delegate.RETURN_THIS),anim8s.fn.end=anim8.delegate("end",anim8.delegate.RETURN_THIS),anim8s.fn.finish=anim8.delegate("finish",anim8.delegate.RETURN_THIS),anim8s.fn.pause=anim8.delegate("pause",anim8.delegate.RETURN_THIS),anim8s.fn.resume=anim8.delegate("resume",anim8.delegate.RETURN_THIS),anim8s.fn.set=anim8.delegate("set",anim8.delegate.RETURN_THIS),anim8s.fn.get=anim8.delegate("get",anim8.delegate.RETURN_FIRST),anim8s.fn.isAnimating=anim8.delegate("isAnimating",anim8.delegate.RETURN_TRUE),anim8s.fn.hasEvents=anim8.delegate("hasEvents",anim8.delegate.RETURN_TRUE),anim8s.fn.hasSprings=anim8.delegate("hasSprings",anim8.delegate.RETURN_TRUE),anim8s.fn.on=anim8.delegate("on",anim8.delegate.RETURN_THIS),anim8s.fn.once=anim8.delegate("once",anim8.delegate.RETURN_THIS),anim8s.fn.off=anim8.delegate("off",anim8.delegate.RETURN_THIS),anim8s.fn.trigger=anim8.delegate("trigger",anim8.delegate.RETURN_THIS),anim8.running=!1,anim8.live=!1,anim8.animating=new anim8.Animators,anim8.requestRun=function(){for(var t=["ms","moz","webkit","o"],e=window.requestAnimationFrame,i=0;i<t.length&&!e;++i)e=window[t[i]+"RequestAnimationFrame"];if(!e){var n=0;return function(t){var e=(anim8.now(),Math.max(0,16-(currTime-n))),i=window.setTimeout(function(){t(currTime+e)},e);return n=currTime+e,i}}return function(t){e(t)}}(),anim8.add=function(t){t.active||(anim8.animating.push(t),t.active=!0),anim8.running||(anim8.running=!0,anim8.trigger("starting"),anim8.requestRun(anim8.run))},anim8.run=function(){anim8.trigger("begin");var t=anim8.now();anim8.animating.each(function(t){t.preupdate()}),anim8.animating.each(function(e){e.update(t)}),anim8.animating.each(function(t){t.apply()}),anim8.animating.filter(function(t){return t.finished&&(t.deactivate(),t.active=!1),t.finished}),anim8.trigger("end"),anim8.animating.length||anim8.live?anim8.requestRun(anim8.run):(anim8.running=!1,anim8.trigger("finished"))},anim8.eventize(anim8),anim8.Sequence=function(t,e,i,n,a){this.animators=t,this.delay=anim8.delay(e),this.easing=anim8.easing(i),this.animation=anim8.animation(n,a),this.options=a},anim8.Sequence.prototype={maxDelay:function(){return this.delay*(this.animators.length-1)},createEvents:function(t){for(var e=this.animation.newEvents(),i=t/(this.animators.length-1),n=this.easing(i)*this.maxDelay(),a=0;a<e.length;a++)e[a].delay+=n;return e},reverse:function(){return this.animators.reverse(),this},play:function(t){var e=this;return this.animators.each(function(i,n){i.playEvents(e.createEvents(n),t)}),this.add()},queue:function(){var t=this,e=0,i=[];return this.animators.each(function(t,n){i[n]=t.finiteTimeRemaining(),e=Math.max(e,i[n])}),this.animators.each(function(n,a){for(var r=e-i[a],s=t.createEvents(a),a=0;a<s.length;a++)s[a].delay+=r;n.queueEvents(s)}),this.add()},add:function(){return this.animators.activate(),this.animators.applyInitialState(),this}},anim8.parser=function(t){return t instanceof anim8.Parser?t:anim8.isString(t)&&t in anim8.parser?anim8.parser[t]:!1},anim8.Parser=function(){},anim8.Parser.prototype={parse:function(){return!0},merge:function(t,e,i,n){for(var a=t.durations||{},r=t.easings||{},s=t.delays||{},o=t.sleeps||{},u=t.repeats||{},m=t.scales||{},l=t.scaleBases||{},c=0;c<n.length;c++){var f=n[c],p=f.attribute,h=f.path.calculator;f.getParser()===this&&(f.easing=anim8.easing(anim8.coalesce(r[p],e.easing,i.easing),f.easing),f.repeat=anim8.repeat(anim8.coalesce(u[p],e.repeat,i.repeat),f.repeat),f.delay=anim8.time(anim8.coalesce(s[p],e.delay,i.delay),f.delay),f.sleep=anim8.time(anim8.coalesce(o[p],e.sleep,i.sleep),f.sleep),f.duration=anim8.time(anim8.coalesce(a[p],e.duration,i.duration),f.duration),f.scale=anim8.coalesce(m[p],e.scale,i.scale,f.scale),f.scaleBase=h.parse(anim8.coalesce(l[p],e.scaleBase,i.scaleBase),f.scaleBase))}}},anim8.ParserDeltas=function(){},anim8.ParserDeltas.prototype=new anim8.Parser,anim8.ParserDeltas.prototype.parse=function(t,e,i){var n=t.deltas,a=t.values;if(!anim8.isDefined(n)){var r=0;for(var s in a)r++;n=[];for(var o=0;r>o;o++)n[o]=o/(r-1)}if(anim8.isArray(n)){var u={};for(var s in a)u[s]=n;n=u}{var m=t.durations||{},l=t.easings||{},c=t.delays||{},f=t.sleeps||{},p=t.repeats||{},h=t.scales||{};t.scaleBases||{}}for(var s in a){var g=a[s],d=!1,y=!1;s in anim8.attribute?(d=anim8.calculator(anim8.attribute[s].calculator),y=anim8.attribute[s].defaultValue):(d=anim8.calculator["default"],y=d.create());for(var v=0;v<g.length;v++)g[v]=d.parse(g[v],y);var b=anim8.coalesce(m[s],e.duration),x=anim8.coalesce(l[s],e.easing),E=anim8.coalesce(c[s],e.delay),T=anim8.coalesce(f[s],e.sleep),w=anim8.coalesce(p[s],e.repeat),S=anim8.coalesce(h[s],e.scale),R=anim8.coalesce(R[s],e.scaleBase),N=new anim8.DeltaPath(s,d,a[s],n[s]),I=new anim8.Event(s,N,b,x,E,T,w,S,R,!0,this);i.push(I)}},anim8.parser.values=new anim8.ParserDeltas,anim8.ParserFinal=function(){},anim8.ParserFinal.prototype=new anim8.Parser,anim8.ParserFinal.prototype.parse=function(t,e,i){var n=t["final"],a=t.delays||{},r=t.durations||{},s=t.scales||{},o=t.scaleBases||{};for(var u in n){var m=n[u],l=!1,c=!1;u in anim8.attribute?(l=anim8.calculator(anim8.attribute[u].calculator),c=anim8.attribute[u].defaultValue):(l=anim8.calculator["default"],c=l.create()),m=l.parse(m,c);var f=anim8.delay(anim8.coalesce(a[u],e.delay)),p=anim8.duration(anim8.coalesce(r[u],e.duration)),h=anim8.coalesce(s[u],e.scale),g=anim8.coalesce(o[u],e.scaleBase),d=new anim8.PointPath(u,l,m),y=new anim8.Event(u,d,0,anim8.easing["default"],f+p,0,1,h,g,!1,this);i.push(y)}},anim8.ParserFinal.prototype.merge=function(t,e,i,n){for(var a=t.durations||{},r=t.delays||{},s=t.scales||{},o=t.scaleBases||{},u=0;u<n.length;u++){var m=n[u],l=m.attribute,c=m.path.calculator;if(m.getParser()===this){var f=anim8.coalesce(r[l],e.delay,i.delay),p=anim8.coalesce(a[l],e.duration,i.duration);m.delay=anim8.delay(f)+anim8.duration(p),m.scale=anim8.coalesce(s[l],e.scale,i.scale,m.scale),m.scaleBase=c.parse(anim8.coalesce(o[l],e.scaleBase,i.scaleBase),m.scaleBase)}}},anim8.parser["final"]=new anim8.ParserFinal,anim8.ParserInitial=function(){},anim8.ParserInitial.prototype=new anim8.Parser,anim8.ParserInitial.prototype.parse=function(t,e,i){var n=t.initial,a=t.delays||{},r=t.scales||{},s=t.scaleBases||{};for(var o in n){var u=n[o],m=!1,l=!1;o in anim8.attribute?(m=anim8.calculator(anim8.attribute[o].calculator),l=anim8.attribute[o].defaultValue):(m=anim8.calculator["default"],l=m.create()),u=m.parse(u,l);var c=anim8.delay(anim8.coalesce(a[o],e.delay)),f=anim8.coalesce(r[o],e.scale),p=anim8.coalesce(s[o],e.scaleBase),h=new anim8.PointPath(o,m,u),g=new anim8.Event(o,h,0,anim8.easing["default"],c,0,1,f,p,!0,this);i.push(g)}},anim8.ParserInitial.prototype.merge=function(t,e,i,n){for(var a=(t.durations||{},t.delays||{}),r=t.scales||{},s=t.scaleBases||{},o=0;o<n.length;o++){var u=n[o],m=u.attribute,l=u.path.calculator;u.getParser()===this&&(u.delay=anim8.time(anim8.coalesce(a[m],e.delay,i.delay),u.delay),u.scale=anim8.coalesce(r[m],e.scale,i.scale,u.scale),u.scaleBase=l.parse(anim8.coalesce(s[m],e.scaleBase,i.scaleBase),u.scaleBase))}},anim8.parser.initial=new anim8.ParserInitial,anim8.ParserKeyframe=function(){},anim8.ParserKeyframe.prototype=new anim8.Parser,anim8.ParserKeyframe.prototype.parse=function(t,e,i){var n=t.keyframe,a=t.durations||{},r=t.easings||{},s=t.delays||{},o=t.sleeps||{},u=t.repeats||{},m=t.scales||{},l=t.scaleBases||{},c=anim8.easing(anim8.coalesce(e.teasing,anim8.defaults.teasing)),f=!1,p={from:"0",start:"0",initial:"0",first:"0",half:"50",middle:"50",to:"100",end:"100",last:"100"};for(var h in n)if(h in p)n[p[h]]=n[h],delete n[h];else if(-1!==h.indexOf(",")){for(var g=h.split(","),d=0;d<g.length;d++)n[g[d]]=n[h];delete n[h],f=!0}var g=[],y=0,v=0;for(var h in n){var b=parseFloat(h);isNaN(b)?delete n[h]:(y>b&&(f=!0),g.push({order:b,key:h,value:n[h]}),y=b,v=Math.max(v,b))}if(f){g.sort(function(t,e){return t.order-e.order}),n={};for(var d=0;d<g.length;d++)n[g[d].key]=g[d].value}for(var x={},E={},T={},w={},S={},d=0;d<g.length;d++){var R=g[d],N=anim8.coalesce(R.value.easing,e.easing);delete R.value.easing;for(var I in R.value)I in x||(x[I]=[],E[I]=[],S[I]=[],I in anim8.attribute?(T[I]=anim8.calculator(anim8.attribute[I].calculator),w[I]=anim8.attribute[I].defaultValue):(T[I]=anim8.calculator["default"],w[I]=T[I].create())),x[I].push(R.order/v),E[I].push(T[I].parse(R.value[I],w[I])),S[I].push(anim8.easing(anim8.coalesce(r[I],N)))}for(var I in x){var P=anim8.coalesce(a[I],e.duration),V=anim8.coalesce(s[I],e.delay),U=anim8.coalesce(o[I],e.sleep),D=anim8.coalesce(u[I],e.repeat),A=anim8.coalesce(m[I],e.scale),M=anim8.coalesce(l[I],e.scaleBase),F=new anim8.KeyframePath(I,T[I],E[I],x[I],S[I]),z=new anim8.Event(I,F,P,c,V,U,D,A,M,!0,this);i.push(z)}},anim8.parser.keyframe=new anim8.ParserKeyframe,anim8.ParserTween=function(){},anim8.ParserTween.prototype=new anim8.Parser,anim8.ParserTween.prototype.parse=function(t,e,i){var n=t.tweenTo,a=t.durations||{},r=t.easings||{},s=t.delays||{},o=t.sleeps||{},u=t.repeats||{},m=t.scales||{},l=t.scaleBase||{};for(var c in n){var f=null,p=!1;c in anim8.attribute?(f=anim8.calculator(anim8.attribute[c].calculator),p=anim8.attribute[c].defaultValue):(f=anim8.calculator["default"],p=f.create());var h=f.parse(n[c],p),g=anim8.coalesce(a[c],e.duration),d=anim8.coalesce(r[c],e.easing),y=anim8.coalesce(s[c],e.delay),v=anim8.coalesce(o[c],e.sleep),b=anim8.coalesce(u[c],e.repeat),x=anim8.coalesce(m[c],e.scale),E=anim8.coalesce(l[c],e.scaleBase),T=new anim8.Tween(c,f,!0,h),w=new anim8.Event(c,T,g,d,y,v,b,x,E,!0,this);i.push(w)}},anim8.parser.tweenTo=new anim8.ParserTween,anim8.factory=function(t,e){for(var i in anim8.factory){var n=anim8.factory[i];if(n.is(t))return n}if(e)return!1;throw"No factory exists for subject "+t},anim8.Factory=function(){},anim8.Factory.prototype={is:function(){return!1},animatorFor:function(){return!1},animatorsFor:function(t,e){e.push(this.animatorFor(t))},destroy:function(){}},anim8.ObjectFactory=function(){},anim8.ObjectFactory.prototype=new anim8.Factory,anim8.ObjectFactory.prototype.is=function(t){return anim8.isObject(t)&&!anim8.isElement(t)&&!anim8.isArray(t)},anim8.ObjectFactory.prototype.animatorFor=function(t){var e=t.$animator;return e||(e=new anim8.Animator(t),e.factory=this,t.$animator=e),e},anim8.ObjectFactory.prototype.destroy=function(t){delete t.subject.$animator},anim8.factory.object=new anim8.ObjectFactory,anim8.DomFactory=function(){this.cached={},this.ids=0,this.attribute="anim8"},anim8.DomFactory.prototype=new anim8.Factory,anim8.DomFactory.prototype.is=function(t){return anim8.isElement(t)},anim8.DomFactory.prototype.animatorFor=function(t){var e=t.getAttribute(this.attribute);if(!(e in this.cached)){var i=new anim8.DomAnimator(t);t.setAttribute(this.attribute,e=i.id=++this.ids),i.factory=this,this.cached[e]=i}return this.cached[e]},anim8.DomFactory.prototype.destroy=function(t){delete this.cached[t.id]},anim8.factory.dom=new anim8.DomFactory,anim8.dom={},anim8.property=function(t){if(anim8.isObject(t)&&anim8.isFunction(t.get)&&anim8.isFunction(t.set))return t;if(anim8.isString(t)&&t in anim8.property)return anim8.property[t];throw t+" is not a valid property"},anim8.style=function(){var t={},e=function(e){if(e in t)return t[e];var i=e;return e=e.replace(/[a-z][A-Z]/g,function(t){return t[0]+"-"+t[1].toLowerCase()}),e=e.replace(/^Webkit/,"-webkit"),e=e.replace(/^Moz/,"-moz"),e=e.replace(/^Ms/,"-ms"),e=e.replace(/^O/,"-o"),e=e.replace(/^Khtml/,"-khtml"),t[i]=e};return function(t,i){return t.currentStyle?t.currentStyle[i]:document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null).getPropertyValue(e(i)):t.style[i]}}(),anim8.prefix=function(){var t=document.createElement("a");return function(e){for(var i=0;i<e.length;i++)if(anim8.isDefined(t.style[e[i]]))return e[i];return!1}}(),anim8.toPixels=function(t,e,i){if(document.body){var n=document.createElement("div");document.body.appendChild(n),n.style.width=t+e;var a=n.offsetWidth/t;return document.body.removeChild(n),a||i}return i},anim8.parseValue=function(){var t=/(-?\d*(\.\d+)|-?\d+)(px|em|%|vw|ex|cm|mm|in|pt|pc|deg|rad)?/;return function(e){var i=t.exec(e);return i?{value:parseFloat(i[1]),unit:i[3]}:!1}}(),anim8.convert=function(){var t=function(t,e){var n=anim8.style(t,"fontSize"),a=anim8.parseValue(n);return a&&a.unit!==e?"px"===a.unit?a.value:s(t,i[a.unit].px,relativeTo):12},e={};e.parentWidth=function(t){return t.parentNode.scrollWidth},e.parentHeight=function(t){return t.parentNode.scrollHeight},e.width=function(t){return t.offsetWidth},e.height=function(t){return t.offsetHeight},e.fontSize=function(e){return t(e,"%")},e.parentFontSize=function(e){return t(e.parentNode,"%")},e.htmlFontSize=function(){var e=document.getElementsByTagName("html")[0];return t(e,"%")};var i={};i.pt={px:anim8.toPixels(100,"pt")},i["in"]={px:anim8.toPixels(100,"in")},i.cm={px:anim8.toPixels(1e3,"cm")},i.mm={px:anim8.toPixels(1e5,"mm")},i.vw={px:anim8.toPixels(1e3,"vw")},i.deg={rad:Math.PI/180},i.em={px:function(e){return t(e,"em")}},i.rem={px:function(){var e=document.getElementsByTagName("html")[0];
return t(e,"rem")}},i["%"]={px:function(t,i){return anim8.isNumber(i)?i:i in e?e[i](t)/100:1}};for(var n in i)for(var a in i[n])if(a in i||(i[a]={}),!(n in i[a])){var r=i[n][a];anim8.isNumber(r)&&(i[a][n]=1/r),anim8.isFunction(r)&&(i[a][n]=function(t){return function(e,i){return 1/t(e,i)}}(r))}var s=function(t,e,i){return anim8.isNumber(e)?e:anim8.isFunction(e)?e(t,i):1};return function(t,e,n,a){if(anim8.isNumber(e))return e;var r=anim8.parseValue(e);if(!r)return!1;var o=r.value,u=r.unit;if(!u||u===n)return o;if(u in i&&n in i[u]){var m=i[u][n];o*=s(t,m,a)}else if(u in i&&i[u].px&&n in i.px){var l=i[u].px,c=i.px[n];o*=s(t,l,a),o*=s(t,c,a)}return o}}(),anim8.property.factory=function(t,e){return{get:function(i,n){if(n.animating[t]===!1){var a=anim8.style(i,t),r=anim8.convert(i,a,n.units[t],e);r!==!1&&(n.frame[t]=r,n.animating[t]=!0)}},set:function(e,i){i.styles[t]=i.value(t)},unset:function(e){e.style[t]=null}}},anim8.property.factoryDerivable=function(t,e,i){return{get:function(n,a){if(a.animating[t]===!1){var r=anim8.style(n,t),s=anim8.convert(n,r,a.units[t],e);s!==!1?(a.frame[t]=s,a.animating[t]=!0):anim8.isFunction(i)&&(s=anim8.convert(n,i(n),a.units[t],e),s!==!1&&(a.frame[t]=s,a.animating[t]=!0))}},set:function(e,i){i.styles[t]=i.value(t)},unset:function(e){e.style[t]=null}}},anim8.property.factoryColor=function(t){return{get:function(e,i){if(i.animating[t]===!1){var n=anim8.color.parse(e.style[t]);n!==anim8.color.invalidColor&&(i.frame[t]=n,i.animating[t]=!0)}},set:function(e,i){i.styles[t]=anim8.color.format(i.frame[t])},unset:function(e){e.style[t]=null}}},anim8.property.padding=anim8.property.factory("padding","parentWidth"),anim8.property.paddingTop=anim8.property.factory("paddingTop","parentWidth"),anim8.property.paddingRight=anim8.property.factory("paddingRight","parentWidth"),anim8.property.paddingBottom=anim8.property.factory("paddingBottom","parentWidth"),anim8.property.paddingLeft=anim8.property.factory("paddingLeft","parentWidth"),anim8.property.margin=anim8.property.factory("margin","parentWidth"),anim8.property.marginTop=anim8.property.factory("marginTop","parentWidth"),anim8.property.marginRight=anim8.property.factory("marginRight","parentWidth"),anim8.property.marginBottom=anim8.property.factory("marginBottom","parentWidth"),anim8.property.marginLeft=anim8.property.factory("marginLeft","parentWidth"),anim8.property.borderRadius=anim8.property.factory("borderRadius","width"),anim8.property.borderTopLeftRadius=anim8.property.factory("borderTopLeftRadius","width"),anim8.property.borderTopRightRadius=anim8.property.factory("borderTopRightRadius","width"),anim8.property.borderBottomLeftRadius=anim8.property.factory("borderBottomLeftRadius","width"),anim8.property.borderBottomRightRadius=anim8.property.factory("borderBottomRightRadius","width"),anim8.property.borderWidth=anim8.property.factory("borderWidth"),anim8.property.borderTopWidth=anim8.property.factory("borderTopWidth"),anim8.property.borderRightWidth=anim8.property.factory("borderRightWidth"),anim8.property.borderBottomWidth=anim8.property.factory("borderBottomWidth"),anim8.property.borderLeftWidth=anim8.property.factory("borderLeftWidth"),anim8.property.outlineWidth=anim8.property.factory("outlineWidth"),anim8.property.textIndent=anim8.property.factory("textIndent","parentWidth"),anim8.property.borderSpacing=anim8.property.factory("borderSpacing"),anim8.property.fontSize=anim8.property.factory("fontSize","parentFontSize"),anim8.property.lineHeight=anim8.property.factory("lineHeight","fontSize"),anim8.property.zIndex=anim8.property.factory("zIndex"),anim8.property.color=anim8.property.factoryColor("color"),anim8.property.backgroundColor=anim8.property.factoryColor("backgroundColor"),anim8.property.borderTopColor=anim8.property.factoryColor("borderTopColor"),anim8.property.borderRightColor=anim8.property.factoryColor("borderRightColor"),anim8.property.borderBottomColor=anim8.property.factoryColor("borderBottomColor"),anim8.property.borderLeftColor=anim8.property.factoryColor("borderLeftColor"),anim8.property.outlineColor=anim8.property.factoryColor("outlineColor"),anim8.property.minWidth=anim8.property.factory("minWidth","parentWidth"),anim8.property.maxWidth=anim8.property.factory("maxWidth","parentWidth"),anim8.property.minHeight=anim8.property.factory("minHeight","parentHeight"),anim8.property.maxHeight=anim8.property.factory("maxHeight","parentHeight"),anim8.property.width=anim8.property.factoryDerivable("width","parentWidth",function(t){return t.offsetWidth+"px"}),anim8.property.height=anim8.property.factoryDerivable("height","parentHeight",function(t){return t.offsetHeight+"px"}),anim8.property.top=anim8.property.factoryDerivable("top","parentHeight",function(t){return t.offsetTop+"px"}),anim8.property.right=anim8.property.factoryDerivable("right","parentWidth",function(t){return t.parentNode.scrollWidth-(t.offsetLeft+t.offsetWidth)+"px"}),anim8.property.bottom=anim8.property.factoryDerivable("bottom","parentHeight",function(t){return t.parentNode.scrollHeight-(t.offsetTop+t.offsetHeight)+"px"}),anim8.property.left=anim8.property.factoryDerivable("left","parentWidth",function(t){return t.offsetLeft+"px"}),anim8.property.visibility={get:function(t,e){if(e.animating.visibility===!1){var i=anim8.style(t,"visibility");e.frame.visibility="hidden"===i?0:1,e.animating=!0}},set:function(t,e){e.styles.visibility=e.frame.visibility<.5?"hidden":"visible"},unset:function(t){t.style.visibility=null}},anim8.property.backface=function(){var t=anim8.prefix(["WebkitBackfaceVisibility","MozBackfaceVisibility","msBackfaceVisibility","BackfaceVisibility"]);return t?{get:function(e,i){if(i.animating.backface===!1){var n=anim8.style(e,t);i.frame.backface="visible"===n?1:0,i.animating.backface=!0}},set:function(e,i){i.styles[t]=i.frame.backface<.5?"none":"visible"},unset:function(e){e.style[t]=null}}:!1}(),anim8.property.transformOrigin=function(){var t=anim8.prefix(["WebkitTransformOrigin","MozTransformOrigin","OTransformOrigin","msTransformOrigin","transformOrigin"]);if(!t)return!1;var e={left:"0%",center:"50%",right:"100%",top:"0%",bottom:"100%"},i=function(t,i,n,a,r){if(n.animating[a]===!1){i in e&&(i=e[i]);var s=anim8.convert(t,i,n.units[a],r);s!==!1&&(n.frame[a]=s,n.animating[a]=!0)}},n=function(t,e,n){n.animating.origin===!1&&(1===e.length||2===e.length&&e[0]===e[1]||3===e.length&&e[0]===e[1]&&e[1]===e[2])&&i(t,e[0],n,"origin","width")};return{get:function(e,a){var r=anim8.style(e,t);if(r){var s=r.toLowerCase(),o=s.split(" ");switch(o.length){case 3:i(e,o[0],a,"originX","width"),i(e,o[1],a,"originY","height"),i(e,o[2],a,"originZ"),n(e,o,a);break;case 2:i(e,o[0],a,"originX","width"),i(e,o[1],a,"originY","height"),n(e,o,a);break;case 1:i(e,o[0],a,"originX","width"),i(e,o[0],a,"originY","height"),n(e,o,a)}}},set:function(e,i){var n=null;n=anim8.isDefined(i.frame.originZ)?i.valueOr("originX","origin","x")+" "+i.valueOr("originY","origin","y")+" "+i.valueOr("originZ","origin","z"):i.valueOr("originX","origin","x")+" "+i.valueOr("originY","origin","y"),i.styles[t]=n},unset:function(e){e.style[t]=null}}}(),anim8.property.transform=function(){var t=anim8.prefix(["WebkitTransform","MozTransform","OTransform","msTransform","transform"]);if(!t)return!1;var e={translate:!0,scale:!0},i={translate3d:!0,scale3d:!0},n={rotate3d:!0},a={translate:/translate\(([^,]+)\s*,\s*([^\)]+)\)/i,translate3d:/translate3d\(([^,]+)\s*,\s*([^,]+)\s*,\s*([^\)]+)\)/i,translateX:/translateX\(([^\)]+)\)/i,translateY:/translateY\(([^\)]+)\)/i,translateZ:/translateZ\(([^\)]+)\)/i,scale:/scale\(([^,]+)\s*,\s*([^\)]+)\)/i,scale3d:/scale3d\(([^,]+)\s*,\s*([^,]+)\s*,\s*([^\)]+)\)/i,scaleX:/scaleX\(([^\)]+)\)/i,scaleY:/scaleY\(([^\)]+)\)/i,scaleZ:/scaleZ\(([^\)]+)\)/i,rotate:/rotate\(([^\)]+)\)/i,rotate3d:/rotate3d\(([^,]+)\s*,\s*([^,]+)\s*,\s*([^,]+)\s*,\s*([^\)]+)\)/i,rotateX:/rotateX\(([^\)]+)\)/i,rotateY:/rotateY\(([^\)]+)\)/i,rotateZ:/rotateZ\(([^\)]+)\)/i,skew:/skew\(([^,]+)\s*,\s*([^\)]+)\)/i,skewX:/skewX\(([^\)]+)\)/i,skewY:/skewY\(([^\)]+)\)/i},r=function(t,e,i,n,a){var r=i.units[n],s=anim8.convert(t,e,r,a);return s!==!1?s:anim8.attribute(n).defaultValue};return{get:function(s,o){var u=anim8.style(s,t);for(var m in o.animating)if(o.animating[m]===!1&&m in a){var l=a[m].exec(u);l&&(o.frame[m]=m in n?{x:r(s,l[1],o,m,"width"),y:r(s,l[2],o,m,"height"),z:r(s,l[3],o,m),angle:r(s,l[4],o,m)}:m in i?{x:r(s,l[1],o,m,"width"),y:r(s,l[2],o,m,"height"),z:r(s,l[3],o,m)}:m in e?{x:r(s,l[1],o,m,"width"),y:r(s,l[2],o,m,"height")}:r(s,l[1],o,m,"width"),o.animating[m]=!0)}},set:function(r,s){var o=[];for(var u in a)if(u in s.frame){var m=s.frame[u],l=s.units[u];o.push(u in n?u+"("+m.x+","+m.y+","+m.z+","+m.angle+l+")":u in i?u+"("+m.x+l+","+m.y+l+","+m.z+l+")":u in e?u+"("+m.x+l+","+m.y+l+")":u+"("+m+l+")")}o.length&&(s.styles[t]=o.join(" "))},unset:function(e){e.style[t]=null}}}(),anim8.property.opacity=function(){var t=anim8.prefix(["WebkitOpacity","MozOpacity","KhtmlOpacity","opacity"]);return t?{get:function(e,i){if(i.animating.opacity===!1){var n=anim8.style(e,t),a=parseFloat(n);isNaN(a)||(i.frame.opacity=a,i.animating.opacity=!0)}},set:function(e,i){i.styles[t]=anim8.clamp(i.frame.opacity,0,1)},unset:function(e){e.style[t]=null}}:!1}(),anim8.property.filter=function(){var t=anim8.prefix(["WebkitFilter","MozFilter","OFilter","msFilter","filter"]);if(!t)return!1;var e={grayscale:"grayscale",sepia:"sepia",saturate:"saturate",hueRotate:"hue-rotate",invert:"invert",brightness:"brightness",contrast:"contrast",blur:"blur"},i={};for(var n in e)i[n]=new RegExp(e[n]+"(([^)]+))","i");return{get:function(e,n){var a=anim8.style(e,t);for(var r in i)if(n.animating[r]===!1){var s=i[r].exec(a);if(s!==!1){var o=anim8.convert(e,s[1],n.units[r]);o!==!1&&(n.frame[r]=o,n.animating[r]=!0)}}},set:function(i,n){var a=[];for(var r in e)r in n.frame&&a.push(e[r]+"("+n.value(r)+")");a.length&&(n.styles[t]=a.join(" "))},unset:function(e){e.style[t]=null}}}(),anim8.property.center={get:function(t,e){var i=t.offsetLeft+.5*t.offsetWidth+"px",n=t.offsetTop+.5*t.offsetHeight+"px";if(e.animating.center===!1){var a=e.units.center,r=anim8.convert(t,i,a,"parentWidth"),s=anim8.convert(t,n,a,"parentHeight");r!==!1&&s!==!1&&(e.frame.center={x:r,y:s},e.animating.center=!0)}if(e.animating.centerX===!1){var a=e.units.centerX,r=anim8.convert(t,i,a,"parentWidth");r!==!1&&(e.frame.centerX=r,e.animating.centerX=!0)}if(e.animating.centerY===!1){var a=e.units.centerY,s=anim8.convert(t,n,a,"parentHeight");s!==!1&&(e.frame.centerY=s,e.animating.centerY=!0)}},preset:function(t,e){e.cached.width=anim8.convert(t,t.offsetWidth+"px",e.units.centerX||e.units.center,"parentWidth"),e.cached.height=anim8.convert(t,t.offsetHeight+"px",e.units.centerY||e.units.center,"parentHeight")},set:function(t,e){var i=.5*e.cached.width,n=.5*e.cached.height;e.updated.center&&(e.styles.left=e.frame.center.x-i+e.units.center,e.styles.top=e.frame.center.y-n+e.units.center),e.updated.centerX&&(e.styles.left=e.frame.centerX-i+e.units.centerX),e.updated.centerY&&(e.styles.top=e.frame.centerY-n+e.units.centerY)}},anim8.property.orbit={DEGREE_TO_RADIAN:Math.PI/180,RADIAN_TO_DEGREE:180/Math.PI,get:function(t,e){var i=.5*t.parentNode.scrollWidth,n=.5*t.parentNode.scrollHeight,a=t.offsetLeft+.5*t.offsetWidth,r=t.offsetTop+.5*t.offsetHeight,s=a-i,o=r-n;if(e.animating.orbitOffset===!1){var u=e.units.orbitOffset,m=anim8.convert(t,i+"px",u,"parentWidth"),l=anim8.convert(t,n+"px",u,"parentHeight");m!==!1&&l!==!1&&(e.frame.orbitOffset={x:m,y:l},e.animating.orbitOffset=!1)}e.animating.distance===!1&&(e.frame.distance=Math.sqrt(s*s+o*o),e.animating.distance=!0),e.animating.angle===!1&&(e.frame.angle=Math.atan2(o,s)*this.RADIAN_TO_DEGREE,e.animating.angle=!0)},preset:function(t,e){e.cached.parentWidth=t.parentNode.scrollWidth,e.cached.parentHeight=t.parentNode.scrollHeight,e.cached.width=t.offsetWidth,e.cached.height=t.offsetHeight},set:function(t,e){var i=e.units.orbitOffset||"%",n=e.frame.orbitOffset?e.frame.orbitOffset.x:50,a=e.frame.orbitOffset?e.frame.orbitOffset.y:50,r=e.units.origin||"%",s=e.frame.origin?e.frame.origin.x:50,o=e.frame.origin?e.frame.origin.y:50,u=anim8.convert(t,n+i,"px",e.cached.parentWidth/100),m=anim8.convert(t,a+i,"px",e.cached.parentHeight/100),l=anim8.convert(t,s+r,"px",e.cached.width/100),c=anim8.convert(t,o+r,"px",e.cached.height/100),f=(e.frame.angle||0)*this.DEGREE_TO_RADIAN,p=e.frame.distance||0,h=Math.cos(f)*p,g=Math.sin(f)*p;e.styles.left=u+h-l+"px",e.styles.top=m+g-c+"px"}},anim8.attribute.padding={defaultValue:0,defaultUnit:"px"},anim8.attribute.paddingTop={defaultValue:0,defaultUnit:"px"},anim8.attribute.paddingRight={defaultValue:0,defaultUnit:"px"},anim8.attribute.paddingBottom={defaultValue:0,defaultUnit:"px"},anim8.attribute.paddingLeft={defaultValue:0,defaultUnit:"px"},anim8.attribute.margin={defaultValue:0,defaultUnit:"px"},anim8.attribute.marginTop={defaultValue:0,defaultUnit:"px"},anim8.attribute.marginRight={defaultValue:0,defaultUnit:"px"},anim8.attribute.marginBottom={defaultValue:0,defaultUnit:"px"},anim8.attribute.marginLeft={defaultValue:0,defaultUnit:"px"},anim8.attribute.borderRadius={defaultValue:0,defaultUnit:"px"},anim8.attribute.borderTopLeftRadius={defaultValue:0,defaultUnit:"px"},anim8.attribute.borderTopRightRadius={defaultValue:0,defaultUnit:"px"},anim8.attribute.borderBottomLeftRadius={defaultValue:0,defaultUnit:"px"},anim8.attribute.borderBottomRightRadius={defaultValue:0,defaultUnit:"px"},anim8.attribute.borderWidth={defaultValue:0,defaultUnit:"px"},anim8.attribute.borderTopWidth={defaultValue:0,defaultUnit:"px"},anim8.attribute.borderRightWidth={defaultValue:0,defaultUnit:"px"},anim8.attribute.borderBottomWidth={defaultValue:0,defaultUnit:"px"},anim8.attribute.borderLeftWidth={defaultValue:0,defaultUnit:"px"},anim8.attribute.outlineWidth={defaultValue:0,defaultUnit:"px"},anim8.attribute.outlineOffset={defaultValue:0},anim8.attribute.textIndent={defaultValue:0,defaultUnit:"px"},anim8.attribute.borderSpacing={defaultValue:0,defaultUnit:"px"},anim8.attribute.fontSize={defaultValue:1,defaultUnit:"em"},anim8.attribute.lineHeight={defaultValue:1,defaultUnit:"em"},anim8.attribute.origin={defaultValue:{x:50,y:50},defaultUnit:"%",property:"transformOrigin",calculator:"2d"},anim8.attribute.originX={defaultValue:50,defaultUnit:"%",property:"transformOrigin"},anim8.attribute.originY={defaultValue:50,defaultUnit:"%",property:"transformOrigin"},anim8.attribute.opacity={defaultValue:1},anim8.attribute.zIndex={defaultValue:1},anim8.attribute.width={defaultValue:0,defaultUnit:"px"},anim8.attribute.minWidth={defaultValue:0,defaultUnit:"px"},anim8.attribute.maxWidth={defaultValue:0,defaultUnit:"px"},anim8.attribute.height={defaultValue:0,defaultUnit:"px"},anim8.attribute.minHeight={defaultValue:0,defaultUnit:"px"},anim8.attribute.maxHeight={defaultValue:0,defaultUnit:"px"},anim8.attribute.angle={defaultValue:0,property:"orbit"},anim8.attribute.distance={defaultValue:0,property:"orbit"},anim8.attribute.orbitOffset={defaultValue:{x:50,y:50},defaultUnit:"%",property:"orbitOffset",calculator:"2d"},anim8.attribute.top={defaultValue:0,defaultUnit:"px"},anim8.attribute.right={defaultValue:0,defaultUnit:"px"},anim8.attribute.bottom={defaultValue:0,defaultUnit:"px"},anim8.attribute.left={defaultValue:0,defaultUnit:"px"},anim8.attribute.center={defaultValue:{x:0,y:0},defaultUnit:"px",property:"center",calculator:"2d"},anim8.attribute.centerX={defaultValue:0,defaultUnit:"px",property:"center"},anim8.attribute.centerY={defaultValue:0,defaultUnit:"px",property:"center"},anim8.attribute.blur={defaultValue:0,property:"filter",defaultUnit:"px"},anim8.attribute.sepia={defaultValue:0,property:"filter",defaultUnit:"%"},anim8.attribute.brightness={defaultValue:0,property:"filter",defaultUnit:"%"},anim8.attribute.grayscale={defaultValue:0,property:"filter",defaultUnit:"%"},anim8.attribute.contrast={defaultValue:0,property:"filter",defaultUnit:"%"},anim8.attribute.invert={defaultValue:0,property:"filter",defaultUnit:"%"},anim8.attribute.saturation={defaultValue:0,property:"filter",defaultUnit:"%"},anim8.attribute.hueRotate={defaultValue:0,property:"filter",defaultUnit:"deg"},anim8.attribute.rotate={defaultValue:0,property:"transform",defaultUnit:"deg"},anim8.attribute.rotate3d={defaultValue:{x:0,y:0,z:1,angle:0},property:"transform",calculator:"quaternion",defaultUnit:"deg"},anim8.attribute.translate={defaultValue:{x:0,y:0},property:"transform",calculator:"2d",defaultUnit:"px"},anim8.attribute.translateX={defaultValue:0,property:"transform",defaultUnit:"px"},anim8.attribute.translateY={defaultValue:0,property:"transform",defaultUnit:"px"},anim8.attribute.translateZ={defaultValue:0,property:"transform",defaultUnit:"px"},anim8.attribute.translate3d={defaultValue:{x:0,y:0,z:0},property:"transform",calculator:"3d",defaultUnit:"px"},anim8.attribute.scale={defaultValue:{x:1,y:1},property:"transform",calculator:"2d"},anim8.attribute.scaleX={defaultValue:1,property:"transform"},anim8.attribute.scaleY={defaultValue:1,property:"transform"},anim8.attribute.scaleZ={defaultValue:1,property:"transform"},anim8.attribute.scale3d={defaultValue:{x:1,y:1,z:1},property:"transform",calculator:"3d"},anim8.attribute.skew={defaultValue:{x:0,y:0},defaultUnit:"deg",property:"transform",calculator:"2d"},anim8.attribute.skewX={defaultValue:0,defaultUnit:"deg",property:"transform"},anim8.attribute.skewY={defaultValue:0,defaultUnit:"deg",property:"transform"},anim8.attribute.backface={defaultValue:0},anim8.attribute.visibility={defaultValue:1},anim8.attribute.backgroundColor={defaultValue:anim8.color(),calculator:"rgba"},anim8.attribute.color={defaultValue:anim8.color(),calculator:"rgba"},anim8.attribute.borderTopColor={defaultValue:anim8.color(),calculator:"rgba"},anim8.attribute.borderRightColor={defaultValue:anim8.color(),calculator:"rgba"},anim8.attribute.borderBottomColor={defaultValue:anim8.color(),calculator:"rgba"},anim8.attribute.borderLeftColor={defaultValue:anim8.color(),calculator:"rgba"},anim8.attribute.outlineColor={defaultValue:anim8.color(),calculator:"rgba"},anim8.DomAnimator=function(t){this.reset(t),this.properties={},this.trues={},this.truesUpdated=!1,this.attributeToProperty={},this.animating={},this.units={},this.cached={},this.styles={},this.styled=!1,this.stylesUpdated=!1,this.animation=null},anim8.DomAnimator.prototype=new anim8.Animator,anim8.DomAnimator.prototype.preupdate=function(){if(this.truesUpdated){var t={};for(var e in this.trues)t[this.attributeToProperty[e]]=!0,this.animating[e]=!1;for(var i in t)this.properties[i].get(this.subject,this);for(var e in this.trues){if(this.animating[e]===!0){for(var n=anim8.calculator(this.attributes[e].calculator),a=this.trues[e],r=a.path.copy(),s=r.points,o=0;o<s.length;o++)s[o]===!0&&(s[o]=n.clone(this.frame[e]));a.path=r}delete this.trues[e]}this.truesUpdated=!1}for(var i in this.properties){var u=this.properties[i];anim8.isFunction(u.preset)&&u.preset(this.subject,this)}this.trigger("preupdate")},anim8.DomAnimator.prototype.update=function(){anim8.Animator.prototype.update.apply(this,arguments),this.getStyles(),this.stylesUpdated=!0},anim8.DomAnimator.prototype.onAnimation=function(t,e,i){if(t.input.units)for(var n=0;n<i.length;n++){var a=i[n],r=a.attribute;r in t.input.units&&(a.unit=t.input.units[r])}},anim8.DomAnimator.prototype.getStyles=function(){this.styles={};var t={};for(var e in this.frame)if(this.updated[e]){var i=this.attributeToProperty[e];i in this.properties&&(t[i]=!0)}for(var i in t)this.properties[i].set(this.subject,this),this.styled=!0},anim8.DomAnimator.prototype.apply=function(){if(this.styled||this.stylesUpdated||this.getStyles(),this.styled){for(var t in this.styles)this.subject.style[t]=this.styles[t];for(var e in this.frame)this.updated[e]=!1;this.styled=!1}return this.stylesUpdated=!1,this.trigger("apply"),this.trimEvents(),this},anim8.DomAnimator.prototype.placeEvent=function(t){anim8.Animator.prototype.placeEvent.apply(this,arguments);var e=t.attribute,i=anim8.attribute(e),n=anim8.coalesce(i.property,e),a=anim8.property(n);return t.hasTrue()&&(this.trues[e]=t,this.truesUpdated=!0),this.attributes[e]=i,this.properties[n]=a,this.attributeToProperty[e]=n,this.units[e]=t.unit||i.defaultUnit||"",this},anim8.DomAnimator.prototype.placeSpring=function(t){anim8.Animator.prototype.placeSpring.apply(this,arguments);var e=t.attribute,i=anim8.attribute(e),n=anim8.coalesce(i.property,e),a=anim8.property(n);return this.attributes[e]=i,this.properties[n]=a,this.attributeToProperty[e]=n,this.units[e]=i.defaultUnit||"",this},anim8.DomAnimator.prototype.restore=function(){for(var t in this.properties)this.properties[t].unset(this.subject,this);return this.frame={},this},anim8.DomAnimator.prototype.set=function(t){var e={},i={},n={},a={};for(var r in t){var s=anim8.attribute(r),o=anim8.coalesce(s.property,r),u=anim8.property(o),m=anim8.calculator(s.calculator),l=t[r];if(n[r]=s.defaultUnit||"",anim8.isString(l)){var c=anim8.parseValue(l,s.defaultUnit);c!==!1&&(n[r]=c.unit||s.defaultUnit||"",l=c.value)}var c=m.parse(l,s.defaultValue);c!==!1&&(e[o]=u,t[r]=c,i[r]=!0)}var f={units:n,frame:t,updated:i,styles:a,cached:{},value:function(e){return t[e]+n[e]},valueOr:function(e,i,a){var r=t[e];return anim8.isDefined(r)||(r=t[e=i],anim8.isDefined(a)&&(r=r[a])),r+n[e]}};for(var o in e){var u=e[o];anim8.isFunction(u.preset)&&e[o].preset(this.subject,f)}for(var o in e)e[o].set(this.subject,f);for(var o in a)this.subject.style[o]=a[o];return this},anim8.DomAnimator.prototype.get=function(t){var e={},i={},n={},a={};for(var r in t){var s=anim8.attribute(r),o=anim8.coalesce(s.property,r),u=anim8.property(o),m=anim8.calculator(s.calculator);i[r]=!1,n[r]=t[r]||s.defaultUnit||"",e[o]=u,a[r]=m.clone(s.defaultValue)}var l={units:n,frame:a,animating:i,unit:function(t){return n[t]}};for(var o in e)e[o].get(this.subject,l);return a},anim8.DomAnimator.prototype.ref=function(t,e,i){var n=this,a={};return function(){if(t in n.frame&&anim8.isNumber(n.frame[t]))return anim8.convert(n.e,n.value(t),e,i);a[t]=e;var r=n.get(a);return anim8.isDefined(r[t])?r[t]:anim8.attribute(t).defaultValue}},anim8.DomAnimator.prototype.value=function(t){return this.frame[t]+this.units[t]},anim8.DomAnimator.prototype.valueOr=function(t,e,i){var n=this.frame[t];return anim8.isDefined(n)||(n=this.frame[t=e],anim8.isDefined(i)&&(n=n[i])),n+this.units[t]};
//# sourceMappingURL=anim8js-dom.min.js.map