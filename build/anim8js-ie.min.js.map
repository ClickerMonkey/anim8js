{"version":3,"sources":["anim8js-dom-IE.js"],"names":["concatenateStyle","anim","style","value","anim8","isDefined","styles","browser","IE","window","document","all","compatMode","XMLHttpRequest","querySelector","addEventListener","atob","matrix","identity","m11","m12","m21","m22","dx","dy","multiply","a","b","out","this","rotate","radians","cos","Math","sin","scale","scaleX","scaleY","translate","skew","skewX","skewY","tan","transform","x","y","adjustment","w","h","x0","x1","x2","xmin","min","xmax","max","y0","y1","y2","ymin","ymax","dom","property","get","cacheConverted","e","def","frame","canConvert","valueUnit","units","toUnit","united","subproperty","convert","relativeTo","cached","savedAs","retain","cacheValue","hasValue","cacheDimension","computedValue","defaultProperty","presettings","width","height","rotate3d","skew2dX","skew2dY","translateX","translate2dX","translate3dX","translateY","translate2dY","translate3dY","scale2dX","scale3dX","scale2dY","scale3dY","originX","origin2dX","originY","origin2dY","cachedOrDefault","attribute","defaultUnit","defaultValue","preset","settings","set","scales","translates","rotates","skews","anchorX","anchorY","coalesce","newSize","hw","hh","origin","imageTransform","marginLeft","marginTop","zoom","blur","opacity","filter","minWidth","maxWidth","minHeight","maxHeight"],"mappings":"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","file":"anim8js-ie.min.js","sourcesContent":["anim8.browser = \n{\n  IE: (function() {\n    if (!(window.ActiveXObject) && \"ActiveXObject\" in window) return 11;\n    if (!document.all) return false;\n    if (!document.compatMode) return 5;\n    if (!window.XMLHttpRequest) return 6;\n    if (!document.querySelector) return 7;\n    if (!document.addEventListener) return 8;\n    if (!window.atob) return 9;\n    return 10;\n  })()\n};\n\nanim8.matrix = {\n  \n  identity: function() {\n    return {\n      m11: 1.0, m12: 0.0, m21: 0.0, m22: 1.0, dx: 0.0, dy: 0.0\n    };\n  },\n  \n  multiply: function(a, b) {\n    var out = this.identity(); \n    out.m11 = (a.m11 * b.m11) + (a.m12 * b.m21);\n    out.m22 = (a.m21 * b.m12) + (a.m22 * b.m22);\n    out.m21 = (a.m21 * b.m11) + (a.m22 * b.m21);\n    out.m12 = (a.m11 * b.m12) + (a.m12 * b.m22);\n    out.dx = (a.dx * b.m11) + (a.dy * b.dx) + b.dx;\n    out.dy = (a.dx * b.m12) + (a.dy * b.dy) + b.dy;\n    return out;\n  },\n  \n  rotate: function(radians) {\n    var cos = Math.cos( radians );\n    var sin = Math.sin( radians );\n    var out = this.identity();          \n    out.m11 = cos;\n    out.m12 = sin;\n    out.m21 = -sin;\n    out.m22 = cos;\n    return out;\n  },\n  \n  scale: function(scaleX, scaleY) {\n    var out = this.identity();          \n    out.m11 = scaleX;\n    out.m22 = scaleY;\n    return out;\n  },\n  \n  translate: function(dx, dy) {\n    var out = this.identity();          \n    out.dx = dx;\n    out.dy = dy;\n    return out;\n  },\n\n  skew: function(skewX, skewY) {\n    var out = this.identity();\n    out.m12 = Math.tan( skewX );\n    out.m21 = Math.tan( skewY );\n    return out;\n  },\n\n  transform: function(matrix, x, y) {\n    return {\n      x: matrix.m11 * x + matrix.m12 * y + matrix.dx,\n      y: matrix.m21 * x + matrix.m22 * y + matrix.dy\n    };\n  },\n\n  adjustment: function(matrix, w, h) {\n    var x0 = w * matrix.m11;\n    var x1 = h * matrix.m12;\n    var x2 = w * matrix.m11 + h * matrix.m12;\n    var xmin = Math.min( x0, Math.min( x1, Math.min( x2, 0 ) ) );\n    var xmax = Math.max( x0, Math.max( x1, Math.max( x2, 0 ) ) );\n\n    var y0 = w * matrix.m21;\n    var y1 = h * matrix.m22;\n    var y2 = w * matrix.m21 + h * matrix.m22;\n    var ymin = Math.min( y0, Math.min( y1, Math.min( y2, 0 ) ) );\n    var ymax = Math.max( y0, Math.max( y1, Math.max( y2, 0 ) ) );\n\n    return {\n      x: xmax - xmin,\n      y: ymax - ymin\n    };\n  }\n  \n};\n\nfunction concatenateStyle(anim, style, value)\n{\n  if ( anim8.isDefined( anim.styles[ style ] ) )\n  {\n    anim.styles[ style ] += ' ' + value;\n  }\n  else\n  {\n    anim.styles[ style ] = value;\n  }\n}\n\n/* transform IE <= 8 */\nif ( anim8.browser.IE && anim8.browser.IE <= 8 )\n{\n  anim8.dom.property.transform = \n  {\n    get: function()\n    {\n\n    },\n    cacheConverted: function(e, anim, def)\n    {\n      var value = anim.frame[ def.property ];\n      var canConvert = anim8.isDefined( value );\n\n      if ( canConvert )\n      {\n        var valueUnit = anim.units[ def.property ];\n\n        if ( valueUnit !== def.toUnit )\n        {\n          var united = ( def.subproperty ? value[ def.subproperty ] : value ) + valueUnit;\n\n          value = anim8.dom.convert( e, united, def.toUnit, def.relativeTo );\n        }\n\n        anim.cached[ def.savedAs ] = value;\n      }\n      else if ( !def.retain )\n      {\n        delete anim.cached[ def.savedAs ];\n      }\n\n      return canConvert;\n    },\n    cacheValue: function(e, anim, def)\n    {\n      var value = anim.frame[ def.property ];\n      var hasValue = anim8.isDefined( value );\n\n      if ( hasValue )\n      {\n        anim.cached[ def.savedAs ] = ( def.subproperty ? value[ def.subproperty ] : value );\n      }\n      else\n      {\n        delete anim.cached[ def.savedAs ];\n      }\n\n      return hasValue;\n    },\n    cacheDimension: function(e, anim, def)\n    {\n      if ( !this.cacheConverted( e, anim, def ) )\n      {\n        var computedValue = anim8.dom.style( e, def.property );\n\n        anim.cached[ def.savedAs ] = anim8.dom.convert( e, computedValue, 'px', def.relativeTo ) || e[ def.defaultProperty ];\n      }\n    },\n    presettings:\n    {\n      width: {\n        savedAs: 'width',\n        property: 'width',\n        relativeTo: 'parentWidth',\n        defaultProperty: 'offsetWidth',\n        toUnit: 'px'\n      },\n      height: {\n        savedAs: 'height',\n        property: 'height',\n        relativeTo: 'parentHeight',\n        defaultProperty: 'offsetHeight',\n        toUnit: 'px'\n      },\n      rotate: {\n        savedAs: 'rotate',\n        property: 'rotate',\n        toUnit: 'rad'\n      },\n      rotate3d: {\n        savedAs: 'rotate',\n        property: 'rotate3d',\n        subproperty: 'angle',\n        toUnit: 'rad'\n      },\n      skewX: {\n        savedAs: 'skewX',\n        property: 'skewX',\n        toUnit: 'rad'\n      },\n      skew2dX: {\n        savedAs: 'skewX',\n        property: 'skew',\n        subproperty: 'x',\n        toUnit: 'rad',\n        retain: false\n      },\n      skewY: {\n        savedAs: 'skewY',\n        property: 'skewY',\n        toUnit: 'rad'\n      },\n      skew2dY: {\n        savedAs: 'skewY',\n        property: 'skew',\n        subproperty: 'y',\n        toUnit: 'rad',\n        retain: false\n      },\n      translateX: {\n        savedAs: 'translateX',\n        property: 'translateX',\n        relativeTo: 'width',\n        toUnit: 'px'\n      },\n      translate2dX: {\n        savedAs: 'translateX',\n        property: 'translate',\n        subproperty: 'x',\n        toUnit: 'px',\n        relativeTo: 'width'\n      },\n      translate3dX: {\n        savedAs: 'translateX',\n        property: 'translate3d',\n        subproperty: 'x',\n        toUnit: 'px',\n        relativeTo: 'width',\n        retain: false\n      },\n      translateY: {\n        savedAs: 'translateY',\n        property: 'translateY',\n        relativeTo: 'height',\n        toUnit: 'px'\n      },\n      translate2dY: {\n        savedAs: 'translateY',\n        property: 'translate',\n        subproperty: 'y',\n        toUnit: 'px',\n        relativeTo: 'height'\n      },\n      translate3dY: {\n        savedAs: 'translateY',\n        property: 'translate3d',\n        subproperty: 'y',\n        toUnit: 'px',\n        relativeTo: 'height',\n        retain: false\n      },\n      scaleX: {\n        savedAs: 'scaleX',\n        property: 'scaleX'\n      },\n      scale2dX: {\n        savedAs: 'scaleX',\n        property: 'scale',\n        subproperty: 'x'\n      },\n      scale3dX: {\n        savedAs: 'scaleX',\n        property: 'scale3d',\n        subproperty: 'x',\n        retain: false\n      },\n      scaleY: {\n        savedAs: 'scaleY',\n        property: 'scaleY'\n      },\n      scale2dY: {\n        savedAs: 'scaleY',\n        property: 'scale',\n        subproperty: 'y'\n      },\n      scale3dY: {\n        savedAs: 'scaleY',\n        property: 'scale3d',\n        subproperty: 'y',\n        retain: false\n      },\n      originX: {\n        savedAs: 'originX',\n        property: 'originX',\n        toUnit: '%',\n        relativeTo: 'width'\n      },\n      origin2dX: {\n        savedAs: 'originX',\n        property: 'origin',\n        subproperty: 'x',\n        toUnit: '%',\n        relativeTo: 'width',\n        retain: false\n      },\n      originY: {\n        savedAs: 'originY',\n        property: 'originY',\n        toUnit: '%',\n        relativeTo: 'height'\n      },\n      origin2dY: {\n        savedAs: 'originY',\n        property: 'origin',\n        subproperty: 'y',\n        toUnit: '%',\n        relativeTo: 'height',\n        retain: false\n      }\n    },\n    cachedOrDefault: function(e, value, attribute, toUnit, relativeTo)\n    {\n      if ( anim8.isDefined( value ) )\n      {\n        return value;\n      }\n      if ( attribute.defaultUnit === toUnit )\n      {\n        return attribute.defaultValue;\n      }\n\n      return anim8.dom.convert( e, attribute.defaultValue + attribute.defaultUnit, toUnit, relativeTo );\n    },\n    preset: function(e, anim)\n    {\n      var cached = anim.cached;\n      var settings = this.presettings;\n\n      this.cacheDimension( e, anim, settings.width );\n\n      this.cacheDimension( e, anim, settings.height );\n\n      if ( !this.cacheConverted( e, anim, settings.rotate ) )\n      {\n        this.cacheConverted( e, anim, settings.rotate3d );\n      }\n\n      if ( !this.cacheConverted( e, anim, settings.skewX ) )\n      {\n        this.cacheConverted( e, anim, settings.skew2dX );\n      }\n\n      if ( !this.cacheConverted( e, anim, settings.skewY ) )\n      {\n        this.cacheConverted( e, anim, settings.skew2dY );\n      }\n\n      if ( anim8.isDefined( cached.skewX ) || anim8.isDefined( cached.skewY ) )\n      {\n        cached.skewX = this.cachedOrDefault( e, cached.skewX, anim8.dom.attribute.skewX, 'rad' );\n        cached.skewY = this.cachedOrDefault( e, cached.skewY, anim8.dom.attribute.skewY, 'rad' );\n      }\n\n      if ( !this.cacheConverted( e, anim, settings.translateX ) )\n      {\n        if ( !this.cacheConverted( e, anim, settings.translate2dX ) )\n        {\n          this.cacheConverted( e, anim, settings.translate3dX );\n        }\n      }\n\n      if ( !this.cacheConverted( e, anim, settings.translateY ) )\n      {\n        if ( !this.cacheConverted( e, anim, settings.translate2dY ) )\n        {\n          this.cacheConverted( e, anim, settings.translate3dY );\n        }\n      }\n\n      if ( anim8.isDefined( cached.translateX ) || anim8.isDefined( cached.translateY ) )\n      {\n        cached.translateX = this.cachedOrDefault( e, cached.translateX, anim8.dom.attribute.translateX, 'px', 'width' );\n        cached.translateY = this.cachedOrDefault( e, cached.translateY, anim8.dom.attribute.translateY, 'px', 'height' );\n      }\n\n      if ( !this.cacheValue( e, anim, settings.scaleX ) )\n      {\n        if ( !this.cacheValue( e, anim, settings.scale2dX ) )\n        {\n          this.cacheValue( e, anim, settings.scale3dX );        \n        }\n      }\n\n      if ( !this.cacheValue( e, anim, settings.scaleY ) )\n      {\n        if ( !this.cacheValue( e, anim, settings.scale2dY ) )\n        {\n          this.cacheValue( e, anim, settings.scale3dY );        \n        }\n      }\n\n      if ( !this.cacheConverted( e, anim, settings.originX ) )\n      {\n        this.cacheConverted( e, anim, settings.origin2dX );\n      }\n\n      if ( !this.cacheConverted( e, anim, settings.originY ) )\n      {\n        this.cacheConverted( e, anim, settings.origin2dY );\n      }\n\n      cached.originX = this.cachedOrDefault( e, cached.originX, anim8.dom.attribute.originX, '%', 'width' );\n      cached.originY = this.cachedOrDefault( e, cached.originY, anim8.dom.attribute.originY, '%', 'height' );\n    },\n    set: function(e, anim)\n    {\n      var cached = anim.cached;\n      var w = cached.width;\n      var h = cached.height;\n\n      var scales     = anim8.isDefined( cached.scaleX ) || anim8.isDefined( cached.scaleY );\n      var translates = anim8.isDefined( cached.translateX );\n      var rotates    = anim8.isDefined( cached.rotate );\n      var skews      = anim8.isDefined( cached.skewX );\n\n      if ( scales || rotates || translates || skews )\n      {\n        var anchorX = cached.originX * 0.01;\n        var anchorY = cached.originY * 0.01;\n        var dx = 0;\n        var dy = 0;\n        \n        var matrix = anim8.matrix.identity();\n\n        if ( scales )\n        {\n          matrix = anim8.matrix.multiply( matrix, anim8.matrix.scale( \n            anim8.coalesce( cached.scaleX, anim8.dom.attribute.scaleX.defaultValue ), \n            anim8.coalesce( cached.scaleY, anim8.dom.attribute.scaleY.defaultValue )\n          ));\n        }\n        \n        if ( skews )\n        {\n          matrix = anim8.matrix.multiply( matrix, anim8.matrix.skew( cached.skewX, cached.skewY ) );\n        }\n\n        if ( rotates )\n        {\n          matrix = anim8.matrix.multiply( matrix, anim8.matrix.rotate( cached.rotate ) );\n        }\n        \n        if ( translates )\n        {\n          dx += cached.translateX;\n          dy += cached.translateY;\n        }\n\n        // Calculate the new size of the element based on the matrix. We need to\n        // adjust by the difference because IE is special.\n        var newSize = anim8.matrix.adjustment( matrix, w, h );\n        dx += (w - newSize.x) * 0.5;\n        dy += (h - newSize.y) * 0.5;\n\n        // Adjust for a non-centered transformation\n        var hw = w * 0.5;\n        var hh = h * 0.5;\n        var origin = anim8.matrix.transform( matrix, hw, hh );\n        dx += (hw - origin.x) * (anchorX * 2 - 1);\n        dy += (hh - origin.y) * (anchorY * 2 - 1);\n\n        // Yes, because this makes sense.\n        var imageTransform = 'progid:DXImageTransform.Microsoft.Matrix(SizingMethod=\\'auto expand\\'' + \n          ', M11=' + matrix.m11 + ', M12=' + matrix.m12 + \n          ', M21=' + matrix.m21 + ', M22=' + matrix.m22 + ')';\n\n        // If margin is already specified, add it to the new margin value.\n        if ( anim8.isDefined( anim.styles.marginLeft ) )\n        {\n          dx += anim8.convert( e, anim.styles.marginLeft, 'px', 'width' );\n        }\n        if ( anim8.isDefined( anim.styles.marginTop ) )\n        {\n          dy += anim8.convert( e, anim.styles.marginTop, 'px', 'height' );\n        }\n\n        // Set the margin to account for a lack of translation.\n        anim.styles.marginLeft = dx + 'px';\n        anim.styles.marginTop = dy + 'px';\n\n        // Set the filter properties!\n        concatenateStyle( anim, 'msFilter', '\"' + imageTransform + '\"' );\n        concatenateStyle( anim, 'filter', imageTransform );\n\n        // Force layout\n        anim.styles.zoom = 1;\n      }\n    }\n  };\n}\n\n/* blur IE <= 8 */\nif ( anim8.browser.IE && anim8.browser.IE <= 8 )\n{\n  // var regex = /progid:DXImageTransform\\.Microsoft\\.Blur\\(PixelRadius=([^']+)\\)/;\n\n  anim8.dom.attribute.blur.property = 'blur';\n\n  anim8.dom.property.blur = \n  {\n    get: function() \n    {\n\n    },\n    set: function(e, anim) \n    {\n      var imageTransform = 'progid:DXImageTransform.Microsoft.Blur(PixelRadius=\\'' + (anim.frame.blur) + 'px\\')';\n\n      concatenateStyle( anim, 'msFilter', '\"' + imageTransform + '\"' );\n      concatenateStyle( anim, 'filter', imageTransform );\n\n      anim.styles.zoom = 1;\n    }\n  };\n}\n\n/* opacity <= IE 8 */\nif ( anim8.browser.IE && anim8.browser.IE <= 8 )\n{\n  // var regex = /alpha\\(opacity=([^\\)]+)\\)/i;\n\n  anim8.dom.property.opacity = \n  {\n    get: function() \n    {\n\n    },\n    set: function(e, anim)\n    {\n      var filter = 'alpha(opacity=' + (anim.frame.opacity * 100) + ')';\n\n      concatenateStyle( anim, 'filter', filter );\n\n      anim.styles.zoom = 1;\n    }\n  };\n}\n\n/* minWidth < IE 8 */\nif ( anim8.browser.IE && anim8.browser.IE < 8 )\n{\n  anim8.dom.property.minWidth.set = function(e, anim)\n  {\n    anim.styles.width = 'expression( this.scrollWidth \\< ' + (anim.frame.minWidth + 1) + ' ? \"' + anim.frame.minWidth + anim.units.minWidth + '\" : \"auto\")';\n  };\n}\n\n/* maxWidth < IE 8 */\nif ( anim8.browser.IE && anim8.browser.IE < 8 )\n{\n  anim8.dom.property.maxWidth.set = function(e, anim) \n  {\n    anim.styles.width = 'expression( this.scrollWidth > ' + (anim.frame.maxWidth - 1) + ' ? \"' + anim.frame.maxWidth + anim.units.maxWidth + '\" : \"auto\")';\n  };\n}\n\n/* minHeight < IE 8 */\nif ( anim8.browser.IE && anim8.browser.IE < 8 )\n{\n  anim8.dom.property.minHeight.set = function(e, anim) \n  {\n    anim.styles.height = 'expression( this.scrollHeight \\< ' + (anim.frame.minHeight + 1) + ' ? \"' + anim.frame.minHeight + anim.units.minHeight + '\" : \"auto\")';\n  };\n}\n/* maxHeight < IE 8 */\nif ( anim8.browser.IE && anim8.browser.IE < 8 )\n{\n  anim8.dom.property.maxHeight.set = function(e, anim) \n  {\n    anim.styles.height = 'expression( this.scrollHeight > ' + (anim.frame.maxHeight - 1) + ' ? \"' + anim.frame.maxHeight + anim.units.maxHeight + '\" : \"auto\")';\n  };\n}\n"],"sourceRoot":"/source/"}