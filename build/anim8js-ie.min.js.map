{"version":3,"sources":["anim8js-dom-IE.js"],"names":["anim8","browser","IE","window","document","all","compatMode","XMLHttpRequest","querySelector","addEventListener","atob","matrix","identity","m11","m12","m21","m22","dx","dy","multiply","a","b","out","this","rotate","radians","cos","Math","sin","scale","scaleX","scaleY","translate","skew","skewX","skewY","tan","transform","x","y","adjustment","w","h","x0","x1","x2","xmin","min","xmax","max","y0","y1","y2","ymin","ymax","dom","concatenateStyle","anim","style","value","isDefined","styles","property","get","resolveRelativeTo","relativeTo","cached","isNumber","cacheConverted","e","def","frame","canConvert","valueUnit","units","actualValue","subproperty","toUnit","united","convert","savedAs","remove","cacheValue","hasValue","cacheDimension","computedValue","defaultProperty","cachedOrDefault","attribute","defaultUnit","defaultValue","presettings","width","height","rotate3d","skew2dX","skew2dY","translateX","translate2dX","translate3dX","translateY","translate2dY","translate3dY","scale2dX","scale3dX","scale2dY","scale3dY","originX","origin2dX","originY","origin2dY","preset","settings","attrs","set","scales","translates","rotates","skews","anchorX","anchorY","coalesce","newSize","hw","hh","origin","imageTransform","marginLeft","marginTop","zoom","blur","opacity","filter","minWidth","maxWidth","minHeight","maxHeight"],"mappings":"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","file":"anim8js-ie.min.js","sourcesContent":["anim8.browser = \n{\n  IE: (function() {\n    if (!(window.ActiveXObject) && \"ActiveXObject\" in window) return 11;\n    if (!document.all) return false;\n    if (!document.compatMode) return 5;\n    if (!window.XMLHttpRequest) return 6;\n    if (!document.querySelector) return 7;\n    if (!document.addEventListener) return 8;\n    if (!window.atob) return 9;\n    return 10;\n  })()\n};\n\nanim8.matrix = {\n  \n  identity: function() {\n    return {\n      m11: 1.0, m12: 0.0, m21: 0.0, m22: 1.0, dx: 0.0, dy: 0.0\n    };\n  },\n  \n  multiply: function(a, b) {\n    var out = this.identity(); \n    out.m11 = (a.m11 * b.m11) + (a.m12 * b.m21);\n    out.m22 = (a.m21 * b.m12) + (a.m22 * b.m22);\n    out.m21 = (a.m21 * b.m11) + (a.m22 * b.m21);\n    out.m12 = (a.m11 * b.m12) + (a.m12 * b.m22);\n    out.dx = (a.dx * b.m11) + (a.dy * b.dx) + b.dx;\n    out.dy = (a.dx * b.m12) + (a.dy * b.dy) + b.dy;\n    return out;\n  },\n  \n  rotate: function(radians) {\n    var cos = Math.cos( radians );\n    var sin = Math.sin( radians );\n    var out = this.identity();          \n    out.m11 = cos;\n    out.m12 = sin;\n    out.m21 = -sin;\n    out.m22 = cos;\n    return out;\n  },\n  \n  scale: function(scaleX, scaleY) {\n    var out = this.identity();          \n    out.m11 = scaleX;\n    out.m22 = scaleY;\n    return out;\n  },\n  \n  translate: function(dx, dy) {\n    var out = this.identity();          \n    out.dx = dx;\n    out.dy = dy;\n    return out;\n  },\n\n  skew: function(skewX, skewY) {\n    var out = this.identity();\n    out.m12 = Math.tan( skewX );\n    out.m21 = Math.tan( skewY );\n    return out;\n  },\n\n  transform: function(matrix, x, y) {\n    return {\n      x: matrix.m11 * x + matrix.m12 * y + matrix.dx,\n      y: matrix.m21 * x + matrix.m22 * y + matrix.dy\n    };\n  },\n\n  adjustment: function(matrix, w, h) {\n    var x0 = w * matrix.m11;\n    var x1 = h * matrix.m12;\n    var x2 = w * matrix.m11 + h * matrix.m12;\n    var xmin = Math.min( x0, Math.min( x1, Math.min( x2, 0 ) ) );\n    var xmax = Math.max( x0, Math.max( x1, Math.max( x2, 0 ) ) );\n\n    var y0 = w * matrix.m21;\n    var y1 = h * matrix.m22;\n    var y2 = w * matrix.m21 + h * matrix.m22;\n    var ymin = Math.min( y0, Math.min( y1, Math.min( y2, 0 ) ) );\n    var ymax = Math.max( y0, Math.max( y1, Math.max( y2, 0 ) ) );\n\n    return {\n      x: xmax - xmin,\n      y: ymax - ymin\n    };\n  }\n  \n};\n\nanim8.dom.concatenateStyle = function(anim, style, value)\n{\n  if ( anim8.isDefined( anim.styles[ style ] ) )\n  {\n    anim.styles[ style ] += ' ' + value;\n  }\n  else\n  {\n    anim.styles[ style ] = value;\n  }\n}\n\n/* transform IE <= 8 */\nif ( anim8.browser.IE && anim8.browser.IE <= 8 )\n{\n  anim8.dom.property.transform = \n  {\n    get: function()\n    {\n\n    },\n    resolveRelativeTo: function(anim, relativeTo)\n    {\n      var cached = anim.cached[ relativeTo ];\n\n      if ( anim8.isNumber( cached ) )\n      {\n        return cached * 0.01;\n      }\n\n      return relativeTo;\n    },\n    cacheConverted: function(e, anim, def)\n    {\n      var value = anim.frame[ def.property ];\n      var canConvert = anim8.isDefined( value );\n\n      if ( canConvert )\n      {\n        var valueUnit = anim.units[ def.property ];\n        var actualValue = ( def.subproperty ? value[ def.subproperty ] : value );\n\n        if ( valueUnit !== def.toUnit )\n        {\n          var united = actualValue + valueUnit;\n          var relativeTo = this.resolveRelativeTo( anim, def.relativeTo );\n\n          actualValue = anim8.dom.convert( e, united, def.toUnit, relativeTo );\n        }\n\n        anim.cached[ def.savedAs ] = actualValue;\n      }\n      else if ( def.remove )\n      {\n        delete anim.cached[ def.savedAs ];\n      }\n\n      return canConvert;\n    },\n    cacheValue: function(e, anim, def)\n    {\n      var value = anim.frame[ def.property ];\n      var hasValue = anim8.isDefined( value );\n\n      if ( hasValue )\n      {\n        anim.cached[ def.savedAs ] = ( def.subproperty ? value[ def.subproperty ] : value );\n      }\n      else if ( def.remove )\n      {\n        delete anim.cached[ def.savedAs ];\n      }\n\n      return hasValue;\n    },\n    cacheDimension: function(e, anim, def)\n    {\n      if ( !this.cacheConverted( e, anim, def ) )\n      {\n        var computedValue = anim8.dom.style( e, def.property );\n\n        anim.cached[ def.savedAs ] = anim8.dom.convert( e, computedValue, 'px', def.relativeTo ) || e[ def.defaultProperty ];\n      }\n    },\n    cachedOrDefault: function(e, anim, value, attribute, toUnit, relativeTo)\n    {\n      if ( anim8.isDefined( value ) )\n      {\n        return value;\n      }\n      if ( attribute.defaultUnit === toUnit )\n      {\n        return attribute.defaultValue;\n      }\n\n      relativeTo = this.resolveRelativeTo( anim, relativeTo );\n\n      return anim8.dom.convert( e, attribute.defaultValue + attribute.defaultUnit, toUnit, relativeTo );\n    },\n    presettings:\n    {\n      width: {\n        savedAs: 'width',\n        property: 'width',\n        relativeTo: 'parentWidth',\n        defaultProperty: 'offsetWidth',\n        toUnit: 'px'\n      },\n      height: {\n        savedAs: 'height',\n        property: 'height',\n        relativeTo: 'parentHeight',\n        defaultProperty: 'offsetHeight',\n        toUnit: 'px'\n      },\n      rotate: {\n        savedAs: 'rotate',\n        property: 'rotate',\n        toUnit: 'rad'\n      },\n      rotate3d: {\n        savedAs: 'rotate',\n        property: 'rotate3d',\n        subproperty: 'angle',\n        toUnit: 'rad'\n      },\n      skewX: {\n        savedAs: 'skewX',\n        property: 'skewX',\n        toUnit: 'rad'\n      },\n      skew2dX: {\n        savedAs: 'skewX',\n        property: 'skew',\n        subproperty: 'x',\n        toUnit: 'rad',\n        remove: true\n      },\n      skewY: {\n        savedAs: 'skewY',\n        property: 'skewY',\n        toUnit: 'rad'\n      },\n      skew2dY: {\n        savedAs: 'skewY',\n        property: 'skew',\n        subproperty: 'y',\n        toUnit: 'rad',\n        remove: true\n      },\n      translateX: {\n        savedAs: 'translateX',\n        property: 'translateX',\n        relativeTo: 'width',\n        toUnit: 'px'\n      },\n      translate2dX: {\n        savedAs: 'translateX',\n        property: 'translate',\n        subproperty: 'x',\n        toUnit: 'px',\n        relativeTo: 'width'\n      },\n      translate3dX: {\n        savedAs: 'translateX',\n        property: 'translate3d',\n        subproperty: 'x',\n        toUnit: 'px',\n        relativeTo: 'width',\n        remove: true\n      },\n      translateY: {\n        savedAs: 'translateY',\n        property: 'translateY',\n        relativeTo: 'height',\n        toUnit: 'px'\n      },\n      translate2dY: {\n        savedAs: 'translateY',\n        property: 'translate',\n        subproperty: 'y',\n        toUnit: 'px',\n        relativeTo: 'height'\n      },\n      translate3dY: {\n        savedAs: 'translateY',\n        property: 'translate3d',\n        subproperty: 'y',\n        toUnit: 'px',\n        relativeTo: 'height',\n        remove: true\n      },\n      scaleX: {\n        savedAs: 'scaleX',\n        property: 'scaleX'\n      },\n      scale2dX: {\n        savedAs: 'scaleX',\n        property: 'scale',\n        subproperty: 'x'\n      },\n      scale3dX: {\n        savedAs: 'scaleX',\n        property: 'scale3d',\n        subproperty: 'x',\n        remove: true\n      },\n      scaleY: {\n        savedAs: 'scaleY',\n        property: 'scaleY'\n      },\n      scale2dY: {\n        savedAs: 'scaleY',\n        property: 'scale',\n        subproperty: 'y'\n      },\n      scale3dY: {\n        savedAs: 'scaleY',\n        property: 'scale3d',\n        subproperty: 'y',\n        remove: true\n      },\n      originX: {\n        savedAs: 'originX',\n        property: 'originX',\n        toUnit: '%',\n        relativeTo: 'width'\n      },\n      origin2dX: {\n        savedAs: 'originX',\n        property: 'origin',\n        subproperty: 'x',\n        toUnit: '%',\n        relativeTo: 'width',\n        remove: true\n      },\n      originY: {\n        savedAs: 'originY',\n        property: 'originY',\n        toUnit: '%',\n        relativeTo: 'height'\n      },\n      origin2dY: {\n        savedAs: 'originY',\n        property: 'origin',\n        subproperty: 'y',\n        toUnit: '%',\n        relativeTo: 'height',\n        remove: true\n      }\n    },\n    preset: function(e, anim)\n    {\n      var cached = anim.cached;\n      var settings = this.presettings;\n      var attrs = anim8.dom.attribute;\n\n      this.cacheDimension( e, anim, settings.width );\n\n      this.cacheDimension( e, anim, settings.height );\n\n      if ( !this.cacheConverted( e, anim, settings.rotate ) )\n      {\n        this.cacheConverted( e, anim, settings.rotate3d );\n      }\n\n      if ( !this.cacheConverted( e, anim, settings.skewX ) )\n      {\n        this.cacheConverted( e, anim, settings.skew2dX );\n      }\n\n      if ( !this.cacheConverted( e, anim, settings.skewY ) )\n      {\n        this.cacheConverted( e, anim, settings.skew2dY );\n      }\n\n      if ( anim8.isDefined( cached.skewX ) || anim8.isDefined( cached.skewY ) )\n      {\n        cached.skewX = this.cachedOrDefault( e, anim, cached.skewX, attrs.skewX, 'rad' );\n        cached.skewY = this.cachedOrDefault( e, anim, cached.skewY, attrs.skewY, 'rad' );\n      }\n\n      if ( !this.cacheConverted( e, anim, settings.translateX ) )\n      {\n        if ( !this.cacheConverted( e, anim, settings.translate2dX ) )\n        {\n          this.cacheConverted( e, anim, settings.translate3dX );\n        }\n      }\n\n      if ( !this.cacheConverted( e, anim, settings.translateY ) )\n      {\n        if ( !this.cacheConverted( e, anim, settings.translate2dY ) )\n        {\n          this.cacheConverted( e, anim, settings.translate3dY );\n        }\n      }\n\n      if ( anim8.isDefined( cached.translateX ) || anim8.isDefined( cached.translateY ) )\n      {\n        cached.translateX = this.cachedOrDefault( e, anim, cached.translateX, attrs.translateX, 'px', 'width' );\n        cached.translateY = this.cachedOrDefault( e, anim, cached.translateY, attrs.translateY, 'px', 'height' );\n      }\n\n      if ( !this.cacheValue( e, anim, settings.scaleX ) )\n      {\n        if ( !this.cacheValue( e, anim, settings.scale2dX ) )\n        {\n          this.cacheValue( e, anim, settings.scale3dX );        \n        }\n      }\n\n      if ( !this.cacheValue( e, anim, settings.scaleY ) )\n      {\n        if ( !this.cacheValue( e, anim, settings.scale2dY ) )\n        {\n          this.cacheValue( e, anim, settings.scale3dY );        \n        }\n      }\n\n      if ( !this.cacheConverted( e, anim, settings.originX ) )\n      {\n        this.cacheConverted( e, anim, settings.origin2dX );\n      }\n\n      if ( !this.cacheConverted( e, anim, settings.originY ) )\n      {\n        this.cacheConverted( e, anim, settings.origin2dY );\n      }\n\n      cached.originX = this.cachedOrDefault( e, anim, cached.originX, attrs.originX, '%', 'width' );\n      cached.originY = this.cachedOrDefault( e, anim, cached.originY, attrs.originY, '%', 'height' );\n    },\n    set: function(e, anim)\n    {\n      var cached = anim.cached;\n      var attrs = anim8.dom.attribute;\n      var w = cached.width;\n      var h = cached.height;\n\n      var scales     = anim8.isDefined( cached.scaleX ) || anim8.isDefined( cached.scaleY );\n      var translates = anim8.isDefined( cached.translateX );\n      var rotates    = anim8.isDefined( cached.rotate );\n      var skews      = anim8.isDefined( cached.skewX );\n\n      if ( scales || rotates || translates || skews )\n      {\n        var anchorX = cached.originX * 0.01;\n        var anchorY = cached.originY * 0.01;\n        var dx = 0;\n        var dy = 0;\n        \n        var matrix = anim8.matrix.identity();\n\n        if ( scales )\n        {\n          matrix = anim8.matrix.multiply( matrix, anim8.matrix.scale( \n            anim8.coalesce( cached.scaleX, attrs.scaleX.defaultValue ), \n            anim8.coalesce( cached.scaleY, attrs.scaleY.defaultValue )\n          ));\n        }\n        \n        if ( skews )\n        {\n          matrix = anim8.matrix.multiply( matrix, anim8.matrix.skew( cached.skewX, cached.skewY ) );\n        }\n\n        if ( rotates )\n        {\n          matrix = anim8.matrix.multiply( matrix, anim8.matrix.rotate( cached.rotate ) );\n        }\n        \n        if ( translates )\n        {\n          dx += cached.translateX;\n          dy += cached.translateY;\n        }\n\n        // Calculate the new size of the element based on the matrix. We need to\n        // adjust by the difference because IE is special.\n        var newSize = anim8.matrix.adjustment( matrix, w, h );\n        dx += (w - newSize.x) * 0.5;\n        dy += (h - newSize.y) * 0.5;\n\n        // Adjust for a non-centered transformation\n        var hw = w * 0.5;\n        var hh = h * 0.5;\n        var origin = anim8.matrix.transform( matrix, hw, hh );\n        dx += (hw - origin.x) * (anchorX * 2 - 1);\n        dy += (hh - origin.y) * (anchorY * 2 - 1);\n\n        // Yes, because this makes sense.\n        var imageTransform = 'progid:DXImageTransform.Microsoft.Matrix(SizingMethod=\\'auto expand\\'' + \n          ', M11=' + matrix.m11 + ', M12=' + matrix.m12 + \n          ', M21=' + matrix.m21 + ', M22=' + matrix.m22 + ')';\n\n        // If margin is already specified, add it to the new margin value.\n        if ( anim8.isDefined( anim.styles.marginLeft ) )\n        {\n          dx += anim8.convert( e, anim.styles.marginLeft, 'px', w * 0.01 );\n        }\n        if ( anim8.isDefined( anim.styles.marginTop ) )\n        {\n          dy += anim8.convert( e, anim.styles.marginTop, 'px', h * 0.01 );\n        }\n\n        // Set the margin to account for a lack of translation.\n        anim.styles.marginLeft = dx + 'px';\n        anim.styles.marginTop = dy + 'px';\n\n        // Set the filter properties!\n        anim8.dom.concatenateStyle( anim, 'msFilter', '\"' + imageTransform + '\"' );\n        anim8.dom.concatenateStyle( anim, 'filter', imageTransform );\n\n        // Force layout\n        anim.styles.zoom = 1;\n      }\n    }\n  };\n}\n\n/* blur IE <= 8 */\nif ( anim8.browser.IE && anim8.browser.IE <= 8 )\n{\n  // var regex = /progid:DXImageTransform\\.Microsoft\\.Blur\\(PixelRadius=([^']+)\\)/;\n\n  anim8.dom.attribute.blur.property = 'blur';\n\n  anim8.dom.property.blur = \n  {\n    get: function() \n    {\n\n    },\n    set: function(e, anim) \n    {\n      var imageTransform = 'progid:DXImageTransform.Microsoft.Blur(PixelRadius=\\'' + (anim.frame.blur) + 'px\\')';\n\n      anim8.dom.concatenateStyle( anim, 'msFilter', '\"' + imageTransform + '\"' );\n      anim8.dom.concatenateStyle( anim, 'filter', imageTransform );\n\n      anim.styles.zoom = 1;\n    }\n  };\n}\n\n/* opacity <= IE 8 */\nif ( anim8.browser.IE && anim8.browser.IE <= 8 )\n{\n  // var regex = /alpha\\(opacity=([^\\)]+)\\)/i;\n\n  anim8.dom.property.opacity = \n  {\n    get: function() \n    {\n\n    },\n    set: function(e, anim)\n    {\n      var filter = 'alpha(opacity=' + (anim.frame.opacity * 100) + ')';\n\n      anim8.dom.concatenateStyle( anim, 'filter', filter );\n\n      anim.styles.zoom = 1;\n    }\n  };\n}\n\n/* minWidth < IE 8 */\nif ( anim8.browser.IE && anim8.browser.IE < 8 )\n{\n  anim8.dom.property.minWidth.set = function(e, anim)\n  {\n    anim.styles.width = 'expression( this.scrollWidth \\< ' + (anim.frame.minWidth + 1) + ' ? \"' + anim.frame.minWidth + anim.units.minWidth + '\" : \"auto\")';\n  };\n}\n\n/* maxWidth < IE 8 */\nif ( anim8.browser.IE && anim8.browser.IE < 8 )\n{\n  anim8.dom.property.maxWidth.set = function(e, anim) \n  {\n    anim.styles.width = 'expression( this.scrollWidth > ' + (anim.frame.maxWidth - 1) + ' ? \"' + anim.frame.maxWidth + anim.units.maxWidth + '\" : \"auto\")';\n  };\n}\n\n/* minHeight < IE 8 */\nif ( anim8.browser.IE && anim8.browser.IE < 8 )\n{\n  anim8.dom.property.minHeight.set = function(e, anim) \n  {\n    anim.styles.height = 'expression( this.scrollHeight \\< ' + (anim.frame.minHeight + 1) + ' ? \"' + anim.frame.minHeight + anim.units.minHeight + '\" : \"auto\")';\n  };\n}\n/* maxHeight < IE 8 */\nif ( anim8.browser.IE && anim8.browser.IE < 8 )\n{\n  anim8.dom.property.maxHeight.set = function(e, anim) \n  {\n    anim.styles.height = 'expression( this.scrollHeight > ' + (anim.frame.maxHeight - 1) + ' ? \"' + anim.frame.maxHeight + anim.units.maxHeight + '\" : \"auto\")';\n  };\n}\n"],"sourceRoot":"/source/"}