{"version":3,"sources":["anim8js-dom-IE.js"],"names":["concatenateStyle","anim","style","value","anim8","isDefined","styles","browser","IE","window","document","all","compatMode","XMLHttpRequest","querySelector","addEventListener","atob","matrix","identity","m11","m12","m21","m22","dx","dy","multiply","a","b","out","this","rotate","radians","cos","Math","sin","scale","scaleX","scaleY","translate","skew","skewX","skewY","tan","transform","x","y","adjustment","w","h","x0","x1","x2","xmin","min","xmax","max","y0","y1","y2","ymin","ymax","dom","property","get","resolveRelativeTo","relativeTo","cached","isNumber","cacheConverted","e","def","frame","canConvert","valueUnit","units","toUnit","united","subproperty","convert","savedAs","retain","cacheValue","hasValue","cacheDimension","computedValue","defaultProperty","cachedOrDefault","attribute","defaultUnit","defaultValue","presettings","width","height","rotate3d","skew2dX","skew2dY","translateX","translate2dX","translate3dX","translateY","translate2dY","translate3dY","scale2dX","scale3dX","scale2dY","scale3dY","originX","origin2dX","originY","origin2dY","preset","settings","attrs","set","scales","translates","rotates","skews","anchorX","anchorY","coalesce","newSize","hw","hh","origin","imageTransform","marginLeft","marginTop","zoom","blur","opacity","filter","minWidth","maxWidth","minHeight","maxHeight"],"mappings":"AA6FA,QAAAA,kBAAAC,EAAAC,EAAAC,GAEAC,MAAAC,UAAAJ,EAAAK,OAAAJ,IAEAD,EAAAK,OAAAJ,IAAA,IAAAC,EAIAF,EAAAK,OAAAJ,GAAAC,EArGAC,MAAAG,SAEAC,GAAA,WACA,OAAAC,OAAA,eAAA,iBAAAA,QAAA,GACAC,SAAAC,IACAD,SAAAE,WACAH,OAAAI,eACAH,SAAAI,cACAJ,SAAAK,iBACAN,OAAAO,KACA,GADA,EADA,EADA,EADA,EADA,GADA,MAUAZ,MAAAa,QAEAC,SAAA,WACA,OACAC,IAAA,EAAAC,IAAA,EAAAC,IAAA,EAAAC,IAAA,EAAAC,GAAA,EAAAC,GAAA,IAIAC,SAAA,SAAAC,EAAAC,GACA,GAAAC,GAAAC,KAAAX,UAOA,OANAU,GAAAT,IAAAO,EAAAP,IAAAQ,EAAAR,IAAAO,EAAAN,IAAAO,EAAAN,IACAO,EAAAN,IAAAI,EAAAL,IAAAM,EAAAP,IAAAM,EAAAJ,IAAAK,EAAAL,IACAM,EAAAP,IAAAK,EAAAL,IAAAM,EAAAR,IAAAO,EAAAJ,IAAAK,EAAAN,IACAO,EAAAR,IAAAM,EAAAP,IAAAQ,EAAAP,IAAAM,EAAAN,IAAAO,EAAAL,IACAM,EAAAL,GAAAG,EAAAH,GAAAI,EAAAR,IAAAO,EAAAF,GAAAG,EAAAJ,GAAAI,EAAAJ,GACAK,EAAAJ,GAAAE,EAAAH,GAAAI,EAAAP,IAAAM,EAAAF,GAAAG,EAAAH,GAAAG,EAAAH,GACAI,GAGAE,OAAA,SAAAC,GACA,GAAAC,GAAAC,KAAAD,IAAAD,GACAG,EAAAD,KAAAC,IAAAH,GACAH,EAAAC,KAAAX,UAKA,OAJAU,GAAAT,IAAAa,EACAJ,EAAAR,IAAAc,EACAN,EAAAP,KAAAa,EACAN,EAAAN,IAAAU,EACAJ,GAGAO,MAAA,SAAAC,EAAAC,GACA,GAAAT,GAAAC,KAAAX,UAGA,OAFAU,GAAAT,IAAAiB,EACAR,EAAAN,IAAAe,EACAT,GAGAU,UAAA,SAAAf,EAAAC,GACA,GAAAI,GAAAC,KAAAX,UAGA,OAFAU,GAAAL,GAAAA,EACAK,EAAAJ,GAAAA,EACAI,GAGAW,KAAA,SAAAC,EAAAC,GACA,GAAAb,GAAAC,KAAAX,UAGA,OAFAU,GAAAR,IAAAa,KAAAS,IAAAF,GACAZ,EAAAP,IAAAY,KAAAS,IAAAD,GACAb,GAGAe,UAAA,SAAA1B,EAAA2B,EAAAC,GACA,OACAD,EAAA3B,EAAAE,IAAAyB,EAAA3B,EAAAG,IAAAyB,EAAA5B,EAAAM,GACAsB,EAAA5B,EAAAI,IAAAuB,EAAA3B,EAAAK,IAAAuB,EAAA5B,EAAAO,KAIAsB,WAAA,SAAA7B,EAAA8B,EAAAC,GACA,GAAAC,GAAAF,EAAA9B,EAAAE,IACA+B,EAAAF,EAAA/B,EAAAG,IACA+B,EAAAJ,EAAA9B,EAAAE,IAAA6B,EAAA/B,EAAAG,IACAgC,EAAAnB,KAAAoB,IAAAJ,EAAAhB,KAAAoB,IAAAH,EAAAjB,KAAAoB,IAAAF,EAAA,KACAG,EAAArB,KAAAsB,IAAAN,EAAAhB,KAAAsB,IAAAL,EAAAjB,KAAAsB,IAAAJ,EAAA,KAEAK,EAAAT,EAAA9B,EAAAI,IACAoC,EAAAT,EAAA/B,EAAAK,IACAoC,EAAAX,EAAA9B,EAAAI,IAAA2B,EAAA/B,EAAAK,IACAqC,EAAA1B,KAAAoB,IAAAG,EAAAvB,KAAAoB,IAAAI,EAAAxB,KAAAoB,IAAAK,EAAA,KACAE,EAAA3B,KAAAsB,IAAAC,EAAAvB,KAAAsB,IAAAE,EAAAxB,KAAAsB,IAAAG,EAAA,IAEA,QACAd,EAAAU,EAAAF,EACAP,EAAAe,EAAAD,KAmBAvD,MAAAG,QAAAC,IAAAJ,MAAAG,QAAAC,IAAA,IAEAJ,MAAAyD,IAAAC,SAAAnB,WAEAoB,IAAA,aAIAC,kBAAA,SAAA/D,EAAAgE,GAEA,GAAAC,GAAAjE,EAAAiE,OAAAD,EAEA,OAAA7D,OAAA+D,SAAAD,GAEA,IAAAA,EAGAD,GAEAG,eAAA,SAAAC,EAAApE,EAAAqE,GAEA,GAAAnE,GAAAF,EAAAsE,MAAAD,EAAAR,UACAU,EAAApE,MAAAC,UAAAF,EAEA,IAAAqE,EACA,CACA,GAAAC,GAAAxE,EAAAyE,MAAAJ,EAAAR,SAEA,IAAAW,IAAAH,EAAAK,OACA,CACA,GAAAC,IAAAN,EAAAO,YAAA1E,EAAAmE,EAAAO,aAAA1E,GAAAsE,EACAR,EAAApC,KAAAmC,kBAAA/D,EAAAqE,EAAAL,WAEA9D,GAAAC,MAAAyD,IAAAiB,QAAAT,EAAAO,EAAAN,EAAAK,OAAAV,GAGAhE,EAAAiE,OAAAI,EAAAS,SAAA5E,MAEAmE,GAAAU,cAEA/E,GAAAiE,OAAAI,EAAAS,QAGA,OAAAP,IAEAS,WAAA,SAAAZ,EAAApE,EAAAqE,GAEA,GAAAnE,GAAAF,EAAAsE,MAAAD,EAAAR,UACAoB,EAAA9E,MAAAC,UAAAF,EAWA,OATA+E,GAEAjF,EAAAiE,OAAAI,EAAAS,SAAAT,EAAAO,YAAA1E,EAAAmE,EAAAO,aAAA1E,QAIAF,GAAAiE,OAAAI,EAAAS,SAGAG,GAEAC,eAAA,SAAAd,EAAApE,EAAAqE,GAEA,IAAAzC,KAAAuC,eAAAC,EAAApE,EAAAqE,GACA,CACA,GAAAc,GAAAhF,MAAAyD,IAAA3D,MAAAmE,EAAAC,EAAAR,SAEA7D,GAAAiE,OAAAI,EAAAS,SAAA3E,MAAAyD,IAAAiB,QAAAT,EAAAe,EAAA,KAAAd,EAAAL,aAAAI,EAAAC,EAAAe,mBAGAC,gBAAA,SAAAjB,EAAApE,EAAAE,EAAAoF,EAAAZ,EAAAV,GAEA,MAAA7D,OAAAC,UAAAF,GAEAA,EAEAoF,EAAAC,cAAAb,EAEAY,EAAAE,cAGAxB,EAAApC,KAAAmC,kBAAA/D,EAAAgE,GAEA7D,MAAAyD,IAAAiB,QAAAT,EAAAkB,EAAAE,aAAAF,EAAAC,YAAAb,EAAAV,KAEAyB,aAEAC,OACAZ,QAAA,QACAjB,SAAA,QACAG,WAAA,cACAoB,gBAAA,cACAV,OAAA,MAEAiB,QACAb,QAAA,SACAjB,SAAA,SACAG,WAAA,eACAoB,gBAAA,eACAV,OAAA,MAEA7C,QACAiD,QAAA,SACAjB,SAAA,SACAa,OAAA,OAEAkB,UACAd,QAAA,SACAjB,SAAA,WACAe,YAAA,QACAF,OAAA,OAEAnC,OACAuC,QAAA,QACAjB,SAAA,QACAa,OAAA,OAEAmB,SACAf,QAAA,QACAjB,SAAA,OACAe,YAAA,IACAF,OAAA,MACAK,QAAA,GAEAvC,OACAsC,QAAA,QACAjB,SAAA,QACAa,OAAA,OAEAoB,SACAhB,QAAA,QACAjB,SAAA,OACAe,YAAA,IACAF,OAAA,MACAK,QAAA,GAEAgB,YACAjB,QAAA,aACAjB,SAAA,aACAG,WAAA,QACAU,OAAA,MAEAsB,cACAlB,QAAA,aACAjB,SAAA,YACAe,YAAA,IACAF,OAAA,KACAV,WAAA,SAEAiC,cACAnB,QAAA,aACAjB,SAAA,cACAe,YAAA,IACAF,OAAA,KACAV,WAAA,QACAe,QAAA,GAEAmB,YACApB,QAAA,aACAjB,SAAA,aACAG,WAAA,SACAU,OAAA,MAEAyB,cACArB,QAAA,aACAjB,SAAA,YACAe,YAAA,IACAF,OAAA,KACAV,WAAA,UAEAoC,cACAtB,QAAA,aACAjB,SAAA,cACAe,YAAA,IACAF,OAAA,KACAV,WAAA,SACAe,QAAA,GAEA5C,QACA2C,QAAA,SACAjB,SAAA,UAEAwC,UACAvB,QAAA,SACAjB,SAAA,QACAe,YAAA,KAEA0B,UACAxB,QAAA,SACAjB,SAAA,UACAe,YAAA,IACAG,QAAA,GAEA3C,QACA0C,QAAA,SACAjB,SAAA,UAEA0C,UACAzB,QAAA,SACAjB,SAAA,QACAe,YAAA,KAEA4B,UACA1B,QAAA,SACAjB,SAAA,UACAe,YAAA,IACAG,QAAA,GAEA0B,SACA3B,QAAA,UACAjB,SAAA,UACAa,OAAA,IACAV,WAAA,SAEA0C,WACA5B,QAAA,UACAjB,SAAA,SACAe,YAAA,IACAF,OAAA,IACAV,WAAA,QACAe,QAAA,GAEA4B,SACA7B,QAAA,UACAjB,SAAA,UACAa,OAAA,IACAV,WAAA,UAEA4C,WACA9B,QAAA,UACAjB,SAAA,SACAe,YAAA,IACAF,OAAA,IACAV,WAAA,SACAe,QAAA,IAGA8B,OAAA,SAAAzC,EAAApE,GAEA,GAAAiE,GAAAjE,EAAAiE,OACA6C,EAAAlF,KAAA6D,YACAsB,EAAA5G,MAAAyD,IAAA0B,SAEA1D,MAAAsD,eAAAd,EAAApE,EAAA8G,EAAApB,OAEA9D,KAAAsD,eAAAd,EAAApE,EAAA8G,EAAAnB,QAEA/D,KAAAuC,eAAAC,EAAApE,EAAA8G,EAAAjF,SAEAD,KAAAuC,eAAAC,EAAApE,EAAA8G,EAAAlB,UAGAhE,KAAAuC,eAAAC,EAAApE,EAAA8G,EAAAvE,QAEAX,KAAAuC,eAAAC,EAAApE,EAAA8G,EAAAjB,SAGAjE,KAAAuC,eAAAC,EAAApE,EAAA8G,EAAAtE,QAEAZ,KAAAuC,eAAAC,EAAApE,EAAA8G,EAAAhB,UAGA3F,MAAAC,UAAA6D,EAAA1B,QAAApC,MAAAC,UAAA6D,EAAAzB,UAEAyB,EAAA1B,MAAAX,KAAAyD,gBAAAjB,EAAApE,EAAAiE,EAAA1B,MAAAwE,EAAAxE,MAAA,OACA0B,EAAAzB,MAAAZ,KAAAyD,gBAAAjB,EAAApE,EAAAiE,EAAAzB,MAAAuE,EAAAvE,MAAA,QAGAZ,KAAAuC,eAAAC,EAAApE,EAAA8G,EAAAf,aAEAnE,KAAAuC,eAAAC,EAAApE,EAAA8G,EAAAd,eAEApE,KAAAuC,eAAAC,EAAApE,EAAA8G,EAAAb,cAIArE,KAAAuC,eAAAC,EAAApE,EAAA8G,EAAAZ,aAEAtE,KAAAuC,eAAAC,EAAApE,EAAA8G,EAAAX,eAEAvE,KAAAuC,eAAAC,EAAApE,EAAA8G,EAAAV,eAIAjG,MAAAC,UAAA6D,EAAA8B,aAAA5F,MAAAC,UAAA6D,EAAAiC,eAEAjC,EAAA8B,WAAAnE,KAAAyD,gBAAAjB,EAAApE,EAAAiE,EAAA8B,WAAAgB,EAAAhB,WAAA,KAAA,SACA9B,EAAAiC,WAAAtE,KAAAyD,gBAAAjB,EAAApE,EAAAiE,EAAAiC,WAAAa,EAAAb,WAAA,KAAA,WAGAtE,KAAAoD,WAAAZ,EAAApE,EAAA8G,EAAA3E,SAEAP,KAAAoD,WAAAZ,EAAApE,EAAA8G,EAAAT,WAEAzE,KAAAoD,WAAAZ,EAAApE,EAAA8G,EAAAR,UAIA1E,KAAAoD,WAAAZ,EAAApE,EAAA8G,EAAA1E,SAEAR,KAAAoD,WAAAZ,EAAApE,EAAA8G,EAAAP,WAEA3E,KAAAoD,WAAAZ,EAAApE,EAAA8G,EAAAN,UAIA5E,KAAAuC,eAAAC,EAAApE,EAAA8G,EAAAL,UAEA7E,KAAAuC,eAAAC,EAAApE,EAAA8G,EAAAJ,WAGA9E,KAAAuC,eAAAC,EAAApE,EAAA8G,EAAAH,UAEA/E,KAAAuC,eAAAC,EAAApE,EAAA8G,EAAAF,WAGA3C,EAAAwC,QAAA7E,KAAAyD,gBAAAjB,EAAApE,EAAAiE,EAAAwC,QAAAM,EAAAN,QAAA,IAAA,SACAxC,EAAA0C,QAAA/E,KAAAyD,gBAAAjB,EAAApE,EAAAiE,EAAA0C,QAAAI,EAAAJ,QAAA,IAAA,WAEAK,IAAA,SAAA5C,EAAApE,GAEA,GAAAiE,GAAAjE,EAAAiE,OACA8C,EAAA5G,MAAAyD,IAAA0B,UACAxC,EAAAmB,EAAAyB,MACA3C,EAAAkB,EAAA0B,OAEAsB,EAAA9G,MAAAC,UAAA6D,EAAA9B,SAAAhC,MAAAC,UAAA6D,EAAA7B,QACA8E,EAAA/G,MAAAC,UAAA6D,EAAA8B,YACAoB,EAAAhH,MAAAC,UAAA6D,EAAApC,QACAuF,EAAAjH,MAAAC,UAAA6D,EAAA1B,MAEA,IAAA0E,GAAAE,GAAAD,GAAAE,EACA,CACA,GAAAC,GAAA,IAAApD,EAAAwC,QACAa,EAAA,IAAArD,EAAA0C,QACArF,EAAA,EACAC,EAAA,EAEAP,EAAAb,MAAAa,OAAAC,UAEAgG,KAEAjG,EAAAb,MAAAa,OAAAQ,SAAAR,EAAAb,MAAAa,OAAAkB,MACA/B,MAAAoH,SAAAtD,EAAA9B,OAAA4E,EAAA5E,OAAAqD,cACArF,MAAAoH,SAAAtD,EAAA7B,OAAA2E,EAAA3E,OAAAoD,iBAIA4B,IAEApG,EAAAb,MAAAa,OAAAQ,SAAAR,EAAAb,MAAAa,OAAAsB,KAAA2B,EAAA1B,MAAA0B,EAAAzB,SAGA2E,IAEAnG,EAAAb,MAAAa,OAAAQ,SAAAR,EAAAb,MAAAa,OAAAa,OAAAoC,EAAApC,UAGAqF,IAEA5F,GAAA2C,EAAA8B,WACAxE,GAAA0C,EAAAiC,WAKA,IAAAsB,GAAArH,MAAAa,OAAA6B,WAAA7B,EAAA8B,EAAAC,EACAzB,IAAA,IAAAwB,EAAA0E,EAAA7E,GACApB,GAAA,IAAAwB,EAAAyE,EAAA5E,EAGA,IAAA6E,GAAA,GAAA3E,EACA4E,EAAA,GAAA3E,EACA4E,EAAAxH,MAAAa,OAAA0B,UAAA1B,EAAAyG,EAAAC,EACApG,KAAAmG,EAAAE,EAAAhF,IAAA,EAAA0E,EAAA,GACA9F,IAAAmG,EAAAC,EAAA/E,IAAA,EAAA0E,EAAA,EAGA,IAAAM,GAAA,4EACA5G,EAAAE,IAAA,SAAAF,EAAAG,IACA,SAAAH,EAAAI,IAAA,SAAAJ,EAAAK,IAAA,GAGAlB,OAAAC,UAAAJ,EAAAK,OAAAwH,cAEAvG,GAAAnB,MAAA0E,QAAAT,EAAApE,EAAAK,OAAAwH,WAAA,KAAA,UAEA1H,MAAAC,UAAAJ,EAAAK,OAAAyH,aAEAvG,GAAApB,MAAA0E,QAAAT,EAAApE,EAAAK,OAAAyH,UAAA,KAAA,WAIA9H,EAAAK,OAAAwH,WAAAvG,EAAA,KACAtB,EAAAK,OAAAyH,UAAAvG,EAAA,KAGAxB,iBAAAC,EAAA,WAAA,IAAA4H,EAAA,KACA7H,iBAAAC,EAAA,SAAA4H,GAGA5H,EAAAK,OAAA0H,KAAA,MAOA5H,MAAAG,QAAAC,IAAAJ,MAAAG,QAAAC,IAAA,IAIAJ,MAAAyD,IAAA0B,UAAA0C,KAAAnE,SAAA,OAEA1D,MAAAyD,IAAAC,SAAAmE,MAEAlE,IAAA,aAIAkD,IAAA,SAAA5C,EAAApE,GAEA,GAAA4H,GAAA,uDAAA5H,EAAAsE,MAAA,KAAA,MAEAvE,kBAAAC,EAAA,WAAA,IAAA4H,EAAA,KACA7H,iBAAAC,EAAA,SAAA4H,GAEA5H,EAAAK,OAAA0H,KAAA,KAMA5H,MAAAG,QAAAC,IAAAJ,MAAAG,QAAAC,IAAA,IAIAJ,MAAAyD,IAAAC,SAAAoE,SAEAnE,IAAA,aAIAkD,IAAA,SAAA5C,EAAApE,GAEA,GAAAkI,GAAA,iBAAA,IAAAlI,EAAAsE,MAAA2D,QAAA,GAEAlI,kBAAAC,EAAA,SAAAkI,GAEAlI,EAAAK,OAAA0H,KAAA,KAMA5H,MAAAG,QAAAC,IAAAJ,MAAAG,QAAAC,GAAA,IAEAJ,MAAAyD,IAAAC,SAAAsE,SAAAnB,IAAA,SAAA5C,EAAApE,GAEAA,EAAAK,OAAAqF,MAAA,mCAAA1F,EAAAsE,MAAA6D,SAAA,GAAA,OAAAnI,EAAAsE,MAAA6D,SAAAnI,EAAAyE,MAAA0D,SAAA,gBAKAhI,MAAAG,QAAAC,IAAAJ,MAAAG,QAAAC,GAAA,IAEAJ,MAAAyD,IAAAC,SAAAuE,SAAApB,IAAA,SAAA5C,EAAApE,GAEAA,EAAAK,OAAAqF,MAAA,mCAAA1F,EAAAsE,MAAA8D,SAAA,GAAA,OAAApI,EAAAsE,MAAA8D,SAAApI,EAAAyE,MAAA2D,SAAA,gBAKAjI,MAAAG,QAAAC,IAAAJ,MAAAG,QAAAC,GAAA,IAEAJ,MAAAyD,IAAAC,SAAAwE,UAAArB,IAAA,SAAA5C,EAAApE,GAEAA,EAAAK,OAAAsF,OAAA,oCAAA3F,EAAAsE,MAAA+D,UAAA,GAAA,OAAArI,EAAAsE,MAAA+D,UAAArI,EAAAyE,MAAA4D,UAAA,gBAIAlI,MAAAG,QAAAC,IAAAJ,MAAAG,QAAAC,GAAA,IAEAJ,MAAAyD,IAAAC,SAAAyE,UAAAtB,IAAA,SAAA5C,EAAApE,GAEAA,EAAAK,OAAAsF,OAAA,oCAAA3F,EAAAsE,MAAAgE,UAAA,GAAA,OAAAtI,EAAAsE,MAAAgE,UAAAtI,EAAAyE,MAAA6D,UAAA","file":"anim8js-ie.min.js","sourcesContent":["anim8.browser = \n{\n  IE: (function() {\n    if (!(window.ActiveXObject) && \"ActiveXObject\" in window) return 11;\n    if (!document.all) return false;\n    if (!document.compatMode) return 5;\n    if (!window.XMLHttpRequest) return 6;\n    if (!document.querySelector) return 7;\n    if (!document.addEventListener) return 8;\n    if (!window.atob) return 9;\n    return 10;\n  })()\n};\n\nanim8.matrix = {\n  \n  identity: function() {\n    return {\n      m11: 1.0, m12: 0.0, m21: 0.0, m22: 1.0, dx: 0.0, dy: 0.0\n    };\n  },\n  \n  multiply: function(a, b) {\n    var out = this.identity(); \n    out.m11 = (a.m11 * b.m11) + (a.m12 * b.m21);\n    out.m22 = (a.m21 * b.m12) + (a.m22 * b.m22);\n    out.m21 = (a.m21 * b.m11) + (a.m22 * b.m21);\n    out.m12 = (a.m11 * b.m12) + (a.m12 * b.m22);\n    out.dx = (a.dx * b.m11) + (a.dy * b.dx) + b.dx;\n    out.dy = (a.dx * b.m12) + (a.dy * b.dy) + b.dy;\n    return out;\n  },\n  \n  rotate: function(radians) {\n    var cos = Math.cos( radians );\n    var sin = Math.sin( radians );\n    var out = this.identity();          \n    out.m11 = cos;\n    out.m12 = sin;\n    out.m21 = -sin;\n    out.m22 = cos;\n    return out;\n  },\n  \n  scale: function(scaleX, scaleY) {\n    var out = this.identity();          \n    out.m11 = scaleX;\n    out.m22 = scaleY;\n    return out;\n  },\n  \n  translate: function(dx, dy) {\n    var out = this.identity();          \n    out.dx = dx;\n    out.dy = dy;\n    return out;\n  },\n\n  skew: function(skewX, skewY) {\n    var out = this.identity();\n    out.m12 = Math.tan( skewX );\n    out.m21 = Math.tan( skewY );\n    return out;\n  },\n\n  transform: function(matrix, x, y) {\n    return {\n      x: matrix.m11 * x + matrix.m12 * y + matrix.dx,\n      y: matrix.m21 * x + matrix.m22 * y + matrix.dy\n    };\n  },\n\n  adjustment: function(matrix, w, h) {\n    var x0 = w * matrix.m11;\n    var x1 = h * matrix.m12;\n    var x2 = w * matrix.m11 + h * matrix.m12;\n    var xmin = Math.min( x0, Math.min( x1, Math.min( x2, 0 ) ) );\n    var xmax = Math.max( x0, Math.max( x1, Math.max( x2, 0 ) ) );\n\n    var y0 = w * matrix.m21;\n    var y1 = h * matrix.m22;\n    var y2 = w * matrix.m21 + h * matrix.m22;\n    var ymin = Math.min( y0, Math.min( y1, Math.min( y2, 0 ) ) );\n    var ymax = Math.max( y0, Math.max( y1, Math.max( y2, 0 ) ) );\n\n    return {\n      x: xmax - xmin,\n      y: ymax - ymin\n    };\n  }\n  \n};\n\nfunction concatenateStyle(anim, style, value)\n{\n  if ( anim8.isDefined( anim.styles[ style ] ) )\n  {\n    anim.styles[ style ] += ' ' + value;\n  }\n  else\n  {\n    anim.styles[ style ] = value;\n  }\n}\n\n/* transform IE <= 8 */\nif ( anim8.browser.IE && anim8.browser.IE <= 8 )\n{\n  anim8.dom.property.transform = \n  {\n    get: function()\n    {\n\n    },\n    resolveRelativeTo: function(anim, relativeTo)\n    {\n      var cached = anim.cached[ relativeTo ];\n\n      if ( anim8.isNumber( cached ) )\n      {\n        return cached * 0.01;\n      }\n\n      return relativeTo;\n    },\n    cacheConverted: function(e, anim, def)\n    {\n      var value = anim.frame[ def.property ];\n      var canConvert = anim8.isDefined( value );\n\n      if ( canConvert )\n      {\n        var valueUnit = anim.units[ def.property ];\n\n        if ( valueUnit !== def.toUnit )\n        {\n          var united = ( def.subproperty ? value[ def.subproperty ] : value ) + valueUnit;\n          var relativeTo = this.resolveRelativeTo( anim, def.relativeTo );\n\n          value = anim8.dom.convert( e, united, def.toUnit, relativeTo );\n        }\n\n        anim.cached[ def.savedAs ] = value;\n      }\n      else if ( !def.retain )\n      {\n        delete anim.cached[ def.savedAs ];\n      }\n\n      return canConvert;\n    },\n    cacheValue: function(e, anim, def)\n    {\n      var value = anim.frame[ def.property ];\n      var hasValue = anim8.isDefined( value );\n\n      if ( hasValue )\n      {\n        anim.cached[ def.savedAs ] = ( def.subproperty ? value[ def.subproperty ] : value );\n      }\n      else\n      {\n        delete anim.cached[ def.savedAs ];\n      }\n\n      return hasValue;\n    },\n    cacheDimension: function(e, anim, def)\n    {\n      if ( !this.cacheConverted( e, anim, def ) )\n      {\n        var computedValue = anim8.dom.style( e, def.property );\n\n        anim.cached[ def.savedAs ] = anim8.dom.convert( e, computedValue, 'px', def.relativeTo ) || e[ def.defaultProperty ];\n      }\n    },\n    cachedOrDefault: function(e, anim, value, attribute, toUnit, relativeTo)\n    {\n      if ( anim8.isDefined( value ) )\n      {\n        return value;\n      }\n      if ( attribute.defaultUnit === toUnit )\n      {\n        return attribute.defaultValue;\n      }\n\n      relativeTo = this.resolveRelativeTo( anim, relativeTo );\n\n      return anim8.dom.convert( e, attribute.defaultValue + attribute.defaultUnit, toUnit, relativeTo );\n    },\n    presettings:\n    {\n      width: {\n        savedAs: 'width',\n        property: 'width',\n        relativeTo: 'parentWidth',\n        defaultProperty: 'offsetWidth',\n        toUnit: 'px'\n      },\n      height: {\n        savedAs: 'height',\n        property: 'height',\n        relativeTo: 'parentHeight',\n        defaultProperty: 'offsetHeight',\n        toUnit: 'px'\n      },\n      rotate: {\n        savedAs: 'rotate',\n        property: 'rotate',\n        toUnit: 'rad'\n      },\n      rotate3d: {\n        savedAs: 'rotate',\n        property: 'rotate3d',\n        subproperty: 'angle',\n        toUnit: 'rad'\n      },\n      skewX: {\n        savedAs: 'skewX',\n        property: 'skewX',\n        toUnit: 'rad'\n      },\n      skew2dX: {\n        savedAs: 'skewX',\n        property: 'skew',\n        subproperty: 'x',\n        toUnit: 'rad',\n        retain: false\n      },\n      skewY: {\n        savedAs: 'skewY',\n        property: 'skewY',\n        toUnit: 'rad'\n      },\n      skew2dY: {\n        savedAs: 'skewY',\n        property: 'skew',\n        subproperty: 'y',\n        toUnit: 'rad',\n        retain: false\n      },\n      translateX: {\n        savedAs: 'translateX',\n        property: 'translateX',\n        relativeTo: 'width',\n        toUnit: 'px'\n      },\n      translate2dX: {\n        savedAs: 'translateX',\n        property: 'translate',\n        subproperty: 'x',\n        toUnit: 'px',\n        relativeTo: 'width'\n      },\n      translate3dX: {\n        savedAs: 'translateX',\n        property: 'translate3d',\n        subproperty: 'x',\n        toUnit: 'px',\n        relativeTo: 'width',\n        retain: false\n      },\n      translateY: {\n        savedAs: 'translateY',\n        property: 'translateY',\n        relativeTo: 'height',\n        toUnit: 'px'\n      },\n      translate2dY: {\n        savedAs: 'translateY',\n        property: 'translate',\n        subproperty: 'y',\n        toUnit: 'px',\n        relativeTo: 'height'\n      },\n      translate3dY: {\n        savedAs: 'translateY',\n        property: 'translate3d',\n        subproperty: 'y',\n        toUnit: 'px',\n        relativeTo: 'height',\n        retain: false\n      },\n      scaleX: {\n        savedAs: 'scaleX',\n        property: 'scaleX'\n      },\n      scale2dX: {\n        savedAs: 'scaleX',\n        property: 'scale',\n        subproperty: 'x'\n      },\n      scale3dX: {\n        savedAs: 'scaleX',\n        property: 'scale3d',\n        subproperty: 'x',\n        retain: false\n      },\n      scaleY: {\n        savedAs: 'scaleY',\n        property: 'scaleY'\n      },\n      scale2dY: {\n        savedAs: 'scaleY',\n        property: 'scale',\n        subproperty: 'y'\n      },\n      scale3dY: {\n        savedAs: 'scaleY',\n        property: 'scale3d',\n        subproperty: 'y',\n        retain: false\n      },\n      originX: {\n        savedAs: 'originX',\n        property: 'originX',\n        toUnit: '%',\n        relativeTo: 'width'\n      },\n      origin2dX: {\n        savedAs: 'originX',\n        property: 'origin',\n        subproperty: 'x',\n        toUnit: '%',\n        relativeTo: 'width',\n        retain: false\n      },\n      originY: {\n        savedAs: 'originY',\n        property: 'originY',\n        toUnit: '%',\n        relativeTo: 'height'\n      },\n      origin2dY: {\n        savedAs: 'originY',\n        property: 'origin',\n        subproperty: 'y',\n        toUnit: '%',\n        relativeTo: 'height',\n        retain: false\n      }\n    },\n    preset: function(e, anim)\n    {\n      var cached = anim.cached;\n      var settings = this.presettings;\n      var attrs = anim8.dom.attribute;\n\n      this.cacheDimension( e, anim, settings.width );\n\n      this.cacheDimension( e, anim, settings.height );\n\n      if ( !this.cacheConverted( e, anim, settings.rotate ) )\n      {\n        this.cacheConverted( e, anim, settings.rotate3d );\n      }\n\n      if ( !this.cacheConverted( e, anim, settings.skewX ) )\n      {\n        this.cacheConverted( e, anim, settings.skew2dX );\n      }\n\n      if ( !this.cacheConverted( e, anim, settings.skewY ) )\n      {\n        this.cacheConverted( e, anim, settings.skew2dY );\n      }\n\n      if ( anim8.isDefined( cached.skewX ) || anim8.isDefined( cached.skewY ) )\n      {\n        cached.skewX = this.cachedOrDefault( e, anim, cached.skewX, attrs.skewX, 'rad' );\n        cached.skewY = this.cachedOrDefault( e, anim, cached.skewY, attrs.skewY, 'rad' );\n      }\n\n      if ( !this.cacheConverted( e, anim, settings.translateX ) )\n      {\n        if ( !this.cacheConverted( e, anim, settings.translate2dX ) )\n        {\n          this.cacheConverted( e, anim, settings.translate3dX );\n        }\n      }\n\n      if ( !this.cacheConverted( e, anim, settings.translateY ) )\n      {\n        if ( !this.cacheConverted( e, anim, settings.translate2dY ) )\n        {\n          this.cacheConverted( e, anim, settings.translate3dY );\n        }\n      }\n\n      if ( anim8.isDefined( cached.translateX ) || anim8.isDefined( cached.translateY ) )\n      {\n        cached.translateX = this.cachedOrDefault( e, anim, cached.translateX, attrs.translateX, 'px', 'width' );\n        cached.translateY = this.cachedOrDefault( e, anim, cached.translateY, attrs.translateY, 'px', 'height' );\n      }\n\n      if ( !this.cacheValue( e, anim, settings.scaleX ) )\n      {\n        if ( !this.cacheValue( e, anim, settings.scale2dX ) )\n        {\n          this.cacheValue( e, anim, settings.scale3dX );        \n        }\n      }\n\n      if ( !this.cacheValue( e, anim, settings.scaleY ) )\n      {\n        if ( !this.cacheValue( e, anim, settings.scale2dY ) )\n        {\n          this.cacheValue( e, anim, settings.scale3dY );        \n        }\n      }\n\n      if ( !this.cacheConverted( e, anim, settings.originX ) )\n      {\n        this.cacheConverted( e, anim, settings.origin2dX );\n      }\n\n      if ( !this.cacheConverted( e, anim, settings.originY ) )\n      {\n        this.cacheConverted( e, anim, settings.origin2dY );\n      }\n\n      cached.originX = this.cachedOrDefault( e, anim, cached.originX, attrs.originX, '%', 'width' );\n      cached.originY = this.cachedOrDefault( e, anim, cached.originY, attrs.originY, '%', 'height' );\n    },\n    set: function(e, anim)\n    {\n      var cached = anim.cached;\n      var attrs = anim8.dom.attribute;\n      var w = cached.width;\n      var h = cached.height;\n\n      var scales     = anim8.isDefined( cached.scaleX ) || anim8.isDefined( cached.scaleY );\n      var translates = anim8.isDefined( cached.translateX );\n      var rotates    = anim8.isDefined( cached.rotate );\n      var skews      = anim8.isDefined( cached.skewX );\n\n      if ( scales || rotates || translates || skews )\n      {\n        var anchorX = cached.originX * 0.01;\n        var anchorY = cached.originY * 0.01;\n        var dx = 0;\n        var dy = 0;\n        \n        var matrix = anim8.matrix.identity();\n\n        if ( scales )\n        {\n          matrix = anim8.matrix.multiply( matrix, anim8.matrix.scale( \n            anim8.coalesce( cached.scaleX, attrs.scaleX.defaultValue ), \n            anim8.coalesce( cached.scaleY, attrs.scaleY.defaultValue )\n          ));\n        }\n        \n        if ( skews )\n        {\n          matrix = anim8.matrix.multiply( matrix, anim8.matrix.skew( cached.skewX, cached.skewY ) );\n        }\n\n        if ( rotates )\n        {\n          matrix = anim8.matrix.multiply( matrix, anim8.matrix.rotate( cached.rotate ) );\n        }\n        \n        if ( translates )\n        {\n          dx += cached.translateX;\n          dy += cached.translateY;\n        }\n\n        // Calculate the new size of the element based on the matrix. We need to\n        // adjust by the difference because IE is special.\n        var newSize = anim8.matrix.adjustment( matrix, w, h );\n        dx += (w - newSize.x) * 0.5;\n        dy += (h - newSize.y) * 0.5;\n\n        // Adjust for a non-centered transformation\n        var hw = w * 0.5;\n        var hh = h * 0.5;\n        var origin = anim8.matrix.transform( matrix, hw, hh );\n        dx += (hw - origin.x) * (anchorX * 2 - 1);\n        dy += (hh - origin.y) * (anchorY * 2 - 1);\n\n        // Yes, because this makes sense.\n        var imageTransform = 'progid:DXImageTransform.Microsoft.Matrix(SizingMethod=\\'auto expand\\'' + \n          ', M11=' + matrix.m11 + ', M12=' + matrix.m12 + \n          ', M21=' + matrix.m21 + ', M22=' + matrix.m22 + ')';\n\n        // If margin is already specified, add it to the new margin value.\n        if ( anim8.isDefined( anim.styles.marginLeft ) )\n        {\n          dx += anim8.convert( e, anim.styles.marginLeft, 'px', 'width' );\n        }\n        if ( anim8.isDefined( anim.styles.marginTop ) )\n        {\n          dy += anim8.convert( e, anim.styles.marginTop, 'px', 'height' );\n        }\n\n        // Set the margin to account for a lack of translation.\n        anim.styles.marginLeft = dx + 'px';\n        anim.styles.marginTop = dy + 'px';\n\n        // Set the filter properties!\n        concatenateStyle( anim, 'msFilter', '\"' + imageTransform + '\"' );\n        concatenateStyle( anim, 'filter', imageTransform );\n\n        // Force layout\n        anim.styles.zoom = 1;\n      }\n    }\n  };\n}\n\n/* blur IE <= 8 */\nif ( anim8.browser.IE && anim8.browser.IE <= 8 )\n{\n  // var regex = /progid:DXImageTransform\\.Microsoft\\.Blur\\(PixelRadius=([^']+)\\)/;\n\n  anim8.dom.attribute.blur.property = 'blur';\n\n  anim8.dom.property.blur = \n  {\n    get: function() \n    {\n\n    },\n    set: function(e, anim) \n    {\n      var imageTransform = 'progid:DXImageTransform.Microsoft.Blur(PixelRadius=\\'' + (anim.frame.blur) + 'px\\')';\n\n      concatenateStyle( anim, 'msFilter', '\"' + imageTransform + '\"' );\n      concatenateStyle( anim, 'filter', imageTransform );\n\n      anim.styles.zoom = 1;\n    }\n  };\n}\n\n/* opacity <= IE 8 */\nif ( anim8.browser.IE && anim8.browser.IE <= 8 )\n{\n  // var regex = /alpha\\(opacity=([^\\)]+)\\)/i;\n\n  anim8.dom.property.opacity = \n  {\n    get: function() \n    {\n\n    },\n    set: function(e, anim)\n    {\n      var filter = 'alpha(opacity=' + (anim.frame.opacity * 100) + ')';\n\n      concatenateStyle( anim, 'filter', filter );\n\n      anim.styles.zoom = 1;\n    }\n  };\n}\n\n/* minWidth < IE 8 */\nif ( anim8.browser.IE && anim8.browser.IE < 8 )\n{\n  anim8.dom.property.minWidth.set = function(e, anim)\n  {\n    anim.styles.width = 'expression( this.scrollWidth \\< ' + (anim.frame.minWidth + 1) + ' ? \"' + anim.frame.minWidth + anim.units.minWidth + '\" : \"auto\")';\n  };\n}\n\n/* maxWidth < IE 8 */\nif ( anim8.browser.IE && anim8.browser.IE < 8 )\n{\n  anim8.dom.property.maxWidth.set = function(e, anim) \n  {\n    anim.styles.width = 'expression( this.scrollWidth > ' + (anim.frame.maxWidth - 1) + ' ? \"' + anim.frame.maxWidth + anim.units.maxWidth + '\" : \"auto\")';\n  };\n}\n\n/* minHeight < IE 8 */\nif ( anim8.browser.IE && anim8.browser.IE < 8 )\n{\n  anim8.dom.property.minHeight.set = function(e, anim) \n  {\n    anim.styles.height = 'expression( this.scrollHeight \\< ' + (anim.frame.minHeight + 1) + ' ? \"' + anim.frame.minHeight + anim.units.minHeight + '\" : \"auto\")';\n  };\n}\n/* maxHeight < IE 8 */\nif ( anim8.browser.IE && anim8.browser.IE < 8 )\n{\n  anim8.dom.property.maxHeight.set = function(e, anim) \n  {\n    anim.styles.height = 'expression( this.scrollHeight > ' + (anim.frame.maxHeight - 1) + ' ? \"' + anim.frame.maxHeight + anim.units.maxHeight + '\" : \"auto\")';\n  };\n}\n"],"sourceRoot":"/source/"}