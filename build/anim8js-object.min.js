m8=anim8=function(t){if(t instanceof anim8.Animator)return t;var n=anim8.factory(t,!0);return n===!1?!1:n.animatorFor(t)},m8s=anim8s=function(t){var n=anim8.factory(t,!0),e=[];if(n!==!1)return n.animatorsFor(t,e),new anim8.Animators(e);anim8.isArray(t)||(t=[t]);for(var e=[],i=0;i<t.length;i++){var a=anim8(t[i]);a!==!1&&e.push(a)}return new anim8.Animators(e)},anim8.noop=function(){},anim8.isDefined=function(t){return"undefined"!=typeof t},anim8.isFunction=function(t){return!!(t&&t.constructor&&t.call&&t.apply)},anim8.isNumber=function(t){return"number"==typeof t},anim8.isString=function(t){return"string"==typeof t},anim8.isArray=function(t){return t instanceof Array},anim8.isObject=function(t){return"object"==typeof t},anim8.isElement=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},anim8.now=function(){return Date.now?Date.now:function(){return(new Date).getTime()}}(),anim8.log=!1,anim8.size=function(t){if(anim8.isArray(t)||anim8.isString(t))return t.length;if(null===t)return 0;if(anim8.isObject(t)){var n=0;for(var e in t)n++;return n}return anim8.isNumber(t)?t:0},anim8.isEmpty=function(t){if(anim8.isArray(t)||anim8.isString(t))return t.length>0;if(null===t)return!0;if(anim8.isObject(t))for(var n in t)return!1;else if(anim8.isNumber(t))return 0!==t;return!0},anim8.copy=function(t){if(anim8.isArray(t)){for(var n=[],e=0;e<t.length;e++)n.push(anim8.copy(t[e]));t=n}else if(anim8.isObject(t)){var n={};for(var i in t)n[i]=anim8.copy(t[i]);t=n}return t},anim8.extend=function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];if(anim8.isObject(e))for(var i in e)i in t||(t[i]=e[i])}return t},anim8.override=function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];if(anim8.isObject(e))for(var i in e)t[i]=e[i]}return t},anim8.coalesce=function(t,n,e,i){return anim8.isDefined(t)?t:anim8.isDefined(n)?n:anim8.isDefined(e)?e:i},anim8.time=function(){var t=/^(-?\d*(\.\d+)|-?\d+)(ms|s|c|cs|third|jiffy|sec|m|min|h|hr)?$/,n={ms:1,c:100,cs:100,jiffy:1e3/60,third:1e3/60,s:1e3,sec:1e3,m:6e4,min:6e4,h:36e5,hr:36e5};return function(e,i){if(anim8.isNumber(e))return Math.floor(e);if(anim8.isString(e)){var a=t.exec(e);if(a){var e=parseFloat(a[1]),r=a[3];return r in n&&(e*=n[r]),Math.floor(e)}}return anim8.coalesce(i,0)}}(),anim8.delay=function(t){return anim8.time(t,anim8.defaults.delay)},anim8.sleep=function(t){return anim8.time(t,anim8.defaults.sleep)},anim8.duration=function(t){return anim8.time(t,anim8.defaults.duration)},anim8.repeat=function(){var t={inf:Number.POSITIVE_INFINITY,infinity:Number.POSITIVE_INFINITY,infinite:Number.POSITIVE_INFINITY,once:1,twice:2,thrice:3,dozen:12,random:4};return function(n,e){if(anim8.isNumber(n))return n;if(anim8.isString(n)){if(n=n.toLowerCase(),n in t)return t[n];var i=parseInt(n);if(!isNaN(i))return i}return anim8.coalesce(e,anim8.defaults.repeat)}}(),anim8.scale=function(t,n){return anim8.isNumber(t)?t:anim8.coalesce(n,anim8.defaults.scale)},anim8.constant=function(t){return function(){return t}},anim8.clamp=function(t,n,e){return n>t?n:t>e?e:t},anim8.delegate=function(t,n){switch(n){case anim8.delegate.RETURN_THIS:return function(){for(var n=0;n<this.length;n++)this[n][t].apply(this[n],arguments);return this};case anim8.delegate.RETURN_RESULTS:return function(){for(var n=[],e=0;e<this.length;e++)n.push(this[e][t].apply(this[e],arguments));return n};case anim8.delegate.RETURN_FIRST:return function(){return 0===this.length?void 0:this[0][t].apply(this[0],arguments)};case anim8.delegate.RETURN_TRUE:return function(){for(var n=0;n<this.length;n++)if(this[n][t].apply(this[n],arguments))return!0;return!1}}return anim8.noop},anim8.delegate.RETURN_THIS="this",anim8.delegate.RETURN_RESULTS="results",anim8.delegate.RETURN_FIRST="first",anim8.delegate.RETURN_TRUE="true",anim8.eventize=function(t){var n=function(t,n,e,i,a){e=e.split(" "),anim8.isDefined(t[n])||(t[n]={});for(var r=0;r<e.length;r++)anim8.isDefined(t[n][e[r]])||(t[n][e[r]]=[]),t[n][e[r]].push([i,a||t])};t.on=function(t,e,i){n(this,"$on",t,e,i)},t.once=function(t,e,i){n(this,"$once",t,e,i)};var e=function(t,n,e){if(t&&n in t)for(var i=t[n],a=i.length-1;a>=0;a--)i[a][0]===e&&i.splice(a,1)};t.off=function(t){t=t.split(" ");for(var n=0;n<t.length;n++)e(this.$on,t[n]),e(this.$once,t[n])};var i=function(t,n,e,i){if(t&&n in t){for(var a=t[n],r=a.length,s=0;r>s;s++){var o=a[s];o[0].call(o[1],e)}i&&(a.length!==r?t[n]=a.slice(r):a.length=0)}};t.trigger=function(t,n){i(this.$on,t,n,!1),i(this.$once,t,n,!0)}},anim8.attribute=function(t){return anim8.isObject(t)&&anim8.isDefined(t.defaultValue)?t:anim8.isString(t)&&t in anim8.attribute?anim8.attribute[t]:anim8.attribute["default"]},anim8.attribute["default"]={defaultValue:0},anim8.defaults={duration:1e3,easing:"ease",teasing:"linear",delay:0,sleep:0,repeat:1,scale:1,transitionTime:500,transitionDelta:.2,transitionIntoDelta:.2,transitionEasing:"linear",cache:!1},anim8.Defer=function(t,n){this.$factory=t;for(var e=0;e<n.length;e++)this[n[e]]=this.$push(n[e])},anim8.Defer.prototype={$reset:function(t,n,e,i,a){this.$eventable=t,this.$previous=n,this.$eventType=e,this.$event=i,this.$callback=a,this.$calls=[],this.$next=[],this.$isRoot()&&this.$register()},$isRoot:function(){return this.$eventable===this.$previous},$register:function(){this.$eventable[this.$eventType](this.$event,this.$run,this)},$push:function(t){return function(){return this.$calls.push([t,arguments]),this}},$run:function(){anim8.isFunction(this.$callback)&&this.$callback.call(this.$eventable,this);for(var t=0;t<this.$calls.length;t++){var n=this.$calls[t];this.$eventable[n[0]].apply(this.$eventable,n[1])}for(var e=0;e<this.$next.length;e++)this.$next[e].$register()},undefer:function(){return this.$previous},defer:function(t,n,e){var i=new this.$factory(this.$eventable,this,t,n,e);return this.$next.push(i),i}},anim8.easing=function(t,n){if(anim8.isFunction(t))return t;if(anim8.isString(t)){if(t in anim8.easing)return anim8.easing[t];if(-1!==t.indexOf("-")){var e=t.split("-"),i=e[0],a=e[1];if(e.length>=2&&i in anim8.easing&&a in anim8.easingType)return anim8.easingType[a](anim8.easing[i])}}if(anim8.isArray(t)&&4===t.length&&anim8.isNumber(t[0])&&anim8.isNumber(t[1])&&anim8.isNumber(t[2])&&anim8.isNumber(t[3]))return anim8.easing.bezier.apply(null,t);if(!anim8.isDefined(t))return anim8.easing["default"];if(anim8.isDefined(n))return n;throw t+" is not a valid easing"},anim8.isEasingName=function(t){if(t in anim8.easing)return!0;var n=t.split("-"),e=n[0],i=n[1];return n.length>=2&&e in anim8.easing&&i in anim8.easingType?!0:!1},anim8.easing.linear=function(t){return t},anim8.easing.quad=function(t){return t*t},anim8.easing.ease=function(t){var n=1-t,e=n*n,i=t*t,a=.3*e*t+3*n*i+i*t,r=1-e*e;return a*n+r*t},anim8.easing.cubic=function(t){return t*t*t},anim8.easing.quartic=function(t){var n=t*t;return n*n},anim8.easing.quintic=function(t){var n=t*t;return n*n*t},anim8.easing.back=function(t){var n=t*t,e=n*t;return e+n-t},anim8.easing.sine=function(t){return Math.sin(1.57079632679*t)},anim8.easing.overshot=function(t){return(1-.7*t)*t*(10/3)},anim8.easing.elastic=function(t){var n=t*t,e=n*t,i=n*(2*e+n-4*t+2),a=-Math.sin(10.9955742876*t);return i*a},anim8.easing.revisit=function(t){return Math.abs(t-Math.sin(3.14159265359*t))},anim8.easing.lasso=function(t){return 1-Math.cos(t*t*t*36)*(1-t)},anim8.easing.slowbounce=function(t){var n=t*t;return 1-Math.abs((1-n)*Math.cos(n*t*14.8044066016))},anim8.easing.bounce=function(t){return 1-Math.abs((1-t)*Math.cos(t*t*14.8044066016))},anim8.easing.smallbounce=function(t){var n=1-t;return 1-Math.abs(n*n*Math.cos(t*t*14.8044066016))},anim8.easing.tinybounce=function(t){var n=1-t;return 1-Math.abs(n*n*Math.cos(t*t*7))},anim8.easing.hesitant=function(t){return Math.cos(t*t*12)*t*(1-t)+t},anim8.easing.sqrt=function(t){return Math.sqrt(t)},anim8.easing.sqrtf=function(t){var n=1-t,e=n*n;return.5*(1-e*e+t)},anim8.easing.log10=function(t){return.5*(Math.log10(t+.01)+2)/1.0021606868913213},anim8.easing.slingshot=function(t){if(.7>t)return t*-.357;var n=t-.7;return.5*(n*n*27.5-.5)},anim8.easing.circular=function(t){return 1-Math.sqrt(1-t*t)},anim8.easing.gentle=function(t){return 3*(1-t)*t*t+t*t*t},anim8.easing.bezier=function(t,n,e,i){function a(t,n){return 1-3*n+3*t}function r(t,n){return 3*n-6*t}function s(t){return 3*t}function o(t,n,e){return((a(n,e)*t+r(n,e))*t+s(n))*t}function u(t,n,e){return 3*a(n,e)*t*t+2*r(n,e)*t+s(n)}function c(n){for(var i=n,a=0;4>a;++a){var r=u(i,t,e);if(0==r)return i;var s=o(i,t,e)-n;i-=s/r}return i}return function(t){return o(c(t),n,i)}},anim8.easing["default"]=anim8.easing.ease,anim8.easingType=function(t,n){if(anim8.isFunction(t))return t;if(anim8.isString(t)&&t in anim8.easingType)return anim8.easingType[t];if(n)return!1;throw t+" is not a valid easing type"},anim8.easingType["in"]=function(t){return function(n){return t(n)}},anim8.easingType.out=function(t){return function(n){return 1-t(1-n)}},anim8.easingType.inout=function(t){return function(n){return.5>n?.5*t(2*n):1-.5*t(2-2*n)}},anim8.easingType.pong=function(t){return function(n){return t(.5>n?2*n:2-2*n)}},anim8.easingType.yoyo=anim8.easingType.pong,anim8.easing.cssEase=anim8.easing.ease,anim8.easing.cssEaseIn=anim8.easing.quad,anim8.easing.cssEaseOut=anim8.easingType.out(anim8.easing.quad),anim8.easing.cssEaseInOut=anim8.easingType.inout(anim8.easing.quad),anim8.easing.cssLinear=anim8.easing.linear,anim8.color=function(t,n,e,i){return{r:anim8.coalesce(t,255),g:anim8.coalesce(n,255),b:anim8.coalesce(e,255),a:anim8.coalesce(i,1)}},anim8.color.parsers=[{parse:function(t){if("object"==typeof t){var n={r:this.parseComponent(t.r,"parseInt",255),g:this.parseComponent(t.g,"parseInt",255),b:this.parseComponent(t.b,"parseInt",255),a:this.parseComponent(t.a,"parseFloat",1)};return n}return!1},parseComponent:function(t,n,e){var i=typeof t,a=e;if("string"===i){var r=window[n](i,10);isNaN(r)||(a=r)}else"number"===i&&(a=t);return a>e&&(a=e),0>a&&(a=0),a}},{names:{transparent:{r:255,g:256,b:255,a:0},aliceblue:{r:240,g:248,b:255,a:1},antiquewhite:{r:250,g:235,b:215,a:1},aqua:{r:0,g:255,b:255,a:1},aquamarine:{r:127,g:255,b:212,a:1},azure:{r:240,g:255,b:255,a:1},beige:{r:245,g:245,b:220,a:1},bisque:{r:255,g:228,b:196,a:1},black:{r:0,g:0,b:0,a:1},blanchedalmond:{r:255,g:235,b:205,a:1},blue:{r:0,g:0,b:255,a:1},blueviolet:{r:138,g:43,b:226,a:1},brown:{r:165,g:42,b:42,a:1},burlywood:{r:222,g:184,b:135,a:1},cadetblue:{r:95,g:158,b:160,a:1},chartreuse:{r:127,g:255,b:0,a:1},chocolate:{r:210,g:105,b:30,a:1},coral:{r:255,g:127,b:80,a:1},cornflowerblue:{r:100,g:149,b:237,a:1},cornsilk:{r:255,g:248,b:220,a:1},crimson:{r:220,g:20,b:60,a:1},cyan:{r:0,g:255,b:255,a:1},darkblue:{r:0,g:0,b:139,a:1},darkcyan:{r:0,g:139,b:139,a:1},darkgoldenrod:{r:184,g:134,b:11,a:1},darkgray:{r:169,g:169,b:169,a:1},darkgreen:{r:0,g:100,b:0,a:1},darkkhaki:{r:189,g:183,b:107,a:1},darkmagenta:{r:139,g:0,b:139,a:1},darkolivegreen:{r:85,g:107,b:47,a:1},darkorange:{r:255,g:140,b:0,a:1},darkorchid:{r:153,g:50,b:204,a:1},darkred:{r:139,g:0,b:0,a:1},darksalmon:{r:233,g:150,b:122,a:1},darkseagreen:{r:143,g:188,b:143,a:1},darkslateblue:{r:72,g:61,b:139,a:1},darkslategray:{r:47,g:79,b:79,a:1},darkturquoise:{r:0,g:206,b:209,a:1},darkviolet:{r:148,g:0,b:211,a:1},deeppink:{r:255,g:20,b:147,a:1},deepskyblue:{r:0,g:191,b:255,a:1},dimgray:{r:105,g:105,b:105,a:1},dodgerblue:{r:30,g:144,b:255,a:1},feldspar:{r:209,g:146,b:117,a:1},firebrick:{r:178,g:34,b:34,a:1},floralwhite:{r:255,g:250,b:240,a:1},forestgreen:{r:34,g:139,b:34,a:1},fuchsia:{r:255,g:0,b:255,a:1},gainsboro:{r:220,g:220,b:220,a:1},ghostwhite:{r:248,g:248,b:255,a:1},gold:{r:255,g:215,b:0,a:1},goldenrod:{r:218,g:165,b:32,a:1},gray:{r:128,g:128,b:128,a:1},green:{r:0,g:128,b:0,a:1},greenyellow:{r:173,g:255,b:47,a:1},honeydew:{r:240,g:255,b:240,a:1},hotpink:{r:255,g:105,b:180,a:1},indianred:{r:205,g:92,b:92,a:1},indigo:{r:75,g:0,b:130,a:1},ivory:{r:255,g:255,b:240,a:1},khaki:{r:240,g:230,b:140,a:1},lavender:{r:230,g:230,b:250,a:1},lavenderblush:{r:255,g:240,b:245,a:1},lawngreen:{r:124,g:252,b:0,a:1},lemonchiffon:{r:255,g:250,b:205,a:1},lightblue:{r:173,g:216,b:230,a:1},lightcoral:{r:240,g:128,b:128,a:1},lightcyan:{r:224,g:255,b:255,a:1},lightgoldenrodyellow:{r:250,g:250,b:210,a:1},lightgrey:{r:211,g:211,b:211,a:1},lightgreen:{r:144,g:238,b:144,a:1},lightpink:{r:255,g:182,b:193,a:1},lightsalmon:{r:255,g:160,b:122,a:1},lightseagreen:{r:32,g:178,b:170,a:1},lightskyblue:{r:135,g:206,b:250,a:1},lightslateblue:{r:132,g:112,b:255,a:1},lightslategray:{r:119,g:136,b:153,a:1},lightsteelblue:{r:176,g:196,b:222,a:1},lightyellow:{r:255,g:255,b:224,a:1},lime:{r:0,g:255,b:0,a:1},limegreen:{r:50,g:205,b:50,a:1},linen:{r:250,g:240,b:230,a:1},magenta:{r:255,g:0,b:255,a:1},maroon:{r:128,g:0,b:0,a:1},mediumaquamarine:{r:102,g:205,b:170,a:1},mediumblue:{r:0,g:0,b:205,a:1},mediumorchid:{r:186,g:85,b:211,a:1},mediumpurple:{r:147,g:112,b:216,a:1},mediumseagreen:{r:60,g:179,b:113,a:1},mediumslateblue:{r:123,g:104,b:238,a:1},mediumspringgreen:{r:0,g:250,b:154,a:1},mediumturquoise:{r:72,g:209,b:204,a:1},mediumvioletred:{r:199,g:21,b:133,a:1},midnightblue:{r:25,g:25,b:112,a:1},mintcream:{r:245,g:255,b:250,a:1},mistyrose:{r:255,g:228,b:225,a:1},moccasin:{r:255,g:228,b:181,a:1},navajowhite:{r:255,g:222,b:173,a:1},navy:{r:0,g:0,b:128,a:1},oldlace:{r:253,g:245,b:230,a:1},olive:{r:128,g:128,b:0,a:1},olivedrab:{r:107,g:142,b:35,a:1},orange:{r:255,g:165,b:0,a:1},orangered:{r:255,g:69,b:0,a:1},orchid:{r:218,g:112,b:214,a:1},palegoldenrod:{r:238,g:232,b:170,a:1},palegreen:{r:152,g:251,b:152,a:1},paleturquoise:{r:175,g:238,b:238,a:1},palevioletred:{r:216,g:112,b:147,a:1},papayawhip:{r:255,g:239,b:213,a:1},peachpuff:{r:255,g:218,b:185,a:1},peru:{r:205,g:133,b:63,a:1},pink:{r:255,g:192,b:203,a:1},plum:{r:221,g:160,b:221,a:1},powderblue:{r:176,g:224,b:230,a:1},purple:{r:128,g:0,b:128,a:1},red:{r:255,g:0,b:0,a:1},rosybrown:{r:188,g:143,b:143,a:1},royalblue:{r:65,g:105,b:225,a:1},saddlebrown:{r:139,g:69,b:19,a:1},salmon:{r:250,g:128,b:114,a:1},sandybrown:{r:244,g:164,b:96,a:1},seagreen:{r:46,g:139,b:87,a:1},seashell:{r:255,g:245,b:238,a:1},sienna:{r:160,g:82,b:45,a:1},silver:{r:192,g:192,b:192,a:1},skyblue:{r:135,g:206,b:235,a:1},slateblue:{r:106,g:90,b:205,a:1},slategray:{r:112,g:128,b:144,a:1},snow:{r:255,g:250,b:250,a:1},springgreen:{r:0,g:255,b:127,a:1},steelblue:{r:70,g:130,b:180,a:1},tan:{r:210,g:180,b:140,a:1},teal:{r:0,g:128,b:128,a:1},thistle:{r:216,g:191,b:216,a:1},tomato:{r:255,g:99,b:71,a:1},turquoise:{r:64,g:224,b:208,a:1},violet:{r:238,g:130,b:238,a:1},violetred:{r:208,g:32,b:144,a:1},wheat:{r:245,g:222,b:179,a:1},white:{r:255,g:255,b:255,a:1},whitesmoke:{r:245,g:245,b:245,a:1},yellow:{r:255,g:255,b:0,a:1},yellowgreen:{r:154,g:205,b:50,a:1}},parse:function(t){if("string"==typeof t&&(t=t.toLowerCase(),t in this.names)){var n=this.names[t];return{r:n.r,g:n.g,b:n.b,a:n.a}}return!1}},{regex:/^#?([0-9A-F])([0-9A-F])([0-9A-F])$/i,parse:function(t){var n=this.regex.exec(t);return null!==n?{r:parseInt(n[1]+n[1],16),g:parseInt(n[2]+n[2],16),b:parseInt(n[3]+n[3],16),a:1}:!1}},{regex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,parse:function(t){var n=this.regex.exec(t);return null!==n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16),a:1}:!1}},{regex:/^rgb\(\s*(\d{3})\s*,\s*(\d{3})\s*,\s*(\d{3})\s*\)$/i,parse:function(t){var n=this.regex.exec(t);return null!==n?{r:Math.min(255,parseInt(n[1],10)),g:Math.min(255,parseInt(n[2],10)),b:Math.min(255,parseInt(n[3],10)),a:1}:!1}},{regex:/^rgba\(\s*(\d{3})\s*,\s*(\d{3})\s*,\s*(\d{3})\s*,\s*([01]?\.\d+|[01])\)$/i,parse:function(t){var n=this.regex.exec(t);return null!==n?{r:Math.min(255,parseInt(n[1],10)),g:Math.min(255,parseInt(n[2],10)),b:Math.min(255,parseInt(n[3],10)),a:Math.min(1,parseFloat(n[4]))}:!1}}],anim8.color.parse=function(t){for(var n=(m8.color.parsers,0);n<this.parsers.length;n++){var e=this.parsers[n].parse(t);if(e!==!1)return e}return this.invalidColor},anim8.color.format=function(t){var n=anim8.clamp(anim8.coalesce(t.a,1),0,1),e=Math.floor(anim8.clamp(anim8.coalesce(t.r,255),0,255)),i=Math.floor(anim8.clamp(anim8.coalesce(t.g,255),0,255)),a=Math.floor(anim8.clamp(anim8.coalesce(t.b,255),0,255));if(1===n){var r=e.toString(16),s=i.toString(16),o=a.toString(16);return 1==r.length&&(r="0"+r),1==s.length&&(s="0"+s),1==o.length&&(o="0"+o),"#"+r+s+o}return"rgba("+e+","+i+","+a+","+n+")"},anim8.color.invalidColor=anim8.color.defaultValue={r:255,g:255,b:255,a:1},anim8.calculator=function(t){return t instanceof anim8.Calculator?t:anim8.isString(t)&&t in anim8.calculator?anim8.calculator[t]:anim8.calculator["default"]},anim8.Calculator=function(){},anim8.Calculator.prototype={parse:function(){throw"Calculator.parse not implemented"},copy:function(){throw"Calculator.copy not implemented"},clone:function(t){return this.copy(this.create(),t)},create:function(){throw"Calculator.create not implemented"},scale:function(t,n){return this.adds(t,t,n-1)},add:function(t,n){return this.adds(t,n,1)},adds:function(){throw"Calculator.adds not implemented"},sub:function(t,n){return this.adds(t,n,-1)},mul:function(){throw"Calculator.mul not implemented"},interpolate:function(t,n,e,i){return t=this.zero(t),t=this.adds(t,n,1-i),t=this.adds(t,e,i)},distance:function(t,n){return Math.sqrt(this.distanceSq(t,n))},isPristine:function(t){return t===!0||anim8.isFunction(t)},distanceSq:function(){throw"Calculator.distanceSq not implemented"},isValid:function(){throw"Calculator.isValid not implemented"},isNaN:function(){throw"Calculator.isNaN not implemented"},isZero:function(){throw"Calculator.isZero not implemented"},isEqual:function(){throw"Calculator.isEqual not implemented"}},anim8.NumberCalculator=function(){},anim8.override(anim8.NumberCalculator.prototype=new anim8.Calculator,{parse:function(t,n){return this.isPristine(t)?t:anim8.isNumber(t)?t:anim8.isString(t)&&(t=parseFloat(t),!isNaN(t))?t:n},copy:function(t,n){return n},create:function(){return 0},zero:function(){return 0},adds:function(t,n,e){return t+=n*e},mul:function(t,n){return t*=n},distanceSq:function(t,n){var e=t-n;return e*e},isValid:function(t){return"number"==typeof t},isNaN:function(t){return isNaN(t)},isZero:function(t,n){return Math.abs(t)<n},isEqual:function(t,n,e){return Math.abs(t-n)<e}}),anim8.calculator.number=new anim8.NumberCalculator,anim8.calculator["default"]=anim8.calculator.number,anim8.Point2dCalculator=function(){},anim8.override(anim8.Point2dCalculator.prototype=new anim8.Calculator,{parse:function(t,n){if(this.isPristine(t))return t;if(anim8.isNumber(t))return{x:t,y:t};if(anim8.isObject(t))return{x:anim8.coalesce(t.x,n.x),y:anim8.coalesce(t.y,n.y)};if(anim8.isString(t)){var e={left:0,right:100,middle:50,center:50,top:0,bottom:100};if(-1===t.indexOf(" ")){var i=parseFloat(t);if(!isNaN(i)||t in e)return{x:t in e?e[t]:i,y:t in e?e[t]:i}}else{var a=t.split(" "),i=parseFloat(a[0]),r=parseFloat(a[1]);if((!isNaN(i)||a[0]in e)&&(!isNaN(r)||a[1]in e))return{x:a[0]in e?e[a[0]]:i,y:a[1]in e?e[a[1]]:r}}}return anim8.isDefined(n)?this.clone(n):!1},copy:function(t,n){return t.x=n.x,t.y=n.y,t},create:function(){return{x:0,y:0}},zero:function(t){return t.x=0,t.y=0,t},adds:function(t,n,e){return t.x+=n.x*e,t.y+=n.y*e,t},mul:function(t,n){return t.x*=n.x,t.y*=n.y,t},distanceSq:function(t,n){var e=t.x-n.x,i=t.y-n.y;return e*e+i*i},isValid:function(t){return"object"==typeof t&&"x"in t&&"y"in t},isNaN:function(t){return isNaN(t.x)||isNaN(t.y)},isZero:function(t,n){return Math.abs(t.x)<n&&Math.abs(t.y)<n},isEqual:function(t,n,e){return Math.abs(t.x-n.x)<e&&Math.abs(t.y-n.y)<e}}),anim8.calculator["2d"]=new anim8.Point2dCalculator,anim8.Point3dCalculator=function(){},anim8.override(anim8.Point3dCalculator.prototype=new anim8.Calculator,{parse:function(t,n){return this.isPristine(t)?t:anim8.isNumber(t)?{x:t,y:t,z:t}:anim8.isObject(t)?{x:anim8.coalesce(t.x,n.x),y:anim8.coalesce(t.y,n.y),z:anim8.coalesce(t.z,n.z)}:anim8.isDefined(n)?this.clone(n):!1},copy:function(t,n){return t.x=n.x,t.y=n.y,t.z=n.z,t},create:function(){return{x:0,y:0,z:0}},zero:function(t){return t.x=0,t.y=0,t.z=0,t},adds:function(t,n,e){return t.x+=n.x*e,t.y+=n.y*e,t.z+=n.z*e,t},mul:function(t,n){return t.x*=n.x,t.y*=n.y,t.z*=n.z,t},distanceSq:function(t,n){var e=t.x-n.x,i=t.y-n.y,a=t.z-n.z;return e*e+i*i+a*a},isValid:function(t){return"object"==typeof t&&"x"in t&&"y"in t&&"z"in t},isNaN:function(t){return isNaN(t.x)||isNaN(t.y)||isNaN(t.z)},isZero:function(t,n){return Math.abs(t.x)<n&&Math.abs(t.y)<n&&Math.abs(t.z)<n},isEqual:function(t,n,e){return Math.abs(t.x-n.x)<e&&Math.abs(t.y-n.y)<e&&Math.abs(t.z-n.z)<e}}),anim8.calculator["3d"]=new anim8.Point3dCalculator,anim8.QuaternionCalculator=function(){},anim8.override(anim8.QuaternionCalculator.prototype=new anim8.Calculator,{parse:function(t,n){return this.isPristine(t)?t:anim8.isNumber(t)?{x:0,y:0,z:1,angle:t}:anim8.isObject(t)?{x:anim8.coalesce(t.x,n.x),y:anim8.coalesce(t.y,n.y),z:anim8.coalesce(t.z,n.z),angle:anim8.coalesce(t.angle,n.angle)}:anim8.isDefined(n)?this.clone(n):!1},copy:function(t,n){return t.x=n.x,t.y=n.y,t.z=n.z,t.angle=n.angle,t},create:function(){return{x:0,y:0,z:0,angle:0}},zero:function(t){return t.x=0,t.y=0,t.z=0,t.angle=0,t},adds:function(t,n,e){return t.x+=n.x*e,t.y+=n.y*e,t.z+=n.z*e,t.angle+=n.angle*e,t},mul:function(t,n){return t.x*=n.x,t.y*=n.y,t.z*=n.z,t.angle*=n.angle,t},distanceSq:function(t,n){var e=t.x-n.x,i=t.y-n.y,a=t.z-n.z,r=t.angle-n.angle;return e*e+i*i+a*a+r*r},isValid:function(t){return"object"==typeof t&&"x"in t&&"y"in t&&"z"in t&&"angle"in t},isNaN:function(t){return isNaN(t.x)||isNaN(t.y)||isNaN(t.z)||isNaN(t.angle)},isZero:function(t,n){return Math.abs(t.x)<n&&Math.abs(t.y)<n&&Math.abs(t.z)<n&&Math.abs(t.angle)<n},isEqual:function(t,n,e){return Math.abs(t.x-n.x)<e&&Math.abs(t.y-n.y)<e&&Math.abs(t.z-n.z)<e&&Math.abs(t.angle-n.angle)<e}}),anim8.calculator.quaternion=new anim8.QuaternionCalculator,anim8.RGBCalculator=function(){},anim8.override(anim8.RGBCalculator.prototype=new anim8.Calculator,{parse:function(t){return this.isPristine(t)?t:anim8.isNumber(t)?{r:t,g:t,b:t}:anim8.color.parse(t)},copy:function(t,n){return t.r=n.r,t.g=n.g,t.b=n.b,t},create:function(){return{r:0,g:0,b:0}},zero:function(t){return t.r=0,t.g=0,t.b=0,t},adds:function(t,n,e){return t.r+=n.r*e,t.g+=n.g*e,t.b+=n.b*e,t},mul:function(t,n){return t.r*=n.r,t.g*=n.g,t.b*=n.b,t},distanceSq:function(t,n){var e=t.r-n.r,i=t.g-n.g,a=t.b-n.b;return e*e+i*i+a*a},isValid:function(t){return anim8.isObject(t)&&"r"in t&&"g"in t&&"b"in t},isNaN:function(t){return isNaN(t.r)||isNaN(t.g)||isNaN(t.b)},isZero:function(t,n){return Math.abs(t.r)<n&&Math.abs(t.g)<n&&Math.abs(t.b)<n},isEqual:function(t,n,e){return Math.abs(t.r-n.r)<e&&Math.abs(t.g-n.g)<e&&Math.abs(t.b-n.b)<e}}),anim8.calculator.rgb=new anim8.RGBCalculator,anim8.RGBACalculator=function(){},anim8.override(anim8.RGBACalculator.prototype=new anim8.Calculator,{parse:function(t){return this.isPristine(t)?t:anim8.isNumber(t)?{r:t,g:t,b:t,a:1}:anim8.color.parse(t)},copy:function(t,n){return t.r=n.r,t.g=n.g,t.b=n.b,t.a=n.a,t},create:function(){return{r:0,g:0,b:0,a:0}},zero:function(t){return t.r=0,t.g=0,t.b=0,t.a=0,t},adds:function(t,n,e){return t.r+=n.r*e,t.g+=n.g*e,t.b+=n.b*e,t.a+=n.a*e,t},mul:function(t,n){return t.r*=n.r,t.g*=n.g,t.b*=n.b,t.a*=n.a,t},distanceSq:function(t,n){var e=t.r-n.r,i=t.g-n.g,a=t.b-n.b,r=t.a-n.a;return e*e+i*i+a*a+r*r},isValid:function(t){return anim8.isObject(t)&&"r"in t&&"g"in t&&"b"in t&&"a"in t},isNaN:function(t){return isNaN(t.r)||isNaN(t.g)||isNaN(t.b)||isNaN(t.a)},isZero:function(t,n){return Math.abs(t.r)<n&&Math.abs(t.g)<n&&Math.abs(t.b)<n&&Math.abs(t.a)<n},isEqual:function(t,n,e){return Math.abs(t.r-n.r)<e&&Math.abs(t.g-n.g)<e&&Math.abs(t.b-n.b)<e&&Math.abs(t.a-n.a)<e}}),anim8.calculator.rgba=new anim8.RGBACalculator,anim8.path=function(t){return t instanceof anim8.Path?t:anim8.isString(t)&&t in anim8.path?anim8.path[spring]:anim8.isObject(t)&&t.type in anim8.path?anim8.path[t.type](t):!1},anim8.Path=function(){},anim8.Path.prototype={reset:function(t,n,e){this.name=t,this.calculator=anim8.calculator(n),this.points=e,this.trues=this.hasTrue()},compute:function(){throw"Path.compute not implemented"},hasTrue:function(){for(var t=this.points,n=0;n<t.length;n++)if(t[n]===!0)return!0;return!1},reference:function(){return this.trues?this.copy():this},last:function(){return this.points[this.points.length-1]},first:function(){return this.points[0]},point:function(t){return this.points[t]},replaceTrue:function(t){for(var n=this.copy(),e=n.points,i=0;i<e.length;i++)e[i]===!0&&(e[i]=t);return n},resolvePoint:function(t){var n=this.points[t];return anim8.isFunction(n)&&(n=n()),n}},anim8.Tween=function(t,n,e,i){this.reset(t,n,[e,i])},anim8.override(anim8.Tween.prototype=new anim8.Path,{compute:function(t,n){return this.calculator.interpolate(t,this.resolvePoint(0),this.resolvePoint(1),n)},copy:function(){return new anim8.Tween(this.name,this.calculator,this.points[0],this.points[1])}}),anim8.path.tween=function(t){var n=anim8.calculator(t.calculator);return new anim8.Tween(t.name,n,n.parse(t.start),n.parse(t.end))},anim8.CubicPath=function(t,n,e,i,a,r){this.reset(t,n,[e,i,a,r])},anim8.override(anim8.CubicPath.prototype=new anim8.Path,{compute:function(t,n){var e=this.calculator,i=n*n,a=n*i,r=1-n,s=r*r,o=r*s;return t=e.copy(t,this.resolvePoint(0)),t=e.scale(t,o),t=e.adds(t,this.resolvePoint(1),3*s*n),t=e.adds(t,this.resolvePoint(2),3*r*i),t=e.adds(t,this.resolvePoint(3),a)},copy:function(){return new anim8.CubicPath(this.name,this.calculator,this.points[0],this.points[1],this.points[2],this.points[3])}}),anim8.path.cubic=function(t){var n=anim8.calculator(t.calculator);return new anim8.CubicPath(t.name,n,n.parse(t.p0),n.parse(t.p1),n.parse(t.p2),n.parse(t.p3))},anim8.QuadraticPath=function(t,n,e,i,a){this.reset(t,n,[e,i,a])},anim8.override(anim8.QuadraticPath.prototype=new anim8.Path,{compute:function(t,n){var e=this.calculator,i=n*n,a=1-n,r=a*a;return t=e.copy(t,this.resolvePoint(0)),t=e.scale(t,r),t=e.adds(t,this.resolvePoint(1),2*a*n),t=e.adds(t,this.resolvePoint(2),i)},copy:function(){return new anim8.QuadraticPath(this.name,this.calculator,this.points[0],this.points[1],this.points[2])}}),anim8.path.quadratic=function(t){var n=anim8.calculator(t.calculator);return new anim8.QuadraticPath(t.name,n,n.parse(t.p0),n.parse(t.p1),n.parse(t.p2))},anim8.DeltaPath=function(t,n,e,i){this.reset(t,n,e),this.deltas=i},anim8.override(anim8.DeltaPath.prototype=new anim8.Path,{compute:function(t,n){for(var e=this.deltas,i=e.length-2,a=0;e[a+1]<n&&i>a;)a++;var r=e[a],s=e[a+1],o=(n-r)/(s-r),u=this.resolvePoint(a),c=this.resolvePoint(a+1);return this.calculator.interpolate(t,u,c,o)},copy:function(){return new anim8.DeltaPath(this.name,anim8.copy(this.points),anim8.copy(this.deltas),this.calculator)}}),anim8.path.delta=function(t){var n=anim8.calculator(t.calculator);if(!t.deltas){t.deltas=[];for(var e=0;e<t.points.length;e++)t.deltas[e]=e/(t.points.length-1)}for(var e=0;e<t.points.length;e++)t.points[e]=n.parse(t.points[e]);return new anim8.DeltaPath(t.name,n,t.points,t.deltas)},anim8.JumpPath=function(t,n,e){this.reset(t,n,e)},anim8.override(anim8.JumpPath.prototype=new anim8.Path,{compute:function(t,n){var e=Math.floor(n*this.points.length),i=Math.min(e,this.points.length-1);return this.calculator.copy(t,this.resolvePoint(i))},copy:function(){return new anim8.JumpPath(this.name,this.calculator,anim8.copy(this.points))}}),anim8.path.jump=function(t){for(var n=anim8.calculator(t.calculator),e=0;e<t.points.length;e++)t.points[e]=n.parse(t.points[e]);return new anim8.JumpPath(t.name,n,t.points)},anim8.CompiledPath=function(t,n,e){for(var i=n.calculator,a=[],r=0;e>r;r++)a.push(n.compute(i.create(),r/(e-1)));this.reset(t,i,a)},anim8.override(anim8.CompiledPath.prototype=new anim8.Path,{compute:function(t,n){var e=Math.floor(n*this.points.length),i=Math.min(e,this.points.length-1);return this.calculator.copy(t,this.resolvePoint(i))},copy:function(){return new anim8.CompiledPath(this.name,this,this.points.length)}}),anim8.path.compiled=function(t){return new anim8.CompiledPath(t.name,anim8.path(t.path),t.pointCount)},anim8.KeyframePath=function(t,n,e,i,a){this.reset(t,n,e),this.deltas=i,this.easings=a},anim8.override(anim8.KeyframePath.prototype=new anim8.Path,{compute:function(t,n){var e=this.deltas,i=e.length-2;if(n<e[0])return!1;if(n>e[e.length-1])return this.points[e.length-1];for(var a=0;e[a+1]<n&&i>a;)a++;var r=e[a],s=e[a+1],o=(n-r)/(s-r),u=this.resolvePoint(a),c=this.resolvePoint(a+1),l=this.easings[a];return this.calculator.interpolate(t,u,c,l(o))},copy:function(){return new anim8.KeyframePath(this.name,this.calculator,anim8.copy(this.points),anim8.copy(this.deltas),anim8.copy(this.easings))}}),anim8.path.keyframe=function(){var t=anim8.calculator(path.calculator);if(!path.deltas){path.deltas=[];for(var n=0;n<path.points.length;n++)path.deltas[n]=n/(path.points.length-1)}var e=anim8.easing(path.easings,null);if(!anim8.isDefined(path.easings)||!anim8.isArray(path.easings)||null!==e){path.easings=[];for(var n=0;n<path.points.length;n++)path.easings[n]=e}for(var n=0;n<path.easings.length;n++)path.easings[n]=anim8.easing(path.easings[n]);for(var n=0;n<path.points.length;n++)path.points[n]=t.parse(path.points[n]);return new anim8.KeyframePath(path.name,t,path.points,path.deltas,path.easings)},anim8.PointPath=function(t,n,e){this.reset(t,n,[e])},anim8.override(anim8.PointPath.prototype=new anim8.Path,{compute:function(t){return this.calculator.copy(t,this.resolvePoint(0))},copy:function(){return new anim8.PointPath(this.name,this.calculator,this.points[0])}}),anim8.path.point=function(t){var n=anim8.calculator(t.calculator);return new anim8.PointPath(t.name,n,n.parse(t.point))},anim8.spring=function(t){return t instanceof anim8.Spring?t:anim8.isString(t)&&t in anim8.spring?anim8.spring[t]:anim8.isObject(t)&&t.type in anim8.spring?anim8.spring[t.type](t):!1},anim8.Spring=function(){},anim8.Spring.prototype={reset:function(t,n,e,i,a){var r=anim8.calculator(n),s=anim8.attribute(t);this.attribute=t,this.calculator=r,this.rest=r.parse(e,s.defaultValue),this.position=r.parse(i,s.defaultValue),this.gravity=r.parse(a,r.create()),this.velocity=r.create(),this.time=0},update:function(t,n){0===this.time&&(this.time=t);var e=this.calculator,i=Math.min(.001*(t-this.time),anim8.Spring.MAX_DT),a=e.copy({},this.position);this.updateVelocity(i),this.velocity=e.adds(this.velocity,this.gravity,i),this.position=e.adds(this.position,this.velocity,i),this.time=t;var r=!e.isEqual(a,this.position,anim8.Spring.EPSILON);return r&&(n[this.attribute]=this.position),r},resolveRest:function(){return anim8.isFunction(this.rest)?this.rest():this.rest},updateVelocity:function(){throw"Spring.updateVelocity not implemented"}},anim8.Spring.MAX_DT=.1,anim8.Spring.EPSILON=1e-4,anim8.LinearSpring=function(t,n,e,i,a,r,s){var o=anim8.attribute(t);this.reset(t,n,i,e,s),this.damping=this.calculator.parse(a,o.defaultValue),this.stiffness=this.calculator.parse(r,o.defaultValue),this.temp0=this.calculator.create(),this.temp1=this.calculator.create()},anim8.override(anim8.LinearSpring.prototype=new anim8.Spring,{updateVelocity:function(t){var n=this.calculator;this.temp1=n.copy(this.temp1,this.damping),this.temp1=n.mul(this.temp1,this.velocity),this.temp0=n.copy(this.temp0,this.position),this.temp0=n.sub(this.temp0,this.resolveRest()),this.temp0=n.mul(this.temp0,this.stiffness),this.temp0=n.sub(this.temp0,this.temp1),this.velocity=n.adds(this.velocity,this.temp0,t)}}),anim8.spring.linear=function(t){return new anim8.LinearSpring(t.attribute,anim8.calculator(anim8.attribute(t.attribute).calculator),t.position,t.rest,t.damping,t.stiffness,t.gravity)},anim8.DistanceSpring=function(t,n,e,i,a,r,s,o){this.reset(t,n,i,e,o),this.distance=a,this.damping=r,this.stiffness=s,this.temp=this.calculator.create()},anim8.override(anim8.DistanceSpring.prototype=new anim8.Spring,{updateVelocity:function(t){var n=this.calculator,e=this.resolveRest(),i=n.distance(this.position,e);
this.temp=n.copy(this.temp,this.position),this.temp=n.sub(this.temp,e),0!==i&&(this.temp=n.scale(this.temp,1/i),this.temp=n.scale(this.temp,(i-this.distance)*this.stiffness)),this.temp=n.adds(this.temp,this.velocity,-this.damping),this.velocity=n.adds(this.velocity,this.temp,t)}}),anim8.spring.distance=function(t){return new anim8.DistanceSpring(t.attribute,anim8.calculator(anim8.attribute(t.attribute).calculator),t.position,t.rest,t.distance,t.damping,t.stiffness,t.gravity)},anim8.EventState={CREATED:0,DELAYED:1,ANIMATING:2,SLEEPING:4,PAUSED:8,FINISHED:16},anim8.Event=function(t,n,e,i,a,r,s,o,u,c,l,m){t&&(this.attribute=t,this.path=n,this.easing=anim8.easing(i),this.delay=anim8.delay(a),this.duration=anim8.duration(e),this.sleep=anim8.sleep(r),this.repeat=anim8.repeat(s),this.scale=anim8.scale(o),this.scaleBase=n.calculator.parse(u,n.calculator.create()),this.hasInitialState=anim8.coalesce(c,!0),this.parser=l,this.next=m)},anim8.Event.prototype={newInstance:function(){return new anim8.EventInstance(this)},isInstance:function(){return!1},getParser:function(){return this.parser},totalTime:function(){return this.delay+this.repeat*this.duration+(this.repeat-1)*this.sleep},clone:function(){return new anim8.Event(this.attribute,this.path,this.duration,this.easing,this.delay,this.sleep,this.repeat,this.scale,this.scaleBase,this.hasInitialState,this.parser,this.next?this.next.clone():null)},isInfinite:function(){return this.repeat===Number.POSITIVE_INFINITY},timeRemaining:function(){return this.totalTime()},timeRemainingInChain:function(){return this.timeRemaining()+(this.next?this.next.timeRemainingInChain():0)},finiteTimeRemaining:function(){return this.isInfinite()?0:this.timeRemaining()},finiteTimeRemainingInChain:function(){return this.isInfinite()?0:this.timeRemaining()+(this.next?this.next.finiteTimeRemainingInChain():0)},hasTrue:function(){return this.path.trues},queue:function(t){this.next?this.next.queue(t):this.next=t}},anim8.EventInstance=function(t){this.event=t,this.attribute=t.attribute,this.path=t.path,this.duration=t.duration,this.easing=t.easing,this.delay=t.delay,this.sleep=t.sleep,this.repeat=t.repeat,this.scale=t.scale,this.scaleBase=t.scaleBase,this.hasInitialState=t.hasInitialState,this.next=null,this.state=anim8.EventState.CREATED,this.time=0,this.pauseTime=0,this.pauseState=0,this.elapsed=0},anim8.override(anim8.EventInstance.prototype=new anim8.Event,{newInstance:function(){return new anim8.EventInstance(this.event)},isInstance:function(){return!0},clone:function(){return new anim8.EventInstance(this.event)},getParser:function(){return this.event.parser},timeRemaining:function(){return this.totalTime()-this.elapsed},update:function(t,n){var e=!1,i=this.catchup(t);if(this.isAnimating()){var a=i/this.duration;if(a>=1||0===this.duration){if(!this.isInfinite()&&0===--this.repeat)return this.finish(n),!0;this.sleep?(i=this.progress(i,this.duration,anim8.EventState.SLEEPING),a=1,this.trigger("sleeping",this)):(i=this.progress(i,this.duration,anim8.EventState.ANIMATING),a-=1)}this.applyValue(n,n[this.attribute],a),e=!0}return e},catchup:function(t){if(!this.isPaused()){this.state===anim8.EventState.CREATED&&(this.time=t,this.delay?(this.state=anim8.EventState.DELAYED,this.trigger("delaying",this)):this.state=anim8.EventState.ANIMATING);var n=t-this.time;if(this.isDelayed()&&n>this.delay&&(this.trigger("delayed",this),n=this.progress(n,this.delay,anim8.EventState.ANIMATING)),this.isSleeping()&&n>this.sleep&&(this.trigger("slept",this),n=this.progress(n,this.sleep,anim8.EventState.ANIMATING)),this.isAnimating()&&this.duration){var e=this.duration+this.sleep,i=Math.floor((n+this.sleep)/e),a=Math.min(this.repeat,i);n=this.progress(n,a*e,anim8.EventState.ANIMATING),this.isInfinite()||(a===this.repeat?(n=this.duration,this.repeat=1):this.repeat-=i),n>this.duration&&(n=this.progress(n,this.duration,anim8.EventState.SLEEPING),this.trigger("sleeping",this))}return n}},computeValue:function(t,n){var e=this.path.compute(t,this.easing(n));if(e!==!1&&1!==this.scale){var i=this.path.calculator,t=i.clone(this.scaleBase),a=i.sub(t,e);e=i.adds(e,a,-this.scale)}return e},progress:function(t,n,e){return this.time+=n,this.elapsed+=n,this.state=e,t-n},finish:function(t){this.applyValue(t,this.path.calculator.create(),1),this.state=anim8.EventState.FINISHED,this.trigger("finish",this)},applyValue:function(t,n,e){var i=this.computeValue(n,e);i!==!1&&(t[this.attribute]=i)},getDelta:function(){return this.isAnimating()?Math.min(1,(anim8.now()-this.time)/this.duration):0},getPoint:function(t){return this.computeValue(this.path.calculator.create(),t)},getFuture:function(t){return this.getPoint(Math.min(1,this.getDelta()+t))},getStart:function(){return this.getPoint(0)},getEnd:function(){return this.getPoint(1)},pause:function(){this.state!==anim8.EventState.PAUSED&&(this.pauseTime=anim8.now(),this.pauseState=this.state,this.state=anim8.EventState.PAUSED)},resume:function(){this.state===anim8.EventState.PAUSED&&(this.time+=anim8.now()-this.pauseTime,this.state=this.pauseState)},hasStarted:function(){return this.state!==anim8.EventState.CREATED&&this.state!==anim8.EventState.DELAYED},isAnimating:function(){return this.state===anim8.EventState.ANIMATING},isFinished:function(){return this.state===anim8.EventState.FINISHED},isDelayed:function(){return this.state===anim8.EventState.DELAYED},isPaused:function(){return this.state===anim8.EventState.PAUSED},isSleeping:function(){return this.state===anim8.EventState.SLEEPING},hasStates:function(t){return 0!==(this.state&t)},stateText:function(){switch(this.state){case anim8.EventState.CREATED:return"created";case anim8.EventState.DELAYED:return"delayed";case anim8.EventState.ANIMATING:return"animating";case anim8.EventState.SLEEPING:return"sleeping";case anim8.EventState.FINISHED:return"finished"}}}),anim8.eventize(anim8.EventInstance.prototype),anim8.animation=function(t,n,e){if(t instanceof anim8.Animation)return t;if(anim8.isString(t)){var i=t.toLowerCase();if(i in anim8.animation)return anim8.animation[i];for(var a=t.split(","),r=!1,s=!1,o=0;o<a.length;o++){var u=anim8.parseAnimationString(a[o]);u.animation!==!1&&(s=r===!1?r=u.animation.extend(u.options,!0):s.next=u.animation.extend(u.options,!0))}return anim8.coalesce(e,anim8.defaults.cache)&&anim8.isEmpty(n)&&(r.name=t,anim8.animation[i]=r),r}if(anim8.isObject(t)){var c=[],n=n||{};for(var l in t){var m=anim8.parser(l);m!==!1&&m.parse(t,n,c)}if(c.length)return new anim8.Animation(!1,t,n,c)}return!1},anim8.save=function(t,n,e){var n=anim8.animation(n,e),i=t.toLowerCase();n.name=t,anim8.animation[i]=n},anim8.parseAnimationString=function(t){for(var n=t.toLowerCase().split(" "),e={animation:!1,options:{}},i=0;i<n.length;i++){var a=n[i];if(a in anim8.animation&&!e.animation)e.animation=anim8.animation[a];else{var r=a.charAt(0);if("x"===r){var s=anim8.repeat(a.substring(1),!1);s!==!1&&(e.options.repeat=s)}if("z"===r){var o=anim8.time(a.substring(1),!1);o!==!1&&(e.options.sleep=o)}if("~"===r){var u=anim8.time(a.substring(1),!1);u!==!1&&(e.options.delay=u)}if("!"===r){var c=parseFloat(a.substring(1));isNaN(c)||(e.options.scale=c)}var l=anim8.easing(a,!1);l!==!1&&(e.options.easing=l);var m=anim8.time(a,!1);if(m!==!1)e.options.duration=m;else{var s=anim8.repeat(a,!1);s!==!1&&(e.options.repeat=s)}}}return e},anim8.Animation=function(t,n,e,i){this.name=t,this.input=n,this.options=e,this.events=i,this.next=null},anim8.Animation.prototype={isSaved:function(){return this.name!==!1},newEvents:function(){for(var t=[],n=0;n<this.events.length;n++)t.push(this.events[n].newInstance());return t},cloneEvents:function(){for(var t=[],n=0;n<this.events.length;n++)t.push(this.events[n].clone());return t},merge:function(t,n){for(var e in this.input){var i=anim8.parser(e);i!==!1&&i.merge(this.input,t,this.options,n)}return n},extend:function(t,n){if(anim8.isEmpty(t)&&!n)return this;var e=this.cloneEvents();return this.merge(t,e),anim8.extend(t,this.options),new anim8.Animation(!1,this.input,t,e)}},anim8.Animator=function(t){this.reset(t)},anim8.fn=anim8.Animator.prototype={reset:function(t){return this.subject=t,this.events={},this.springs={},this.attributes={},this.frame={},this.updated={},this.finished=!1,this.factory=null,this.active=!1,this.trues={},this.truesUpdated=!1,this},restore:function(){return this},preupdate:function(){if(this.truesUpdated){for(var t in this.trues){if(t in this.frame){var n=this.trues[t],e=anim8.calculator(this.attributes[t].calculator);n.path=n.path.replaceTrue(e.clone(this.frame[t]))}delete this.trues[t]}this.truesUpdated=!1}return this.trigger("preupdate"),this},update:function(t){this.wasFinished=this.finished,this.finished=!0;for(var n in this.events){var e=this.events[n];this.updated[n]=e.update(t,this.frame),this.finished=this.finished&&e.isFinished()}for(var n in this.springs){var i=this.springs[n];this.updated[n]=i.update(t,this.frame),this.finished=!1}return this.trigger("update"),this},placeSpring:function(t){var n=t.attribute;this.springs[n]=t,n in this.frame||(this.frame[n]=anim8.attribute(n).defaultValue),this.finished=!1},placeEvent:function(t){var n=t.attribute,e=n in this.frame,i=this.events[n],a=this.attributes[n];if(a||(a=this.attributes[n]=anim8.attribute(n)),this.events[n]=t,t.hasTrue())if(e)if(i)t.path=t.path.replaceTrue(i.getEnd());else{var r=anim8.calculator(a.calculator);t.path=t.path.replaceTrue(r.clone(this.frame[n]))}else this.trues[n]=t,this.truesUpdated=!0;if(!e){var r=anim8.calculator(a.calculator);this.frame[n]=r.clone(a.defaultValue)}this.finished=!1},apply:function(){for(var t in this.frame)this.updated[t]&&(this.subject[t]=this.frame[t],this.updated[t]=!1);return this.trigger("apply"),this.trimEvents(),this},trimEvents:function(){for(var t in this.events){var n=this.events[t];n.isFinished()&&(n.next?(this.placeEvent(n.next),this.finished=!1):delete this.events[t])}!this.wasFinished&&this.finished&&this.trigger("finished",this)},value:function(t){return this.frame[t]},activate:function(){return anim8.add(this),this},deactivate:function(){this.trigger("deactivate",this)},destroy:function(){this.finished=!0,this.factory.destroy(this),this.trigger("destroyed")},createEvents:function(t,n,e){var n=n||{},t=anim8.animation(t,n,e);if(t===!1)return!1;var i=t.newEvents();if(t.isSaved()&&!anim8.isEmpty(n)&&t.merge(n,i),this.onAnimation(t,n,i),null!==t.next){for(var a={},r=0;r<i.length;r++){var s=i[r];a[s.attribute]=s}for(;null!==t.next;){t=t.next;for(var o=t.newEvents(),u=0,r=0;r<i.length;r++){var s=i[r];s.isInfinite()||(u=Math.max(u,s.finiteTimeRemainingInChain()))}for(var r=0;r<o.length;r++){var s=o[r],c=a[s.attribute];c&&!c.isInfinite()?(s.delay+=u-c.finiteTimeRemainingInChain(),a[s.attribute].queue(s)):(s.delay+=u,a[s.attribute]=s,i.push(s))}this.onAnimation(t,n,o)}}return i},onAnimation:function(){},spring:function(t){var t=anim8.spring(t);return t===!1?!1:(this.placeSpring(t),this.activate(),t)},unspring:function(t){return this.springsFor(t,function(t){delete this.springs[t.attribute]})},play:function(t,n,e,i){var a=this.createEvents(t,n,i);return a===!1?!1:(this.playEvents(a,e),this.activate())},playEvents:function(t,n){for(var e={},i=0;i<t.length;i++)this.placeEvent(t[i]),e[t[i].attribute]=!0;if(n)for(var a in this.events)a in e||this.events[a].finish(this.frame);return this},queue:function(t,n,e){var i=this.createEvents(t,n,e);return i===!1?!1:(this.queueEvents(i),this)},queueEvents:function(t){for(var n=this.finiteTimeRemaining(),e=0;e<t.length;e++){var i=t[e],a=i.attribute,r=this.events[a];a in this.events&&!r.isInfinite()?(i.delay+=n-r.timeRemainingInChain(),r.queue(i)):(i.delay+=n,this.placeEvent(i))}return this},transition:function(t,n,e,i,a,r,s){var o=this.createEvents(i,a,s);return o===!1?!1:(this.transitionEvents(t,n,e,o,r),this.activate())},transitionEvents:function(t,n,e,i){for(var a=!1,r=0;r<i.length&&!a;r++)i[r].attribute in this.events&&(a=!0);var t=anim8.time(t,anim8.defaults.transitionTime),n=anim8.coalesce(n,anim8.defaults.transitionDelta),e=anim8.easing(e,anim8.defaults.transitionEasing);if(a)for(var r=0;r<i.length;r++){var s=i[r],o=s.attribute;if(o in this.events){var u=s.path,c=u.calculator,l=this.events[o],m=c.clone(this.frame[o]),h=l.getFuture(n),f=s.getPoint(0),p=new anim8.QuadraticPath(o,c,m,h,f),g=new anim8.Event(o,p,t,e,0,0,1).newInstance();g.next=s,this.placeEvent(g)}else s.delay+=t,this.placeEvent(s)}else for(var r=0;r<i.length;r++)this.placeEvent(i[r]);return this},transitionInto:function(t,n,e,i,a,r,s,o){var u=this.createEvents(a,r,o);return u===!1?!1:(this.transitionIntoEvents(t,n,e,i,u,s),this.activate())},transitionIntoEvents:function(t,n,e,i,a){for(var r=!1,s=0;s<a.length&&!r;s++)a[s].attribute in this.events&&(r=!0);var t=anim8.time(t,anim8.defaults.transitionTime),n=anim8.coalesce(n,anim8.defaults.transitionDelta),e=anim8.coalesce(e,anim8.defaults.transitionIntoDelta),i=anim8.easing(i,anim8.defaults.transitionEasing);if(r)for(var s=0;s<a.length;s++){var o=a[s],u=o.attribute;if(u in this.events){var c=o.path,l=c.calculator,m=this.events[u],h=l.clone(this.frame[u]),f=m.getFuture(n),p=o.getPoint(0),g=o.getPoint(e),d=new anim8.CubicPath(u,l,h,f,p,g),v=new anim8.Event(u,d,t,i,0,0,1).newInstance();v.next=o,this.placeEvent(v)}else o.delay+=t,this.placeEvent(o)}else for(var s=0;s<a.length;s++)this.placeEvent(a[s]);return this},tweenTo:function(t,n,e,i,a,r,s,o,u){var c=anim8.attribute(t),l=anim8.calculator(c.calculator),m=t in this.frame?l.clone(this.frame[t]):!0,h=l.parse(n,c.defaultValue),f=new anim8.Tween(t,l,m,h),p=new anim8.Event(t,f,e,a,i,s,r,o,u);return this.placeEvent(p.newInstance()),this.activate()},tweenManyTo:function(t,n,e,i,a,r,s,o){for(var u in t){var c=anim8.attribute(u),l=anim8.calculator(c.calculator),m=u in this.frame?l.clone(this.frame[u]):!0,h=l.parse(t[u],c.defaultValue),f=new anim8.Tween(u,l,m,h),p=new anim8.Event(u,f,n,i,e,r,a,s,o);this.placeEvent(p.newInstance())}return this.activate()},tween:function(t,n,e,i,a,r,s,o,u,c){var l=anim8.attribute(t),m=anim8.calculator(l.calculator),h=m.parse(n,l.defaultValue),f=m.parse(e,l.defaultValue),p=new anim8.Tween(t,m,h,f),g=new anim8.Event(t,p,i,r,a,o,s,u,c);return this.placeEvent(g.newInstance()),this.activate()},tweenMany:function(t,n,e,i,a,r,s,o,u){for(var c in t){var l=anim8.attribute(input),m=anim8.calculator(l.calculator),h=m.parse(t[c],l.defaultValue),f=m.parse(n[c],l.defaultValue),p=new anim8.Tween(c,m,h,f),g=new anim8.Event(c,p,e,a,i,s,r,o,u);this.placeEvent(g.newInstance())}return this.activate()},applyInitialState:function(t){var n=this.eventsFor(t,function(t,n){!t.hasStarted()&&t.hasInitialState&&(t.applyValue(this.frame,this.frame[n],0),this.updated[n]=!0)});return this.apply(),n},finiteTimeRemaining:function(){var t=0;for(var n in this.events){var e=this.events[n];e.isInfinite()||(t=Math.max(t,this.events[n].finiteTimeRemainingInChain()))}return t},ref:function(t){var n=this,e={};return function(){if(t in n.frame)return n.frame[t];e[t]=!0;var i=n.get(e);return anim8.isDefined(i[t])?i[t]:anim8.attribute(t).defaultValue}},follow:function(t,n,e,i,a,r,s,o,u){var n=anim8.path(n),c=new anim8.Event(t,n,e,a,i,s,r,o,u);return this.placeEvent(c.newInstance()),this.activate()},objectsFor:function(t,n,e){anim8.isString(t)&&(t=t.split(" "));var i=!anim8.isFunction(n),a=[];if(anim8.isArray(t))for(var r=0;r<t.length;r++){var s=t[r];s in e&&(i?a.push(e[s]):n.call(this,e[s],s))}else for(var s in e)i?a.push(e[s]):n.call(this,e[s],s);return i?a:this},eventsFor:function(t,n){return this.objectsFor(t,n,this.events)},springsFor:function(t,n){return this.objectsFor(t,n,this.springs)},stop:function(t){return this.eventsFor(t,function(t,n){delete this.events[n]})},end:function(t){return this.eventsFor(t,function(t){for(;t.next;)t=t.next;t.finish(this.frame)})},finish:function(t){return this.eventsFor(t,function(t){t.finish(this.frame)})},pause:function(t){return this.eventsFor(t,function(t){t.pause()})},resume:function(t){return this.eventsFor(t,function(t){t.resume()})},set:function(t){for(var n in t)this.frame[n]=t[n],this.updated[n]=!0;return this.apply(),this},get:function(t){var n={};for(var e in t)n[e]=this.frame[e];return n},hasEvents:function(){for(var t in this.events)return!0;return!1},hasSprings:function(){for(var t in this.springs)return!0;return!1},isAnimating:function(){if(this.hasSprings())return!0;for(var t in this.events)if(this.events[t].isAnimating())return!0;return!1},getSubject:function(t){var n=this.subject;return anim8.isFunction(t)&&(n=t(n)),n},defer:function(t,n,e){return new anim8.DeferAnimator(this,this,t,n,e)}},anim8.eventize(anim8.Animator.prototype),anim8.DeferAnimator=function(t,n,e,i){this.$reset(t,n,e,i)},anim8.DeferAnimator.prototype=new anim8.Defer(anim8.DeferAnimator,["play","queue","transition","transitionInto","restore","set","resume","pause","finish","end","stop","follow","applyInitialState","tweenTo","tween","tweenMany","tweenManyTo","spring","unspring","apply","placeSpring","placeEvent"]),anim8.Animators=function(t){anim8.isArray(t)&&this.fill(t)},anim8.override(anim8s.fn=anim8.Animators.prototype=new Array,{each:function(t,n){for(var e=0;e<this.length&&t.call(n||this[e],this[e],e)!==!1;e++);return this},fill:function(t){for(var n=0;n<t.length;n++)this.push(t[n]);return this},filter:function(t){for(var n=0,e=0;e<this.length;e++){var i=t(this[e]);i||(this[n++]=this[e])}return this.length=n,this},getSubjects:function(t){for(var n=[],e=0;e<this.length;e++)n.push(this[e].subject);return anim8.isFunction(t)&&(n=t(n)),n},first:function(){return this[0]},reverse:function(){for(var t=this.length-1,n=Math.floor(this.length/2),e=0;n>e;e++){var i=this[e],a=this[t-e];this[e]=a,this[t-e]=i}return this},activate:function(){for(var t=0;t<this.length;t++){var n=this[t];n.active||(n.active=!0,anim8.animating.push(n))}return anim8.running||(anim8.running=!0,anim8.trigger("starting"),anim8.requestRun(anim8.run)),this},sequence:function(t,n){return new anim8.Sequence(this,t,n)},restore:anim8.delegate("restore",anim8.delegate.RETURN_THIS),placeSpring:anim8.delegate("placeSpring",anim8.delegate.RETURN_THIS),placeEvent:anim8.delegate("placeEvent",anim8.delegate.RETURN_THIS),preupdate:anim8.delegate("preupdate",anim8.delegate.RETURN_THIS),update:anim8.delegate("update",anim8.delegate.RETURN_THIS),apply:anim8.delegate("apply",anim8.delegate.RETURN_THIS),trimEvents:anim8.delegate("trimEvents",anim8.delegate.RETURN_THIS),deactivate:anim8.delegate("deactivate",anim8.delegate.RETURN_THIS),destroy:anim8.delegate("destroy",anim8.delegate.RETURN_THIS),spring:anim8.delegate("spring",anim8.delegate.RETURN_RESULTS),unspring:anim8.delegate("unspring",anim8.delegate.RETURN_THIS),play:anim8.delegate("play",anim8.delegate.RETURN_THIS),playEvents:anim8.delegate("playEvents",anim8.delegate.RETURN_THIS),queue:anim8.delegate("queue",anim8.delegate.RETURN_THIS),queueEvents:anim8.delegate("queueEvents",anim8.delegate.RETURN_THIS),transition:anim8.delegate("transition",anim8.delegate.RETURN_THIS),transitionEvents:anim8.delegate("transitionEvents",anim8.delegate.RETURN_THIS),transitionInto:anim8.delegate("transitionInto",anim8.delegate.RETURN_THIS),transitionIntoEvents:anim8.delegate("transitionIntoEvents",anim8.delegate.RETURN_THIS),tween:anim8.delegate("tween",anim8.delegate.RETURN_THIS),tweenTo:anim8.delegate("tweenTo",anim8.delegate.RETURN_THIS),tweenMany:anim8.delegate("tweenMany",anim8.delegate.RETURN_THIS),tweenManyTo:anim8.delegate("tweenManyTo",anim8.delegate.RETURN_THIS),applyInitialState:anim8.delegate("applyInitialState",anim8.delegate.RETURN_THIS),follow:anim8.delegate("follow",anim8.delegate.RETURN_THIS),eventsFor:anim8.delegate("eventsFor",anim8.delegate.RETURN_RESULTS),springsFor:anim8.delegate("springsFor",anim8.delegate.RETURN_RESULTS),stop:anim8.delegate("stop",anim8.delegate.RETURN_THIS),end:anim8.delegate("end",anim8.delegate.RETURN_THIS),finish:anim8.delegate("finish",anim8.delegate.RETURN_THIS),pause:anim8.delegate("pause",anim8.delegate.RETURN_THIS),resume:anim8.delegate("resume",anim8.delegate.RETURN_THIS),set:anim8.delegate("set",anim8.delegate.RETURN_THIS),get:anim8.delegate("get",anim8.delegate.RETURN_FIRST),isAnimating:anim8.delegate("isAnimating",anim8.delegate.RETURN_TRUE),hasEvents:anim8.delegate("hasEvents",anim8.delegate.RETURN_TRUE),hasSprings:anim8.delegate("hasSprings",anim8.delegate.RETURN_TRUE),on:anim8.delegate("on",anim8.delegate.RETURN_THIS),once:anim8.delegate("once",anim8.delegate.RETURN_THIS),off:anim8.delegate("off",anim8.delegate.RETURN_THIS),trigger:anim8.delegate("trigger",anim8.delegate.RETURN_THIS)}),anim8.running=!1,anim8.live=!1,anim8.animating=new anim8.Animators,anim8.requestRun=function(){for(var t=["ms","moz","webkit","o"],n=window.requestAnimationFrame,e=0;e<t.length&&!n;++e)n=window[t[e]+"RequestAnimationFrame"];if(!n){var i=0;return function(t){var n=(anim8.now(),Math.max(0,16-(currTime-i))),e=window.setTimeout(function(){t(currTime+n)},n);return i=currTime+n,e}}return function(t){n(t)}}(),anim8.add=function(t){t.active||(anim8.animating.push(t),t.active=!0),anim8.running||(anim8.running=!0,anim8.trigger("starting"),anim8.requestRun(anim8.run))},anim8.run=function(){anim8.trigger("begin");var t=anim8.now();anim8.animating.each(function(t){t.preupdate()}),anim8.animating.each(function(n){n.update(t)}),anim8.animating.each(function(t){t.apply()}),anim8.animating.filter(function(t){return t.finished&&(t.deactivate(),t.active=!1),t.finished}),anim8.trigger("end"),anim8.animating.length||anim8.live?anim8.requestRun(anim8.run):(anim8.running=!1,anim8.trigger("finished"))},anim8.eventize(anim8),anim8.Sequence=function(t,n,e){this.animators=t,this.delay=anim8.delay(n),this.easing=anim8.easing(e)},anim8.Sequence.prototype={maxDelay:function(){return this.delay*(this.animators.length-1)},createEvents:function(t,n){for(var e=t.newEvents(),i=n/(this.animators.length-1),a=this.easing(i)*this.maxDelay(),r=0;r<e.length;r++)e[r].delay+=a;return e},reverse:function(){return this.animators.reverse(),this},play:function(t,n,e,i){var a=anim8.animation(t,n,i);if(a===!1)return this;var r=this;return this.animators.each(function(t,n){t.playEvents(r.createEvents(a,n),e)}),this.add()},queue:function(t,n,e){var i=anim8.animation(t,n,e);if(i===!1)return this;var a=this,r=0,s=[];return this.animators.each(function(t,n){s[n]=t.finiteTimeRemaining(),r=Math.max(r,s[n])}),this.animators.each(function(t,n){for(var e=r-s[n],o=a.createEvents(i,n),n=0;n<o.length;n++)o[n].delay+=e;t.queueEvents(o)}),this.add()},transition:function(t,n,e,i,a,r,s){var o=anim8.animation(i,a,s);if(o===!1)return this;var u=this;return this.animators.each(function(i,a){i.transitionEvents(t,n,e,u.createEvents(o,a),r)}),this.add()},transitionInto:function(t,n,e,i,a,r,s,o){var u=anim8.animation(a,r,o);if(u===!1)return this;var c=this;return this.animators.each(function(a,r){a.transitionIntoEvents(t,n,e,i,c.createEvents(u,r),s)}),this.add()},add:function(){return this.animators.activate(),this.animators.applyInitialState(),this}},anim8.parser=function(t){return t instanceof anim8.Parser?t:anim8.isString(t)&&t in anim8.parser?anim8.parser[t]:!1},anim8.Parser=function(){},anim8.Parser.prototype={parse:function(){throw"Parser.parse not implemented"},merge:function(t,n,e,i){for(var a=t.durations||{},r=t.easings||{},s=t.delays||{},o=t.sleeps||{},u=t.repeats||{},c=t.scales||{},l=t.scaleBases||{},m=0;m<i.length;m++){var h=i[m],f=h.attribute,p=h.path.calculator;h.getParser()===this&&(h.easing=anim8.easing(anim8.coalesce(r[f],n.easing,e.easing),h.easing),h.repeat=anim8.repeat(anim8.coalesce(u[f],n.repeat,e.repeat),h.repeat),h.delay=anim8.time(anim8.coalesce(s[f],n.delay,e.delay),h.delay),h.sleep=anim8.time(anim8.coalesce(o[f],n.sleep,e.sleep),h.sleep),h.duration=anim8.time(anim8.coalesce(a[f],n.duration,e.duration),h.duration),h.scale=anim8.coalesce(c[f],n.scale,e.scale,h.scale),h.scaleBase=p.parse(anim8.coalesce(l[f],n.scaleBase,e.scaleBase),h.scaleBase))}}},anim8.ParserDeltas=function(){},anim8.override(anim8.ParserDeltas.prototype=new anim8.Parser,{parse:function(t,n,e){var i=t.deltas,a=t.values;if(!anim8.isDefined(i)){var r=0;for(var s in a)r++;i=[];for(var o=0;r>o;o++)i[o]=o/(r-1)}if(anim8.isArray(i)){var u={};for(var s in a)u[s]=i;i=u}var c=t.durations||{},l=t.easings||{},m=t.delays||{},h=t.sleeps||{},f=t.repeats||{},p=t.scales||{},g=t.scaleBases||{};for(var s in a){var d=a[s],v=!1,b=!1;s in anim8.attribute?(v=anim8.calculator(anim8.attribute[s].calculator),b=anim8.attribute[s].defaultValue):(v=anim8.calculator["default"],b=v.create());for(var y=0;y<d.length;y++)d[y]=v.parse(d[y],b);var E=anim8.coalesce(c[s],n.duration),w=anim8.coalesce(l[s],n.easing),T=anim8.coalesce(m[s],n.delay),S=anim8.coalesce(h[s],n.sleep),N=anim8.coalesce(f[s],n.repeat),I=anim8.coalesce(p[s],n.scale),R=anim8.coalesce(g[s],n.scaleBase),P=new anim8.DeltaPath(s,v,a[s],i[s]),x=new anim8.Event(s,P,E,w,T,S,N,I,R,!0,this);e.push(x)}}}),anim8.parser.values=new anim8.ParserDeltas,anim8.ParserFinal=function(){},anim8.override(anim8.ParserFinal.prototype=new anim8.Parser,{parse:function(t,n,e){var i=t["final"],a=t.delays||{},r=t.durations||{},s=t.scales||{},o=t.scaleBases||{};for(var u in i){var c=i[u],l=!1,m=!1;u in anim8.attribute?(l=anim8.calculator(anim8.attribute[u].calculator),m=anim8.attribute[u].defaultValue):(l=anim8.calculator["default"],m=l.create()),c=l.parse(c,m);var h=anim8.delay(anim8.coalesce(a[u],n.delay)),f=anim8.duration(anim8.coalesce(r[u],n.duration)),p=anim8.coalesce(s[u],n.scale),g=anim8.coalesce(o[u],n.scaleBase),d=new anim8.PointPath(u,l,c),v=new anim8.Event(u,d,0,anim8.easing["default"],h+f,0,1,p,g,!1,this);e.push(v)}},merge:function(t,n,e,i){for(var a=t.durations||{},r=t.delays||{},s=t.scales||{},o=t.scaleBases||{},u=0;u<i.length;u++){var c=i[u],l=c.attribute,m=c.path.calculator;if(c.getParser()===this){var h=anim8.coalesce(r[l],n.delay,e.delay),f=anim8.coalesce(a[l],n.duration,e.duration);c.delay=anim8.delay(h)+anim8.duration(f),c.scale=anim8.coalesce(s[l],n.scale,e.scale,c.scale),c.scaleBase=m.parse(anim8.coalesce(o[l],n.scaleBase,e.scaleBase),c.scaleBase)}}}}),anim8.parser["final"]=new anim8.ParserFinal,anim8.ParserInitial=function(){},anim8.override(anim8.ParserInitial.prototype=new anim8.Parser,{parse:function(t,n,e){var i=t.initial,a=t.delays||{},r=t.scales||{},s=t.scaleBases||{};for(var o in i){var u=i[o],c=!1,l=!1;o in anim8.attribute?(c=anim8.calculator(anim8.attribute[o].calculator),l=anim8.attribute[o].defaultValue):(c=anim8.calculator["default"],l=c.create()),u=c.parse(u,l);var m=anim8.delay(anim8.coalesce(a[o],n.delay)),h=anim8.coalesce(r[o],n.scale),f=anim8.coalesce(s[o],n.scaleBase),p=new anim8.PointPath(o,c,u),g=new anim8.Event(o,p,0,anim8.easing["default"],m,0,1,h,f,!0,this);e.push(g)}},merge:function(t,n,e,i){for(var a=(t.durations||{},t.delays||{}),r=t.scales||{},s=t.scaleBases||{},o=0;o<i.length;o++){var u=i[o],c=u.attribute,l=u.path.calculator;u.getParser()===this&&(u.delay=anim8.time(anim8.coalesce(a[c],n.delay,e.delay),u.delay),u.scale=anim8.coalesce(r[c],n.scale,e.scale,u.scale),u.scaleBase=l.parse(anim8.coalesce(s[c],n.scaleBase,e.scaleBase),u.scaleBase))}}}),anim8.parser.initial=new anim8.ParserInitial,anim8.ParserKeyframe=function(){},anim8.override(anim8.ParserKeyframe.prototype=new anim8.Parser,{parse:function(t,n,e){var i=t.keyframe,a=t.durations||{},r=t.easings||{},s=t.delays||{},o=t.sleeps||{},u=t.repeats||{},c=t.scales||{},l=t.scaleBases||{},m=anim8.easing(anim8.coalesce(n.teasing,anim8.defaults.teasing)),h=!1,f={from:"0",start:"0",initial:"0",first:"0",half:"50",middle:"50",to:"100",end:"100",last:"100"};for(var p in i)if(p in f)i[f[p]]=i[p],delete i[p];else if(-1!==p.indexOf(",")){for(var g=p.split(","),d=0;d<g.length;d++)i[g[d]]=i[p];delete i[p],h=!0}var g=[],v=0,b=0;for(var p in i){var y=parseFloat(p);isNaN(y)?delete i[p]:(v>y&&(h=!0),g.push({order:y,key:p,value:i[p]}),v=y,b=Math.max(b,y))}if(h){g.sort(function(t,n){return t.order-n.order}),i={};for(var d=0;d<g.length;d++)i[g[d].key]=g[d].value}for(var E={},w={},T={},S={},N={},d=0;d<g.length;d++){var I=g[d],R=anim8.coalesce(I.value.easing,n.easing);delete I.value.easing;for(var P in I.value)P in E||(E[P]=[],w[P]=[],N[P]=[],P in anim8.attribute?(T[P]=anim8.calculator(anim8.attribute[P].calculator),S[P]=anim8.attribute[P].defaultValue):(T[P]=anim8.calculator["default"],S[P]=T[P].create())),E[P].push(I.order/b),w[P].push(T[P].parse(I.value[P],S[P])),N[P].push(anim8.easing(anim8.coalesce(r[P],R)))}for(var P in E){var x=anim8.coalesce(a[P],n.duration),M=anim8.coalesce(s[P],n.delay),A=anim8.coalesce(o[P],n.sleep),F=anim8.coalesce(u[P],n.repeat),D=anim8.coalesce(c[P],n.scale),C=anim8.coalesce(l[P],n.scaleBase),U=new anim8.KeyframePath(P,T[P],w[P],E[P],N[P]),q=new anim8.Event(P,U,x,m,M,A,F,D,C,!0,this);e.push(q)}}}),anim8.parser.keyframe=new anim8.ParserKeyframe,anim8.ParserTween=function(){},anim8.override(anim8.ParserTween.prototype=new anim8.Parser,{parse:function(t,n,e){var i=t.tweenTo,a=t.durations||{},r=t.easings||{},s=t.delays||{},o=t.sleeps||{},u=t.repeats||{},c=t.scales||{},l=t.scaleBase||{};for(var m in i){var h=null,f=!1;m in anim8.attribute?(h=anim8.calculator(anim8.attribute[m].calculator),f=anim8.attribute[m].defaultValue):(h=anim8.calculator["default"],f=h.create());var p=h.parse(i[m],f),g=anim8.coalesce(a[m],n.duration),d=anim8.coalesce(r[m],n.easing),v=anim8.coalesce(s[m],n.delay),b=anim8.coalesce(o[m],n.sleep),y=anim8.coalesce(u[m],n.repeat),E=anim8.coalesce(c[m],n.scale),w=anim8.coalesce(l[m],n.scaleBase),T=new anim8.Tween(m,h,!0,p),S=new anim8.Event(m,T,g,d,v,b,y,E,w,!0,this);e.push(S)}}}),anim8.parser.tweenTo=new anim8.ParserTween,anim8.factory=function(t,n){var e=!1;for(var i in anim8.factory){var a=anim8.factory[i];a.is(t)&&(e===!1||e.priority<a.priority)&&(e=a)}if(e)return e;if(n)return!1;throw"No factory exists for subject "+t},anim8.Factory=function(){this.priority=0},anim8.Factory.prototype={is:function(){return!1},animatorFor:function(){return!1},animatorsFor:function(t,n){n.push(this.animatorFor(t))},destroy:function(){}},anim8.ObjectFactory=function(){this.priority=0},anim8.override(anim8.ObjectFactory.prototype=new anim8.Factory,{is:function(t){return anim8.isObject(t)&&!anim8.isElement(t)&&!anim8.isArray(t)},animatorFor:function(t){var n=t.$animator;return n||(n=new anim8.Animator(t),n.factory=this,t.$animator=n),n},destroy:function(t){delete t.subject.$animator}}),anim8.factory.object=new anim8.ObjectFactory;
//# sourceMappingURL=anim8js-object.min.js.map