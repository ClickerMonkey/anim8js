m8=anim8=function(t){if(t instanceof anim8.Animator)return t;var e=anim8.factoryFor(t,!0);return e===!1?!1:e.animatorFor(t)},m8s=anim8s=function(t){var e=anim8.factoryFor(t,!0),i=[];if(e!==!1)return e.animatorsFor(t,i),new anim8.Animators(i);anim8.isArray(t)||(t=[t]);for(var i=[],a=0;a<t.length;a++){var n=anim8(t[a]);n!==!1&&i.push(n)}return new anim8.Animators(i)},anim8.defaults={duration:1e3,easing:"ease",teasing:"linear",delay:0,sleep:0,repeat:1,scale:1,offset:0,transitionTime:500,transitionOutro:100,transitionIntro:100,transitionEasing:"linear",transitionGranularity:0,transitionLookup:10,cache:!1,cacheOptions:!1,cacheTransitions:!1,noOptions:{},noTransition:{},frameRate:16,pauseTime:5},anim8.noop=function(){},anim8.isDefined=function(t){return"undefined"!=typeof t},anim8.isFunction=function(t){return!!(t&&t.constructor&&t.call&&t.apply)},anim8.isNumber=function(t){return"number"==typeof t},anim8.isBoolean=function(t){return"boolean"==typeof t},anim8.isString=function(t){return"string"==typeof t},anim8.isArray=function(t){return t instanceof Array},anim8.isObject=function(t){return"object"==typeof t&&null!==t},anim8.isElement=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName},anim8.now=function(){return Date.now?Date.now:function(){return(new Date).getTime()}}(),anim8.trim=function(){return String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^([\s]*)|([\s]*)$/g,"")}}(),anim8.isEmpty=function(t){if(anim8.isArray(t)||anim8.isString(t))return t.length>0;if(null===t)return!0;if(anim8.isObject(t))for(var e in t)return!1;else if(anim8.isNumber(t))return 0!==t;return!0},anim8.toArray=function(t,e){if(anim8.isString(t))return e?t.split(e):[t];if(anim8.isArray(t))return t;if(anim8.isObject(t)){var i=[];for(var a in t)i.push(a);return i}return anim8.isDefined(t)?[t]:[]},anim8.copy=function(t){if(anim8.isArray(t)){for(var e=[],i=0;i<t.length;i++)e.push(anim8.copy(t[i]));t=e}else if(anim8.isObject(t)){var e={};for(var a in t)e[a]=anim8.copy(t[a]);t=e}return t},anim8.extend=function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];if(anim8.isObject(i))for(var a in i)a in t||(t[a]=i[a])}return t},anim8.override=function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];if(anim8.isObject(i))for(var a in i)t[a]=i[a]}return t},anim8.coalesce=function(t,e,i,a){return anim8.isDefined(t)?t:anim8.isDefined(e)?e:anim8.isDefined(i)?i:a},anim8.time=function(){var t=/^(-?\d*(\.\d+)|-?\d+)(ms|s|c|cs|third|jiffy|sec|m|min|h|hr)?$/,e={ms:1,c:100,cs:100,jiffy:1e3/60,third:1e3/60,s:1e3,sec:1e3,m:6e4,min:6e4,h:36e5,hr:36e5};return function(i,a){if(anim8.isNumber(i))return Math.floor(i);if(anim8.isString(i)){var n=t.exec(i);if(n){var i=parseFloat(n[1]),r=n[3];return r in e&&(i*=e[r]),Math.floor(i)}}return anim8.coalesce(a,0)}}(),anim8.delay=function(t){return anim8.time(t,anim8.defaults.delay)},anim8.sleep=function(t){return anim8.time(t,anim8.defaults.sleep)},anim8.duration=function(t){return anim8.time(t,anim8.defaults.duration)},anim8.offset=function(t){return anim8.time(t,anim8.defaults.offset)},anim8.repeat=function(){var t={inf:Number.POSITIVE_INFINITY,infinity:Number.POSITIVE_INFINITY,infinite:Number.POSITIVE_INFINITY,once:1,twice:2,thrice:3,dozen:12,random:4};return function(e,i){if(anim8.isNumber(e))return e;if(anim8.isString(e)){if(e=e.toLowerCase(),e in t)return t[e];var a=parseInt(e);if(!isNaN(a))return a}return anim8.coalesce(i,anim8.defaults.repeat)}}(),anim8.number=function(t,e){var i=parseFloat(t);return isNaN(i)?e:i},anim8.scale=function(t){return anim8.number(t,anim8.defaults.scale)},anim8.constant=function(t){return function(){return t}},anim8.resolve=function(t){return anim8.isFunction(t)?t():t},anim8.clamp=function(t,e,i){return e>t?e:t>i?i:t},anim8.delegate=function(t,e){switch(e){case anim8.delegate.RETURN_THIS:return function(){for(var e=this.$||this,i=0;i<e.length;i++)e[i][t].apply(e[i],arguments);return this};case anim8.delegate.RETURN_RESULTS:return function(){for(var e=this.$||this,i=[],a=0;a<e.length;a++)i.push(e[a][t].apply(e[a],arguments));return i};case anim8.delegate.RETURN_FIRST:return function(){var e=this.$||this;return 0===e.length?void 0:e[0][t].apply(e[0],arguments)};case anim8.delegate.RETURN_TRUE:return function(){for(var e=this.$||this,i=0;i<e.length;i++)if(e[i][t].apply(e[i],arguments))return!0;return!1}}return anim8.noop},anim8.delegate.RETURN_THIS="this",anim8.delegate.RETURN_RESULTS="results",anim8.delegate.RETURN_FIRST="first",anim8.delegate.RETURN_TRUE="true",anim8.eventize=function(t){var e=function(t,e,i,a,n){var i=anim8.toArray(i," ");anim8.isDefined(t[e])||(t[e]={});for(var r=0;r<i.length;r++)anim8.isDefined(t[e][i[r]])||(t[e][i[r]]=[]),t[e][i[r]].push([a,n||t])};t.on=function(t,i,a){return e(this,"$on",t,i,a),this},t.once=function(t,i,a){return e(this,"$once",t,i,a),this};var i=function(t,e,i){if(t&&e in t)for(var a=t[e],n=a.length-1;n>=0;n--)a[n][0]===i&&a.splice(n,1)},a=function(t,e){t&&e in t&&delete t[e]};t.off=function(t,e){if(anim8.isDefined(t)){var t=anim8.toArray(t," ");if(anim8.isFunction(e))for(var n=0;n<t.length;n++)i(this.$on,t[n],e),i(this.$once,t[n],e);else for(var n=0;n<t.length;n++)a(this.$on,t[n]),a(this.$once,t[n])}else a(this,"$on"),a(this,"$once");return this};var n=function(t,e,i,a){if(t&&e in t){for(var n=t[e],r=n.length,s=0;r>s;s++){var o=n[s];o[0].call(o[1],i)}a&&(n.length!==r?t[e]=n.slice(r):delete t[e])}};t.trigger=function(t,e){return n(this.$on,t,e,!1),n(this.$once,t,e,!0),this}},anim8.FastMap=function(t){if(this.reset(),t instanceof anim8.FastMap)this.putMap(t);else if(anim8.isObject(t))for(var e in t)this.put(e,t[e])},anim8.FastMap.prototype={reset:function(){return this.values=[],this.keys=[],this.indices={},this},put:function(t,e){return t in this.indices?this.values[this.indices[t]]=e:(this.indices[t]=this.values.length,this.values.push(e),this.keys.push(t)),this},putMap:function(t){for(var e=t.keys,i=t.values,a=0;a<e.length;a++)this.put(e[a],i[a]);return this},get:function(t){return this.values[this.indices[t]]},remove:function(t){var e=this.indices[t];return anim8.isNumber(e)&&this.removeAt(e),this},removeAt:function(t){var e=this.keys[t],i=this.values.pop(),a=this.keys.pop();return t<this.values.length&&(this.values[t]=i,this.keys[t]=a,this.indices[a]=t),delete this.indices[e],this},indexOf:function(t){return anim8.coalesce(this.indices[t],-1)},has:function(t){return t in this.indices},hasOverlap:function(t){for(var e=this.keys,i=t.indices,a=0;a<e.length;a++)if(e[a]in i)return!0;return!1},size:function(){return this.values.length},clear:function(){return this.values.length=0,this.keys.length=0,this.indices={},this}},anim8.Defer=function(t,e){this.$factory=t;for(var i=0;i<e.length;i++)this[e[i]]=this.$push(e[i])},anim8.Defer.prototype={$reset:function(t,e,i,a,n){this.$eventable=t,this.$previous=e,this.$eventType=i,this.$event=a,this.$callback=n,this.$calls=[],this.$next=[],this.$isRoot()&&this.$register()},$isRoot:function(){return this.$eventable===this.$previous},$register:function(){this.$eventable[this.$eventType](this.$event,this.$run,this)},$push:function(t){return function(){return this.$calls.push([t,arguments]),this}},$run:function(){anim8.isFunction(this.$callback)&&this.$callback.call(this.$eventable,this);for(var t=0;t<this.$calls.length;t++){var e=this.$calls[t];this.$eventable[e[0]].apply(this.$eventable,e[1])}for(var i=0;i<this.$next.length;i++)this.$next[i].$register()},undefer:function(){return this.$previous},defer:function(t,e,i){var a=new this.$factory(this.$eventable,this,t,e,i);return this.$next.push(a),a}},anim8.easing=function(t,e){if(anim8.isFunction(t))return t;if(anim8.isString(t)){if(t in anim8.easing)return anim8.easing[t];if(t in anim8.easingType)return anim8.easingType[t](anim8.easing(anim8.defaults.easing));if(-1!==t.indexOf("-")){var i=t.split("-"),a=i[0],n=i[1];if(i.length>=2&&a in anim8.easing&&n in anim8.easingType)return anim8.easingType[n](anim8.easing[a])}}if(anim8.isArray(t)&&4===t.length&&anim8.isNumber(t[0])&&anim8.isNumber(t[1])&&anim8.isNumber(t[2])&&anim8.isNumber(t[3]))return anim8.easing.bezier.apply(null,t);if(!anim8.isDefined(t))return anim8.easing(anim8.defaults.easing);if(anim8.isDefined(e))return e;throw t+" is not a valid easing"},anim8.isEasingName=function(t){if(t in anim8.easing)return!0;var e=t.split("-"),i=e[0],a=e[1];return e.length>=2&&i in anim8.easing&&a in anim8.easingType?!0:!1},anim8.easing.linear=function(t){return t},anim8.easing.quad=function(t){return t*t},anim8.easing.ease=function(t){var e=1-t,i=e*e,a=t*t,n=.3*i*t+3*e*a+a*t,r=1-i*i;return n*e+r*t},anim8.easing.cubic=function(t){return t*t*t},anim8.easing.quartic=function(t){var e=t*t;return e*e},anim8.easing.quintic=function(t){var e=t*t;return e*e*t},anim8.easing.back=function(t){var e=t*t,i=e*t;return i+e-t},anim8.easing.sine=function(t){return Math.sin(1.57079632679*t)},anim8.easing.overshot=function(t){return(1-.7*t)*t*(10/3)},anim8.easing.elastic=function(t){var e=t*t,i=e*t,a=e*(2*i+e-4*t+2),n=-Math.sin(10.9955742876*t);return a*n},anim8.easing.revisit=function(t){return Math.abs(t-Math.sin(3.14159265359*t))},anim8.easing.lasso=function(t){return 1-Math.cos(t*t*t*36)*(1-t)},anim8.easing.slowbounce=function(t){var e=t*t;return 1-Math.abs((1-e)*Math.cos(e*t*14.8044066016))},anim8.easing.bounce=function(t){return 1-Math.abs((1-t)*Math.cos(t*t*14.8044066016))},anim8.easing.smallbounce=function(t){var e=1-t;return 1-Math.abs(e*e*Math.cos(t*t*14.8044066016))},anim8.easing.tinybounce=function(t){var e=1-t;return 1-Math.abs(e*e*Math.cos(t*t*7))},anim8.easing.hesitant=function(t){return Math.cos(t*t*12)*t*(1-t)+t},anim8.easing.sqrt=function(t){return Math.sqrt(t)},anim8.easing.sqrtf=function(t){var e=1-t,i=e*e;return.5*(1-i*i+t)},anim8.easing.log10=function(t){return.5*(Math.log10(t+.01)+2)/1.0021606868913213},anim8.easing.slingshot=function(t){if(.7>t)return t*-.357;var e=t-.7;return.5*(e*e*27.5-.5)},anim8.easing.circular=function(t){return 1-Math.sqrt(1-t*t)},anim8.easing.gentle=function(t){return 3*(1-t)*t*t+t*t*t},anim8.easing.bezier=function(t,e,i,a){function n(t,e){return 1-3*e+3*t}function r(t,e){return 3*e-6*t}function s(t){return 3*t}function o(t,e,i){return((n(e,i)*t+r(e,i))*t+s(e))*t}function u(t,e,i){return 3*n(e,i)*t*t+2*r(e,i)*t+s(e)}function m(e){for(var a=e,n=0;4>n;++n){var r=u(a,t,i);if(0==r)return a;var s=o(a,t,i)-e;a-=s/r}return a}return function(t){return o(m(t),e,a)}},anim8.easingType=function(t,e){if(anim8.isFunction(t))return t;if(anim8.isString(t)&&t in anim8.easingType)return anim8.easingType[t];if(e)return!1;throw t+" is not a valid easing type"},anim8.easingType["in"]=function(t){return function(e){return t(e)}},anim8.easingType.out=function(t){return function(e){return 1-t(1-e)}},anim8.easingType.inout=function(t){return function(e){return.5>e?.5*t(2*e):1-.5*t(2-2*e)}},anim8.easingType.yoyo=function(t){return function(e){return t(.5>e?2*e:2-2*e)}},anim8.easingType.mirror=function(t){return function(e){return.5>e?t(2*e):1-t(2-2*e)}},anim8.easingType.reverse=function(t){return function(e){return t(1-e)}},anim8.easingType.flip=function(t){return function(e){return 1-t(e)}},anim8.easing.cssEase=anim8.easing.ease,anim8.easing.cssEaseIn=anim8.easing.quad,anim8.easing.cssEaseOut=anim8.easingType.out(anim8.easing.quad),anim8.easing.cssEaseInOut=anim8.easingType.inout(anim8.easing.quad),anim8.easing.cssLinear=anim8.easing.linear,anim8.color=function(t,e,i,a){return{r:anim8.coalesce(t,255),g:anim8.coalesce(e,255),b:anim8.coalesce(i,255),a:anim8.coalesce(a,1)}},anim8.color.parsers=[{parse:function(t){if("object"==typeof t){var e={r:this.parseComponent(t.r,"parseInt",255),g:this.parseComponent(t.g,"parseInt",255),b:this.parseComponent(t.b,"parseInt",255),a:this.parseComponent(t.a,"parseFloat",1)};return e}return!1},parseComponent:function(t,e,i){var a=typeof t,n=i;if("string"===a){var r=window[e](a,10);isNaN(r)||(n=r)}else"number"===a&&(n=t);return n>i&&(n=i),0>n&&(n=0),n}},{names:{transparent:{r:255,g:256,b:255,a:0},aliceblue:{r:240,g:248,b:255,a:1},antiquewhite:{r:250,g:235,b:215,a:1},aqua:{r:0,g:255,b:255,a:1},aquamarine:{r:127,g:255,b:212,a:1},azure:{r:240,g:255,b:255,a:1},beige:{r:245,g:245,b:220,a:1},bisque:{r:255,g:228,b:196,a:1},black:{r:0,g:0,b:0,a:1},blanchedalmond:{r:255,g:235,b:205,a:1},blue:{r:0,g:0,b:255,a:1},blueviolet:{r:138,g:43,b:226,a:1},brown:{r:165,g:42,b:42,a:1},burlywood:{r:222,g:184,b:135,a:1},cadetblue:{r:95,g:158,b:160,a:1},chartreuse:{r:127,g:255,b:0,a:1},chocolate:{r:210,g:105,b:30,a:1},coral:{r:255,g:127,b:80,a:1},cornflowerblue:{r:100,g:149,b:237,a:1},cornsilk:{r:255,g:248,b:220,a:1},crimson:{r:220,g:20,b:60,a:1},cyan:{r:0,g:255,b:255,a:1},darkblue:{r:0,g:0,b:139,a:1},darkcyan:{r:0,g:139,b:139,a:1},darkgoldenrod:{r:184,g:134,b:11,a:1},darkgray:{r:169,g:169,b:169,a:1},darkgreen:{r:0,g:100,b:0,a:1},darkkhaki:{r:189,g:183,b:107,a:1},darkmagenta:{r:139,g:0,b:139,a:1},darkolivegreen:{r:85,g:107,b:47,a:1},darkorange:{r:255,g:140,b:0,a:1},darkorchid:{r:153,g:50,b:204,a:1},darkred:{r:139,g:0,b:0,a:1},darksalmon:{r:233,g:150,b:122,a:1},darkseagreen:{r:143,g:188,b:143,a:1},darkslateblue:{r:72,g:61,b:139,a:1},darkslategray:{r:47,g:79,b:79,a:1},darkturquoise:{r:0,g:206,b:209,a:1},darkviolet:{r:148,g:0,b:211,a:1},deeppink:{r:255,g:20,b:147,a:1},deepskyblue:{r:0,g:191,b:255,a:1},dimgray:{r:105,g:105,b:105,a:1},dodgerblue:{r:30,g:144,b:255,a:1},feldspar:{r:209,g:146,b:117,a:1},firebrick:{r:178,g:34,b:34,a:1},floralwhite:{r:255,g:250,b:240,a:1},forestgreen:{r:34,g:139,b:34,a:1},fuchsia:{r:255,g:0,b:255,a:1},gainsboro:{r:220,g:220,b:220,a:1},ghostwhite:{r:248,g:248,b:255,a:1},gold:{r:255,g:215,b:0,a:1},goldenrod:{r:218,g:165,b:32,a:1},gray:{r:128,g:128,b:128,a:1},green:{r:0,g:128,b:0,a:1},greenyellow:{r:173,g:255,b:47,a:1},honeydew:{r:240,g:255,b:240,a:1},hotpink:{r:255,g:105,b:180,a:1},indianred:{r:205,g:92,b:92,a:1},indigo:{r:75,g:0,b:130,a:1},ivory:{r:255,g:255,b:240,a:1},khaki:{r:240,g:230,b:140,a:1},lavender:{r:230,g:230,b:250,a:1},lavenderblush:{r:255,g:240,b:245,a:1},lawngreen:{r:124,g:252,b:0,a:1},lemonchiffon:{r:255,g:250,b:205,a:1},lightblue:{r:173,g:216,b:230,a:1},lightcoral:{r:240,g:128,b:128,a:1},lightcyan:{r:224,g:255,b:255,a:1},lightgoldenrodyellow:{r:250,g:250,b:210,a:1},lightgrey:{r:211,g:211,b:211,a:1},lightgreen:{r:144,g:238,b:144,a:1},lightpink:{r:255,g:182,b:193,a:1},lightsalmon:{r:255,g:160,b:122,a:1},lightseagreen:{r:32,g:178,b:170,a:1},lightskyblue:{r:135,g:206,b:250,a:1},lightslateblue:{r:132,g:112,b:255,a:1},lightslategray:{r:119,g:136,b:153,a:1},lightsteelblue:{r:176,g:196,b:222,a:1},lightyellow:{r:255,g:255,b:224,a:1},lime:{r:0,g:255,b:0,a:1},limegreen:{r:50,g:205,b:50,a:1},linen:{r:250,g:240,b:230,a:1},magenta:{r:255,g:0,b:255,a:1},maroon:{r:128,g:0,b:0,a:1},mediumaquamarine:{r:102,g:205,b:170,a:1},mediumblue:{r:0,g:0,b:205,a:1},mediumorchid:{r:186,g:85,b:211,a:1},mediumpurple:{r:147,g:112,b:216,a:1},mediumseagreen:{r:60,g:179,b:113,a:1},mediumslateblue:{r:123,g:104,b:238,a:1},mediumspringgreen:{r:0,g:250,b:154,a:1},mediumturquoise:{r:72,g:209,b:204,a:1},mediumvioletred:{r:199,g:21,b:133,a:1},midnightblue:{r:25,g:25,b:112,a:1},mintcream:{r:245,g:255,b:250,a:1},mistyrose:{r:255,g:228,b:225,a:1},moccasin:{r:255,g:228,b:181,a:1},navajowhite:{r:255,g:222,b:173,a:1},navy:{r:0,g:0,b:128,a:1},oldlace:{r:253,g:245,b:230,a:1},olive:{r:128,g:128,b:0,a:1},olivedrab:{r:107,g:142,b:35,a:1},orange:{r:255,g:165,b:0,a:1},orangered:{r:255,g:69,b:0,a:1},orchid:{r:218,g:112,b:214,a:1},palegoldenrod:{r:238,g:232,b:170,a:1},palegreen:{r:152,g:251,b:152,a:1},paleturquoise:{r:175,g:238,b:238,a:1},palevioletred:{r:216,g:112,b:147,a:1},papayawhip:{r:255,g:239,b:213,a:1},peachpuff:{r:255,g:218,b:185,a:1},peru:{r:205,g:133,b:63,a:1},pink:{r:255,g:192,b:203,a:1},plum:{r:221,g:160,b:221,a:1},powderblue:{r:176,g:224,b:230,a:1},purple:{r:128,g:0,b:128,a:1},red:{r:255,g:0,b:0,a:1},rosybrown:{r:188,g:143,b:143,a:1},royalblue:{r:65,g:105,b:225,a:1},saddlebrown:{r:139,g:69,b:19,a:1},salmon:{r:250,g:128,b:114,a:1},sandybrown:{r:244,g:164,b:96,a:1},seagreen:{r:46,g:139,b:87,a:1},seashell:{r:255,g:245,b:238,a:1},sienna:{r:160,g:82,b:45,a:1},silver:{r:192,g:192,b:192,a:1},skyblue:{r:135,g:206,b:235,a:1},slateblue:{r:106,g:90,b:205,a:1},slategray:{r:112,g:128,b:144,a:1},snow:{r:255,g:250,b:250,a:1},springgreen:{r:0,g:255,b:127,a:1},steelblue:{r:70,g:130,b:180,a:1},tan:{r:210,g:180,b:140,a:1},teal:{r:0,g:128,b:128,a:1},thistle:{r:216,g:191,b:216,a:1},tomato:{r:255,g:99,b:71,a:1},turquoise:{r:64,g:224,b:208,a:1},violet:{r:238,g:130,b:238,a:1},violetred:{r:208,g:32,b:144,a:1},wheat:{r:245,g:222,b:179,a:1},white:{r:255,g:255,b:255,a:1},whitesmoke:{r:245,g:245,b:245,a:1},yellow:{r:255,g:255,b:0,a:1},yellowgreen:{r:154,g:205,b:50,a:1}},parse:function(t){if("string"==typeof t&&(t=t.toLowerCase(),t in this.names)){var e=this.names[t];return{r:e.r,g:e.g,b:e.b,a:e.a}}return!1}},{regex:/^#?([0-9A-F])([0-9A-F])([0-9A-F])$/i,parse:function(t){var e=this.regex.exec(t);return null!==e?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16),a:1}:!1}},{regex:/^#?([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})$/i,parse:function(t){var e=this.regex.exec(t);return null!==e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16),a:1}:!1}},{regex:/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,parse:function(t){var e=this.regex.exec(t);return null!==e?{r:Math.min(255,parseInt(e[1],10)),g:Math.min(255,parseInt(e[2],10)),b:Math.min(255,parseInt(e[3],10)),a:1}:!1}},{regex:/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([01]?\.\d+|[01])\)$/i,parse:function(t){var e=this.regex.exec(t);return null!==e?{r:Math.min(255,parseInt(e[1],10)),g:Math.min(255,parseInt(e[2],10)),b:Math.min(255,parseInt(e[3],10)),a:Math.min(1,parseFloat(e[4]))}:!1}}],anim8.color.parse=function(t){for(var e=(m8.color.parsers,0);e<this.parsers.length;e++){var i=this.parsers[e].parse(t);if(i!==!1)return i}return!1},anim8.color.format=function(t){var e=anim8.clamp(anim8.coalesce(t.a,1),0,1),i=Math.floor(anim8.clamp(anim8.coalesce(t.r,255),0,255)),a=Math.floor(anim8.clamp(anim8.coalesce(t.g,255),0,255)),n=Math.floor(anim8.clamp(anim8.coalesce(t.b,255),0,255));if(1===e){var r=i.toString(16),s=a.toString(16),o=n.toString(16);return 1==r.length&&(r="0"+r),1==s.length&&(s="0"+s),1==o.length&&(o="0"+o),"#"+r+s+o}return"rgba("+i+","+a+","+n+","+e+")"},anim8.computed={},anim8.computed.current=function(t,e){var i=t.attribute,a=e.getAttribute(i);return i in e.frame?a.calculator.clone(e.frame[i]):a.cloneDefault()},anim8.computed.current.computed=!0,anim8.computed.relative=function(t,e){if(anim8.isComputed(t))return t;var i=function(i,a){var n=i.attribute,r=a.getAttribute(n),s=r.calculator,o=null;return o=n in a.frame?s.clone(a.frame[n]):r.cloneDefault(),e&&(o=s.mul(o,e)),s.add(o,t)};return i.computed=!0,i.relativeAmount=t,i.mask=e,i},anim8.computed.random=function(t){var e=null;if(anim8.isArray(t))e=function(e,i){var a=e.attribute,n=i.getAttribute(a),r=n.calculator,s=t[Math.floor(Math.random()*t.length)];return r.parse(s,r.ZERO)};else if(t instanceof anim8.Path)e=function(e,i){var a=e.attribute,n=i.getAttribute(a),r=n.calculator;return t.compute(r.create(),Math.random())};else{if(!(anim8.isObject(t)&&anim8.isDefined(t.min)&&anim8.isDefined(t.max)))throw"Invalid random input: "+t;e=function(e,i){var a=e.attribute,n=i.getAttribute(a),r=n.calculator,s=anim8.resolve(t.min),o=anim8.resolve(t.max),u=r.parse(s,r.ZERO),m=r.parse(o,r.ZERO);return r.random(r.create(),u,m)}}return e.computed=!0,e.randomSelection=t,e},anim8.isComputed=function(t){return anim8.isFunction(t)&&t.computed},anim8.composite=function(t){return function(e,i){for(var a in t)i[t[a]]=e[a]}},anim8.partial=function(t,e){return function(i,a){anim8.isObject(a[t])||(a[t]={}),a[t][e]=i}},anim8.spread=function(t){return function(e,i){for(var a=0;a<t.length;a++)i[t[a]]=e}},anim8.calculator=function(t){return t instanceof anim8.Calculator?t:anim8.isString(t)&&t in anim8.calculator?anim8.calculator[t]:anim8.calculator["default"]},anim8.Calculator=function(){},anim8.Calculator.prototype={createConstants:function(){this.ZERO=this.create(),this.ONE=this.parse(1,this.ZERO),this.INFINITY=this.parse(Number.POSITIVE_INFINITY,this.ZERO)},parse:function(){throw"Calculator.parse not implemented"},copy:function(){throw"Calculator.copy not implemented"},clone:function(t){return this.copy(this.create(),t)},create:function(){throw"Calculator.create not implemented"},scale:function(t,e){return this.adds(t,t,e-1)},add:function(t,e){return this.adds(t,e,1)},adds:function(){throw"Calculator.adds not implemented"},sub:function(t,e){return this.adds(t,e,-1)},mul:function(){throw"Calculator.mul not implemented"},interpolate:function(t,e,i,a){return t=this.zero(t),t=this.adds(t,e,1-a),t=this.adds(t,i,a)},random:function(t,e,i){return this.interpolate(t,e,i,Math.random())},distance:function(t,e){return Math.sqrt(this.distanceSq(t,e))},distanceSq:function(){throw"Calculator.distanceSq not implemented"},length:function(t){return this.distance(t,this.ZERO)},lengthSq:function(t){return this.distanceSq(t,this.ZERO)},isValid:function(){throw"Calculator.isValid not implemented"},isNaN:function(){throw"Calculator.isNaN not implemented"},isZero:function(){throw"Calculator.isZero not implemented"},isEqual:function(){throw"Calculator.isEqual not implemented"},min:function(){throw"Calculator.min not implemented"},max:function(){throw"Calculator.max not implemented"},dot:function(){throw"Calculator.dot not implemented"},clamp:function(t,e,i){var a=this.distanceSq(t,this.ZERO);return e*e>a?this.scale(t,e/Math.sqrt(a)):a>i*i?this.scale(t,i/Math.sqrt(a)):t},setLength:function(t,e){var i=this.lengthSq(t);return 0!==i?this.scale(t,e/Math.sqrt(i)):t},isRelative:function(t){return anim8.isString(t)&&("-"===t[0]||"+"===t[0])},getRelativeAmount:function(t){var e=parseFloat(t);return isNaN(e)?!1:e}},anim8.CalculatorNumber=function(){this.createConstants()},anim8.override(anim8.CalculatorNumber.prototype=new anim8.Calculator,{parse:function(t,e){if(anim8.isFunction(t))return t;if(t===!0)return anim8.computed.current;if(anim8.isNumber(t))return t;if(anim8.isString(t)){var i=this.getRelativeAmount(t);if(i!==!1)return this.isRelative(t)?anim8.computed.relative(i):i}return e},copy:function(t,e){return e},create:function(){return 0},zero:function(){return 0},adds:function(t,e,i){return t+=e*i},mul:function(t,e){return t*=e},interpolate:function(t,e,i,a){return(i-e)*a+e},distanceSq:function(t,e){var i=t-e;return i*i},distance:function(t,e){return Math.abs(t-e)},length:function(t){return Math.abs(t)},lengthSq:function(t){return t*t},isValid:function(t){return"number"==typeof t},isNaN:function(t){return isNaN(t)},isZero:function(t,e){return Math.abs(t)<e},isEqual:function(t,e,i){return Math.abs(t-e)<i},min:function(t,e,i){return Math.min(e,i)},max:function(t,e,i){return Math.max(e,i)},dot:function(t,e){return t*e}}),anim8.calculator.number=new anim8.CalculatorNumber,anim8.calculator["default"]=anim8.calculator.number,anim8.Calculator2d=function(){this.createConstants()},anim8.override(anim8.Calculator2d.prototype=new anim8.Calculator,{parse:function(t,e){if(anim8.isFunction(t))return t;if(t===!0)return anim8.computed.current;if(anim8.isNumber(t))return{x:t,y:t};if(anim8.isArray(t)&&(t={x:t[0],y:t[1]}),anim8.isObject(t)){var i=anim8.coalesce(t.x,e.x),a=anim8.coalesce(t.y,e.y),n=this.getRelativeAmount(i),r=this.getRelativeAmount(a);if(n!==!1&&r!==!1){var s={x:n,y:r},o=this.isRelative(i),u=this.isRelative(a);if(o||u){var m={x:o?1:0,y:u?1:0};return anim8.computed.relative(s,m)}return s}}if(anim8.isString(t)){if(this.isRelative(t)){var n=this.getRelativeAmount(t);if(n!==!1)return anim8.computed.relative({x:n,y:n})}var l={left:0,right:100,middle:50,center:50,top:0,bottom:100};if(-1===t.indexOf(" ")){var c=parseFloat(t);if(!isNaN(c)||t in l)return{x:t in l?l[t]:c,y:t in l?l[t]:c}}else{var h=t.split(" "),c=parseFloat(h[0]),f=parseFloat(h[1]);if((!isNaN(c)||h[0]in l)&&(!isNaN(f)||h[1]in l))return{x:h[0]in l?l[h[0]]:c,y:h[1]in l?l[h[1]]:f}}}return anim8.isDefined(e)?this.clone(e):!1},copy:function(t,e){return t.x=e.x,t.y=e.y,t},create:function(){return{x:0,y:0}},zero:function(t){return t.x=0,t.y=0,t},adds:function(t,e,i){return t.x+=e.x*i,t.y+=e.y*i,t},mul:function(t,e){return t.x*=e.x,t.y*=e.y,t},interpolate:function(t,e,i,a){return t.x=(i.x-e.x)*a+e.x,t.y=(i.y-e.y)*a+e.y,t},distanceSq:function(t,e){var i=t.x-e.x,a=t.y-e.y;return i*i+a*a},isValid:function(t){return"object"==typeof t&&"x"in t&&"y"in t},isNaN:function(t){return isNaN(t.x)||isNaN(t.y)},isZero:function(t,e){return Math.abs(t.x)<e&&Math.abs(t.y)<e},isEqual:function(t,e,i){return Math.abs(t.x-e.x)<i&&Math.abs(t.y-e.y)<i},min:function(t,e,i){return t.x=Math.min(e.x,i.x),t.y=Math.min(e.y,i.y),t},max:function(t,e,i){return t.x=Math.max(e.x,i.x),t.y=Math.max(e.y,i.y),t},dot:function(t,e){return t.x*e.x+t.y*e.y},random:function(t,e,i){return t.x=(i.x-e.x)*Math.random()+e.x,t.y=(i.y-e.y)*Math.random()+e.y,t}}),anim8.calculator["2d"]=new anim8.Calculator2d,anim8.Calculator3d=function(){this.createConstants()},anim8.override(anim8.Calculator3d.prototype=new anim8.Calculator,{parse:function(t,e){if(anim8.isFunction(t))return t;if(t===!0)return anim8.computed.current;if(anim8.isNumber(t))return{x:t,y:t,z:t};if(anim8.isArray(t)&&(t={x:t[0],y:t[1],z:t[2]}),anim8.isObject(t)){var i=anim8.coalesce(t.x,e.x),a=anim8.coalesce(t.y,e.y),n=anim8.coalesce(t.z,e.z),r=this.getRelativeAmount(i),s=this.getRelativeAmount(a),o=this.getRelativeAmount(n);if(r!==!1&&s!==!1&&o!==!1){var u={x:r,y:s,z:o},m=this.isRelative(i),l=this.isRelative(a),c=this.isRelative(n);if(m||l||c){var h={x:m?1:0,y:l?1:0,z:c?1:0};return anim8.computed.relative(u,h)}return u}}if(this.isRelative(t)){var r=this.getRelativeAmount(t);if(r!==!1)return anim8.computed.relative({x:r,y:r,z:r})}return anim8.isDefined(e)?this.clone(e):!1},copy:function(t,e){return t.x=e.x,t.y=e.y,t.z=e.z,t},create:function(){return{x:0,y:0,z:0}},zero:function(t){return t.x=0,t.y=0,t.z=0,t},adds:function(t,e,i){return t.x+=e.x*i,t.y+=e.y*i,t.z+=e.z*i,t},mul:function(t,e){return t.x*=e.x,t.y*=e.y,t.z*=e.z,t},interpolate:function(t,e,i,a){return t.x=(i.x-e.x)*a+e.x,t.y=(i.y-e.y)*a+e.y,t.z=(i.z-e.z)*a+e.z,t},distanceSq:function(t,e){var i=t.x-e.x,a=t.y-e.y,n=t.z-e.z;return i*i+a*a+n*n},isValid:function(t){return"object"==typeof t&&"x"in t&&"y"in t&&"z"in t},isNaN:function(t){return isNaN(t.x)||isNaN(t.y)||isNaN(t.z)},isZero:function(t,e){return Math.abs(t.x)<e&&Math.abs(t.y)<e&&Math.abs(t.z)<e},isEqual:function(t,e,i){return Math.abs(t.x-e.x)<i&&Math.abs(t.y-e.y)<i&&Math.abs(t.z-e.z)<i},min:function(t,e,i){return t.x=Math.min(e.x,i.x),t.y=Math.min(e.y,i.y),t.z=Math.min(e.z,i.z),t},max:function(t,e,i){return t.x=Math.max(e.x,i.x),t.y=Math.max(e.y,i.y),t.z=Math.max(e.z,i.z),t},dot:function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z},random:function(t,e,i){return t.x=(i.x-e.x)*Math.random()+e.x,t.y=(i.y-e.y)*Math.random()+e.y,t.z=(i.z-e.z)*Math.random()+e.z,t}}),anim8.calculator["3d"]=new anim8.Calculator3d,anim8.CalculatorQuaternion=function(){this.createConstants()},anim8.override(anim8.CalculatorQuaternion.prototype=new anim8.Calculator,{parse:function(t,e){if(anim8.isFunction(t))return t;if(t===!0)return anim8.computed.current;if(anim8.isNumber(t))return{x:0,y:0,z:1,angle:t};if(anim8.isArray(t)&&(t={x:t[0],y:t[1],z:t[2],angle:t[3]}),anim8.isObject(t)){var i=anim8.coalesce(t.x,e.x),a=anim8.coalesce(t.y,e.y),n=anim8.coalesce(t.z,e.z),r=anim8.coalesce(t.angle,e.angle),s=this.getRelativeAmount(i),o=this.getRelativeAmount(a),u=this.getRelativeAmount(n),m=this.getRelativeAmount(r);if(s!==!1&&o!==!1&&u!==!1&&m!==!1){var l={x:s,y:o,z:u,angle:m},c=this.isRelative(i),h=this.isRelative(a),f=this.isRelative(n),p=this.isRelative(r);if(c||h||f||p){return anim8.computed.relative(l)}return l}}if(this.isRelative(t)){var s=this.getRelativeAmount(t);if(s!==!1)return anim8.computed.relative({x:0,y:0,z:1,angle:s},{x:0,y:0,z:0,angle:1})}return anim8.isDefined(e)?this.clone(e):!1},copy:function(t,e){return t.x=e.x,t.y=e.y,t.z=e.z,t.angle=e.angle,t},create:function(){return{x:0,y:0,z:0,angle:0}},zero:function(t){return t.x=0,t.y=0,t.z=0,t.angle=0,t},adds:function(t,e,i){return t.x+=e.x*i,t.y+=e.y*i,t.z+=e.z*i,t.angle+=e.angle*i,t},mul:function(t,e){return t.x*=e.x,t.y*=e.y,t.z*=e.z,t.angle*=e.angle,t},interpolate:function(t,e,i,a){return t.x=(i.x-e.x)*a+e.x,t.y=(i.y-e.y)*a+e.y,t.z=(i.z-e.z)*a+e.z,t.angle=(i.angle-e.angle)*a+e.angle,t},distanceSq:function(t,e){var i=t.x-e.x,a=t.y-e.y,n=t.z-e.z,r=t.angle-e.angle;return i*i+a*a+n*n+r*r},isValid:function(t){return"object"==typeof t&&"x"in t&&"y"in t&&"z"in t&&"angle"in t},isNaN:function(t){return isNaN(t.x)||isNaN(t.y)||isNaN(t.z)||isNaN(t.angle)},isZero:function(t,e){return Math.abs(t.x)<e&&Math.abs(t.y)<e&&Math.abs(t.z)<e&&Math.abs(t.angle)<e},isEqual:function(t,e,i){return Math.abs(t.x-e.x)<i&&Math.abs(t.y-e.y)<i&&Math.abs(t.z-e.z)<i&&Math.abs(t.angle-e.angle)<i},min:function(t,e,i){return t.x=Math.min(e.x,i.x),t.y=Math.min(e.y,i.y),t.z=Math.min(e.z,i.z),t.angle=Math.min(e.angle,i.angle),t},max:function(t,e,i){return t.x=Math.max(e.x,i.x),t.y=Math.max(e.y,i.y),t.z=Math.max(e.z,i.z),t.angle=Math.max(e.angle,i.angle),t},dot:function(t,e){return t.x*e.x+t.y*e.y+t.z*e.z+t.angle*e.angle},random:function(t,e,i){return t.x=(i.x-e.x)*Math.random()+e.x,t.y=(i.y-e.y)*Math.random()+e.y,t.z=(i.z-e.z)*Math.random()+e.z,t.angle=(i.angle-e.angle)*Math.random()+e.angle,t}}),anim8.calculator.quaternion=new anim8.CalculatorQuaternion,anim8.CalculatorRGB=function(){this.createConstants()},anim8.override(anim8.CalculatorRGB.prototype=new anim8.Calculator,{parse:function(t,e){if(anim8.isFunction(t))return t;if(t===!0)return anim8.computed.current;if(anim8.isNumber(t))return{r:t,g:t,b:t};if(anim8.isArray(t)&&(t={r:t[0],g:t[1],b:t[2]}),anim8.isObject(t)){var i=anim8.coalesce(t.r,e.r),a=anim8.coalesce(t.g,e.g),n=anim8.coalesce(t.b,e.b),r=this.getRelativeAmount(i),s=this.getRelativeAmount(a),o=this.getRelativeAmount(n);if(r!==!1&&s!==!1&&o!==!1){var u={r:r,g:s,b:o},m=this.isRelative(i),l=this.isRelative(a),c=this.isRelative(n);if(m||l||c){var h={r:m?1:0,g:l?1:0,b:c?1:0};return anim8.computed.relative(u,h)}return u}}if(this.isRelative(t)){var f=this.getRelativeAmount(t);if(f!==!1)return anim8.computed.relative({r:f,g:f,b:f})}var u=anim8.color.parse(t);return u!==!1?u:anim8.isDefined(e)?this.clone(e):!1},copy:function(t,e){return t.r=e.r,t.g=e.g,t.b=e.b,t},create:function(){return{r:0,g:0,b:0}},zero:function(t){return t.r=0,t.g=0,t.b=0,t},adds:function(t,e,i){return t.r+=e.r*i,t.g+=e.g*i,t.b+=e.b*i,t},mul:function(t,e){return t.r*=e.r,t.g*=e.g,t.b*=e.b,t},interpolate:function(t,e,i,a){return t.r=(i.r-e.r)*a+e.r,t.g=(i.g-e.g)*a+e.g,t.b=(i.b-e.b)*a+e.b,t},distanceSq:function(t,e){var i=t.r-e.r,a=t.g-e.g,n=t.b-e.b;return i*i+a*a+n*n},isValid:function(t){return anim8.isObject(t)&&"r"in t&&"g"in t&&"b"in t},isNaN:function(t){return isNaN(t.r)||isNaN(t.g)||isNaN(t.b)},isZero:function(t,e){return Math.abs(t.r)<e&&Math.abs(t.g)<e&&Math.abs(t.b)<e},isEqual:function(t,e,i){return Math.abs(t.r-e.r)<i&&Math.abs(t.g-e.g)<i&&Math.abs(t.b-e.b)<i},min:function(t,e,i){return t.r=Math.min(e.r,i.r),t.g=Math.min(e.g,i.g),t.b=Math.min(e.b,i.b),t},max:function(t,e,i){return t.r=Math.max(e.r,i.r),t.g=Math.max(e.g,i.g),t.b=Math.max(e.b,i.b),t},dot:function(t,e){return t.r*e.r+t.g*e.g+t.b*e.b},random:function(t,e,i){return t.r=(i.r-e.r)*Math.random()+e.r,t.g=(i.g-e.g)*Math.random()+e.g,t.b=(i.b-e.b)*Math.random()+e.b,t}}),anim8.calculator.rgb=new anim8.CalculatorRGB,anim8.CalculatorRGBA=function(){this.createConstants()},anim8.override(anim8.CalculatorRGBA.prototype=new anim8.Calculator,{parse:function(t,e){if(anim8.isFunction(t))return t;if(t===!0)return anim8.computed.current;if(anim8.isNumber(t))return{r:t,g:t,b:t,a:1};if(anim8.isArray(t)&&(t={r:t[0],g:t[1],b:t[2],a:t[3]}),anim8.isObject(t)){var i=anim8.coalesce(t.r,e.r),a=anim8.coalesce(t.g,e.g),n=anim8.coalesce(t.b,e.b),r=anim8.coalesce(t.a,e.a),s=this.getRelativeAmount(i),o=this.getRelativeAmount(a),u=this.getRelativeAmount(n),m=this.getRelativeAmount(r);
if(s!==!1&&o!==!1&&u!==!1&&m!==!1){var l={r:s,g:o,b:u,a:m},c=this.isRelative(i),h=this.isRelative(a),f=this.isRelative(n),p=this.isRelative(r);if(c||h||f||p){var d={r:c?1:0,g:h?1:0,b:f?1:0,a:p?1:0};return anim8.computed.relative(l,d)}return l}}if(this.isRelative(t)){var g=this.getRelativeAmount(t);if(g!==!1)return anim8.computed.relative({r:g,g:g,b:g,a:0})}var l=anim8.color.parse(t);return l!==!1?l:anim8.isDefined(e)?this.clone(e):!1},copy:function(t,e){return t.r=e.r,t.g=e.g,t.b=e.b,t.a=e.a,t},create:function(){return{r:0,g:0,b:0,a:0}},zero:function(t){return t.r=0,t.g=0,t.b=0,t.a=0,t},adds:function(t,e,i){return t.r+=e.r*i,t.g+=e.g*i,t.b+=e.b*i,t.a+=e.a*i,t},mul:function(t,e){return t.r*=e.r,t.g*=e.g,t.b*=e.b,t.a*=e.a,t},interpolate:function(t,e,i,a){return t.r=(i.r-e.r)*a+e.r,t.g=(i.g-e.g)*a+e.g,t.b=(i.b-e.b)*a+e.b,t.a=(i.a-e.a)*a+e.a,t},distanceSq:function(t,e){var i=t.r-e.r,a=t.g-e.g,n=t.b-e.b,r=t.a-e.a;return i*i+a*a+n*n+r*r},isValid:function(t){return anim8.isObject(t)&&"r"in t&&"g"in t&&"b"in t&&"a"in t},isNaN:function(t){return isNaN(t.r)||isNaN(t.g)||isNaN(t.b)||isNaN(t.a)},isZero:function(t,e){return Math.abs(t.r)<e&&Math.abs(t.g)<e&&Math.abs(t.b)<e&&Math.abs(t.a)<e},isEqual:function(t,e,i){return Math.abs(t.r-e.r)<i&&Math.abs(t.g-e.g)<i&&Math.abs(t.b-e.b)<i&&Math.abs(t.a-e.a)<i},min:function(t,e,i){return t.r=Math.min(e.r,i.r),t.g=Math.min(e.g,i.g),t.b=Math.min(e.b,i.b),t.a=Math.min(e.a,i.a),t},max:function(t,e,i){return t.r=Math.max(e.r,i.r),t.g=Math.max(e.g,i.g),t.b=Math.max(e.b,i.b),t.a=Math.max(e.a,i.a),t},dot:function(t,e){return t.r*e.r+t.g*e.g+t.b*e.b+t.a*e.a},random:function(t,e,i){return t.r=(i.r-e.r)*Math.random()+e.r,t.g=(i.g-e.g)*Math.random()+e.g,t.b=(i.b-e.b)*Math.random()+e.b,t.a=(i.a-e.a)*Math.random()+e.a,t}}),anim8.calculator.rgba=new anim8.CalculatorRGBA,anim8.path=function(t){if(t instanceof anim8.Path)return t;if(anim8.isString(t)&&t in anim8.path)return anim8.path[spring];if(anim8.isObject(t)&&t.type in anim8.path)return anim8.path[t.type](t);throw t+" is not a valid path"},anim8.Path=function(){},anim8.Path.prototype={reset:function(t,e,i){this.name=t,this.calculator=anim8.calculator(e),this.points=i,this.computed=this.hasComputed()},compute:function(){throw"Path.compute not implemented"},hasComputed:function(){for(var t=this.points,e=0;e<t.length;e++)if(anim8.isComputed(t[e]))return!0;return!1},replaceComputed:function(t,e){for(var i=this.copy(),a=i.points,n=0;n<a.length;n++)anim8.isComputed(a[n])&&(a[n]=a[n](t,e));return i},resolvePoint:function(t){return anim8.resolve(this.points[t])},isLinear:function(){return!0},length:function(t){var e=0,i=this.calculator;if(this.isLinear())for(var a=this.resolvePoint(0),n=1;n<this.points.length;n++){var r=this.resolvePoint(n);e+=i.distance(a,r),a=r}else for(var s=s,a=i.clone(this.resolvePoint(0)),o=i.create(),n=1;t>=n;n++){var r=this.compute(o,s);e+=i.distance(a,r),o=a,a=r}return e}},anim8.Tween=function(t,e,i,a){this.reset(t,e,[i,a])},anim8.override(anim8.Tween.prototype=new anim8.Path,{compute:function(t,e){return this.calculator.interpolate(t,this.resolvePoint(0),this.resolvePoint(1),e)},copy:function(){return new anim8.Tween(this.name,this.calculator,this.points[0],this.points[1])}}),anim8.path.tween=function(t){var e=anim8.calculator(t.calculator);return new anim8.Tween(t.name,e,e.parse(t.start,e.ZERO),e.parse(t.end,e.ZERO))},anim8.PathCubic=function(t,e,i,a,n,r){this.reset(t,e,[i,a,n,r])},anim8.override(anim8.PathCubic.prototype=new anim8.Path,{compute:function(t,e){var i=this.calculator,a=e*e,n=e*a,r=1-e,s=r*r,o=r*s;return t=i.copy(t,this.resolvePoint(0)),t=i.scale(t,o),t=i.adds(t,this.resolvePoint(1),3*s*e),t=i.adds(t,this.resolvePoint(2),3*r*a),t=i.adds(t,this.resolvePoint(3),n)},copy:function(){return new anim8.PathCubic(this.name,this.calculator,this.points[0],this.points[1],this.points[2],this.points[3])},isLinear:function(){return!1}}),anim8.path.cubic=function(t){var e=anim8.calculator(t.calculator);return new anim8.PathCubic(t.name,e,e.parse(t.p0),e.parse(t.p1),e.parse(t.p2),e.parse(t.p3))},anim8.PathQuadratic=function(t,e,i,a,n){this.reset(t,e,[i,a,n])},anim8.override(anim8.PathQuadratic.prototype=new anim8.Path,{compute:function(t,e){var i=this.calculator,a=e*e,n=1-e,r=n*n;return t=i.copy(t,this.resolvePoint(0)),t=i.scale(t,r),t=i.adds(t,this.resolvePoint(1),2*n*e),t=i.adds(t,this.resolvePoint(2),a)},copy:function(){return new anim8.PathQuadratic(this.name,this.calculator,this.points[0],this.points[1],this.points[2])},isLinear:function(){return!1}}),anim8.path.quadratic=function(t){var e=anim8.calculator(t.calculator);return new anim8.PathQuadratic(t.name,e,e.parse(t.p0),e.parse(t.p1),e.parse(t.p2))},anim8.PathDelta=function(t,e,i,a){this.reset(t,e,i),this.deltas=a},anim8.override(anim8.PathDelta.prototype=new anim8.Path,{compute:function(t,e){for(var i=this.deltas,a=i.length-2,n=0;i[n+1]<e&&a>n;)n++;var r=i[n],s=i[n+1],o=(e-r)/(s-r),u=this.resolvePoint(n),m=this.resolvePoint(n+1);return this.calculator.interpolate(t,u,m,o)},copy:function(){return new anim8.PathDelta(this.name,anim8.copy(this.points),anim8.copy(this.deltas),this.calculator)}}),anim8.path.delta=function(t){var e=anim8.calculator(t.calculator);if(!t.deltas){t.deltas=[];for(var i=0;i<t.points.length;i++)t.deltas[i]=i/(t.points.length-1)}for(var i=0;i<t.points.length;i++)t.points[i]=e.parse(t.points[i]);return new anim8.PathDelta(t.name,e,t.points,t.deltas)},anim8.PathJump=function(t,e,i){this.reset(t,e,i)},anim8.override(anim8.PathJump.prototype=new anim8.Path,{compute:function(t,e){var i=Math.floor(e*this.points.length),a=Math.min(i,this.points.length-1);return this.calculator.copy(t,this.resolvePoint(a))},copy:function(){return new anim8.PathJump(this.name,this.calculator,anim8.copy(this.points))}}),anim8.path.jump=function(t){for(var e=anim8.calculator(t.calculator),i=0;i<t.points.length;i++)t.points[i]=e.parse(t.points[i]);return new anim8.PathJump(t.name,e,t.points)},anim8.PathCompiled=function(t,e,i){for(var a=e.calculator,n=[],r=0;i>r;r++)n.push(e.compute(a.create(),r/(i-1)));this.reset(t,a,n)},anim8.override(anim8.PathCompiled.prototype=new anim8.Path,{compute:function(t,e){var i=Math.floor(e*this.points.length),a=Math.min(i,this.points.length-1);return this.calculator.copy(t,this.resolvePoint(a))},copy:function(){return new anim8.PathCompiled(this.name,this,this.points.length)}}),anim8.path.compiled=function(t){return new anim8.PathCompiled(t.name,anim8.path(t.path),t.pointCount)},anim8.PathKeyframe=function(t,e,i,a,n){this.reset(t,e,i),this.deltas=a,this.easings=n},anim8.override(anim8.PathKeyframe.prototype=new anim8.Path,{compute:function(t,e){var i=this.deltas,a=i.length-2;if(e<i[0])return!1;if(e>i[i.length-1])return this.points[i.length-1];for(var n=0;i[n+1]<e&&a>n;)n++;var r=i[n],s=i[n+1],o=(e-r)/(s-r),u=this.resolvePoint(n),m=this.resolvePoint(n+1),l=this.easings[n];return this.calculator.interpolate(t,u,m,l(o))},copy:function(){return new anim8.PathKeyframe(this.name,this.calculator,anim8.copy(this.points),anim8.copy(this.deltas),anim8.copy(this.easings))}}),anim8.path.keyframe=function(){var t=anim8.calculator(path.calculator);if(!path.deltas){path.deltas=[];for(var e=0;e<path.points.length;e++)path.deltas[e]=e/(path.points.length-1)}var i=anim8.easing(path.easings,null);if(!anim8.isDefined(path.easings)||!anim8.isArray(path.easings)||null!==i){path.easings=[];for(var e=0;e<path.points.length;e++)path.easings[e]=i}for(var e=0;e<path.easings.length;e++)path.easings[e]=anim8.easing(path.easings[e]);for(var e=0;e<path.points.length;e++)path.points[e]=t.parse(path.points[e]);return new anim8.PathKeyframe(path.name,t,path.points,path.deltas,path.easings)},anim8.Attrimator=function(){},anim8.Attrimator.prototype={reset:function(t,e,i){this.attribute=t,this.parser=e,this.next=i,this.startTime=0,this.pauseTime=0,this.elapsed=0,this.stopTime=Number.POSITIVE_INFINITY,this.paused=!1,this.cycle=0,this.delay=0,this.offset=0},prestart:function(t){0===this.startTime&&(this.startTime=t-this.offset,this.elapsed=this.offset,this.finished=!1,this.prestartNext())},prestartNext:function(t){if(this.next&&0!==this.startTime&&(t&&(this.next.startTime=0),0===this.next.startTime)){var e=this.totalTime();isNaN(e)||this.next.prestart(this.startTime+e)}},start:function(t){this.prestart(t)},startCycle:function(){return!1},setTime:function(t,e){if(this.paused)return!1;var i=!1,a=t-this.startTime,i=!1;return a>this.stopTime?i=this.finish(e):a>=this.delay&&(i=this.update(a,e)),this.elapsed=a,i},update:function(){throw"Attrimator.update not implemented"},getElapsed:function(){return this.elapsed},stopIn:function(t){return this.stopTime=this.getElapsed()+t,this},nopeat:function(){return this},valueAt:function(){return!1},totalTime:function(){return this.stopTime},timeRemaining:function(){return this.totalTime()-this.elapsed+(this.next?this.next.timeRemaining():0)},clone:function(){throw"AttributeAnimator.clone not implemented"},hasComputed:function(){return!1},isInfinite:function(){return this.stopTime===Number.POSITIVE_INFINITY},pause:function(){return this.paused||(this.pauseTime=anim8.now(),this.paused=!0),this},resume:function(){if(this.paused){for(var t=anim8.now()-this.pauseTime,e=this;e&&0!==e.startTime;)e.startTime+=t,e=e.next;this.paused=!1}return this},isPaused:function(){return this.paused},finish:function(){return!1},isFinished:function(){return!1},getParser:function(){return this.parser},queue:function(t){return this.next?this.next.queue(t):(this.next=t,this.prestartNext()),this},parseValue:function(t,e,i){var a=this.calculator.parse(e,i);return anim8.isComputed(a)&&(a=a(this,t)),a}},anim8.AttrimatorMap=function(){this.reset()},anim8.override(anim8.AttrimatorMap.prototype=new anim8.FastMap,{queue:function(t){var e=t.attribute,i=this.get(e);return i?i.queue(t):this.put(e,t),i},queueMap:function(t,e,i){for(var a=this.timeRemaining(),n=t.values,r=n.length-1;r>=0;r--){var s=n[r],o=s.attribute,u=this.get(o);u?(u.isInfinite()?u.stopIn(s.delay+a):s.delay+=a-u.timeRemaining(),u.queue(s)):(s.delay+=a,this.put(o,s),anim8.isFunction(e)&&e.call(i||this,s))}return this},unqueueAt:function(t){var e=this.values[t];return e.next?this.values[t]=e.next:this.removeAt(t),this},clone:function(){for(var t=this.values,e=this.keys,i=new anim8.AttrimatorMap,a=t.length-1;a>=0;a--)i.values[a]=t[a].clone(),i.keys[a]=e[a],i.indices[e[a]]=a;return i},timeRemaining:function(){for(var t=0,e=this.values,i=e.length-1;i>=0;i--){var a=e[i];a.isInfinite()||(t=Math.max(t,a.timeRemaining()))}return t},applyCycle:function(t){for(var e=this.values,i=null;e.length;){i=[];for(var a=e.length-1;a>=0;a--){var n=e[a];n.cycle=t,n.next&&i.push(n.next)}i.length&&t++,e=i}return t},iterate:function(t,e){for(var i=this.values,a=i.length-1;a>=0;a--)for(var n=i[a],r=null,s=0;n;)t.call(e||this,n,s++,r),n=(r=n).next;return this}}),anim8.EventState={DELAYED:1,ANIMATING:2,SLEEPING:4,FINISHED:8},anim8.Event=function(t,e,i,a,n,r,s,o,u,m,l,c,h,f){this.reset(t,c,h),this.path=e,this.easing=anim8.easing(a),this.duration=anim8.duration(i),this.sleep=anim8.sleep(r),this.repeat=anim8.repeat(o),this.scale=anim8.scale(u),this.scaleBase=e.calculator.parse(m,e.calculator.ZERO),this.hasInitialState=anim8.coalesce(l,!0),this.delay=anim8.delay(n),this.offset=anim8.offset(s),this.input=f},anim8.override(anim8.Event.prototype=new anim8.Attrimator,{computeValue:function(t,e){var i=this.path.compute(t,this.easing(e));if(i!==!1&&1!==this.scale){var a=this.path.calculator,t=a.clone(this.scaleBase),n=a.sub(t,i);i=a.adds(i,n,-this.scale)}return i},applyValue:function(t,e,i){var a=this.computeValue(e,i);return a!==!1&&(t[this.attribute]=a),a},nopeat:function(){var t=anim8.clamp(Math.ceil((this.elapsed-this.delay)/(this.duration+this.sleep)),0,this.repeat);return t!==this.repeat&&(this.repeat=t,this.prestartNext(!0)),this},finish:function(t){this.applyValue(t,this.path.calculator.create(),1),this.state=anim8.EventState.FINISHED},start:function(t,e){this.prestart(t),this.state=this.delay?anim8.EventState.DELAYED:anim8.EventState.ANIMATING,this.hasComputed()&&(this.path=this.path.replaceComputed(this,e))},startCycle:function(t){return this.hasInitialState?this.applyValue(t,t[this.attribute],0):!1},update:function(t,e){var i=!1,a=this.delay,n=this.duration,r=this.sleep,s=this.repeat,o=this.state,u=this.state,m=0;t-=a;var l=n+r,c=Math.floor((t+r)/l);return c>=s?(u=anim8.EventState.FINISHED,m=1):(t-=c*l,t>n?(u=anim8.EventState.SLEEPING,m=1):(u=anim8.EventState.ANIMATING,m=t/n)),(u===anim8.EventState.ANIMATING||u!==anim8.EventState.ANIMATING&&o===anim8.EventState.ANIMATING)&&(this.applyValue(e,e[this.attribute],m),i=!0),this.state=u,i},valueAt:function(t,e){if(t<this.delay&&!this.hasInitialState)return!1;var i=0;if(t>=this.delay){var a=this.duration+this.sleep,n=t-this.delay,r=Math.floor((n+this.sleep)/a);i=r>=this.repeat?1:Math.min(1,n%a/this.duration)}return this.computeValue(e,i)},totalTime:function(){return Math.min(this.stopTime,this.delay+this.repeat*this.duration+(this.repeat-1)*this.sleep)},clone:function(){return new anim8.Event(this.attribute,this.path,this.duration,this.easing,this.delay,this.sleep,this.offset,this.repeat,this.scale,this.scaleBase,this.hasInitialState,this.parser,this.next?this.next.clone():null,this.input)},hasComputed:function(){return this.path.computed},isInfinite:function(){return this.repeat===Number.POSITIVE_INFINITY&&this.stopTime===Number.POSITIVE_INFINITY},isFinished:function(){return this.state===anim8.EventState.FINISHED}}),anim8.Event.fromOptions=function(t,e,i){return new anim8.Event(t,e,i.duration,i.easing,i.delay,i.sleep,i.offset,i.repeat,i.scale,i.scaleBase)},anim8.Oncer=function(t,e,i,a,n,r,s){this.reset(t,n,r),this.value=e,this.hasInitialState=anim8.coalesce(a,!0),this.delay=anim8.delay(i),this.applied=!1,this.input=s},anim8.override(anim8.Oncer.prototype=new anim8.Attrimator,{getValue:function(){return anim8.isFunction(this.value)?this.value():this.value},finish:function(t){var e=!this.applied;return e&&(t[this.attribute]=this.getValue(),this.applied=!0),e},start:function(t,e){this.prestart(t),this.value=e.getAttribute(this.attribute).parse(this.value),anim8.isComputed(this.value)&&(this.value=this.value(this,e)),this.applied=!1},startCycle:function(t){return this.hasInitialState&&this.finish(t)},update:function(t,e){return t>=this.delay&&this.finish(e)},valueAt:function(t){return t<this.delay?!1:this.getValue()},totalTime:function(){return Math.min(this.stopTime,this.delay)},clone:function(){return new anim8.Oncer(this.attribute,this.value,this.delay,this.hasInitialState,this.parser,this.next?this.next.clone():null)},hasComputed:function(){return anim8.isComputed(this.value)},isInfinite:function(){return!1},isFinished:function(){return this.applied}}),anim8.spring=function(t){if(t instanceof anim8.Spring)return t;if(anim8.isString(t)&&t in anim8.spring)return anim8.spring[t];if(anim8.isObject(t)&&t.type in anim8.spring)return anim8.spring[t.type](t);throw t+" is not a valid spring"},anim8.Spring=function(){},anim8.override(anim8.Spring.prototype=new anim8.Attrimator,{set:function(t,e,i,a,n,r,s){this.reset(t,null,null),this.calculator=e,this.rest=i,this.position=a,this.gravity=r,this.velocity=n,this.finishOnRest=s},resolveRest:function(){return anim8.resolve(this.rest)},updateVelocity:function(){throw"Spring.updateVelocity not implemented"},start:function(t,e){this.prestart(t);var i=e.getAttribute(this.attribute),a=anim8.calculator(anim8.coalesce(this.calculator,i.calculator));this.calculator=a,this.rest=this.parseValue(e,this.rest,i.defaultValue),this.position=this.parseValue(e,this.position,i.defaultValue),this.gravity=this.parseValue(e,this.gravity,a.ZERO),this.velocity=this.parseValue(e,this.velocity,a.ZERO)},hasComputed:function(){return anim8.isComputed(this.rest)||anim8.isComputed(this.position)||anim8.isComputed(this.gravity)||anim8.isComputed(this.velocity)},update:function(t,e){var i=this.calculator,a=Math.min(.001*(t-this.elapsed),anim8.Spring.MAX_DT),n=i.clone(this.position);this.updateVelocity(a),this.velocity=i.adds(this.velocity,this.gravity,a),this.position=i.adds(this.position,this.velocity,a);var r=!i.isEqual(n,this.position,anim8.Spring.EPSILON);return r?e[this.attribute]=this.position:this.finishOnRest&&i.isZero(this.velocity)&&(this.finished=!0),r},finish:function(){return this.finished=!0,!0},isFinished:function(){return this.finished}}),anim8.Spring.MAX_DT=.1,anim8.Spring.EPSILON=1e-4,anim8.SpringLinear=function(t,e,i,a,n,r,s,o,u){this.set(t,e,a,i,s,o,u),this.damping=n,this.stiffness=r,this.temp0=null,this.temp1=null},anim8.override(anim8.SpringLinear.prototype=new anim8.Spring,{start:function(t,e){anim8.Spring.prototype.start.apply(this,arguments);var i=e.getAttribute(this.attribute),a=this.calculator;this.damping=this.parseValue(e,this.damping,i.defaultValue),this.stiffness=this.parseValue(e,this.stiffness,i.defaultValue),this.temp0=a.create(),this.temp1=a.create()},clone:function(){return new anim8.SpringLinear(this.attribute,this.calculator,this.position,this.rest,this.damping,this.stiffness,this.velocity,this.gravity,this.finishOnRest)},hasComputed:function(){return anim8.isComputed(this.rest)||anim8.isComputed(this.position)||anim8.isComputed(this.gravity)||anim8.isComputed(this.velocity)||anim8.isComputed(this.damping)||anim8.isComputed(this.stiffness)},updateVelocity:function(t){var e=this.calculator;this.temp1=e.copy(this.temp1,this.damping),this.temp1=e.mul(this.temp1,this.velocity),this.temp0=e.copy(this.temp0,this.position),this.temp0=e.sub(this.temp0,this.resolveRest()),this.temp0=e.mul(this.temp0,this.stiffness),this.temp0=e.sub(this.temp0,this.temp1),this.velocity=e.adds(this.velocity,this.temp0,t)}}),anim8.spring.linear=function(t){return new anim8.SpringLinear(t.attribute,t.calculator,anim8.coalesce(t.position,!0),anim8.coalesce(t.rest,!0),t.damping,t.stiffness,t.velocity,t.gravity,t.finishOnRest)},anim8.SpringDistance=function(t,e,i,a,n,r,s,o,u,m){this.set(t,e,a,i,o,u,m),this.distance=n,this.damping=r,this.stiffness=s,this.temp=null},anim8.override(anim8.SpringDistance.prototype=new anim8.Spring,{start:function(){anim8.Spring.prototype.start.apply(this,arguments),this.temp=this.calculator.create()},clone:function(){return new anim8.SpringDistance(this.attribute,this.calculator,this.position,this.rest,this.distance,this.damping,this.stiffness,this.velocity,this.gravity,this.finishOnRest)},updateVelocity:function(t){var e=this.calculator,i=this.resolveRest(),a=e.distance(this.position,i);this.temp=e.copy(this.temp,this.position),this.temp=e.sub(this.temp,i),0!==a&&(this.temp=e.scale(this.temp,1/a),this.temp=e.scale(this.temp,(a-this.distance)*this.stiffness)),this.temp=e.adds(this.temp,this.velocity,-this.damping),this.velocity=e.adds(this.velocity,this.temp,t)}}),anim8.spring.distance=function(t){return new anim8.SpringDistance(t.attribute,t.calculator,anim8.coalesce(t.position,!0),anim8.coalesce(t.rest,!0),t.distance,t.damping,t.stiffness,t.velocity,t.gravity,t.finishOnRest)},anim8.Physics=function(t,e,i,a,n,r,s,o){this.reset(t,e,null),this.calculator=i,this.position=a,this.velocity=n,this.acceleration=r,this.terminal=anim8.number(s,Number.POSITIVE_INFINITY),this.stopTime=anim8.time(o,Number.POSITIVE_INFINITY),this.finished=!1},anim8.override(anim8.Physics.prototype=new anim8.Attrimator,{parseValue:function(t,e,i){var a=this.calculator.parse(e,i);return anim8.isComputed(a)&&(a=a(this,t)),a},resolveVelocity:function(){return anim8.resolve(this.velocity)},resolveAcceleration:function(){return anim8.resolve(this.acceleration)},start:function(t,e){this.prestart(t);var i=e.getAttribute(this.attribute),a=anim8.calculator(anim8.coalesce(this.calculator,i.calculator));this.calculator=a,this.position=this.parseValue(e,this.position,i.defaultValue),this.initalPosition=a.clone(this.position),this.velocity=this.parseValue(e,this.velocity,a.ZERO),this.acceleration=this.parseValue(e,this.acceleration,a.ZERO),this.temp=a.create()},hasComputed:function(){return anim8.isComputed(this.position)||anim8.isComputed(this.velocity)||anim8.isComputed(this.acceleration)},update:function(t,e){var i=this.valueAt(t,this.temp,!0);if(i!==!1)return e[this.attribute]=this.position=i,!0;var a=this.calculator,n=Math.min(.001*(t-this.elapsed),anim8.Physics.MAX_DT),r=a.copy(this.temp,this.resolveVelocity()),s=this.resolveAcceleration(),o=this.position;return r=a.adds(r,s,n),this.terminal!==Number.POSITIVE_INFINITY&&(r=a.clamp(r,0,this.terminal)),o=a.adds(o,r,n),this.position=o,anim8.isFunction(this.velocity)||(this.velocity=a.copy(this.velocity,r)),e[this.attribute]=o,!0},valueAt:function(t,e,i){if(anim8.isFunction(this.velocity)||anim8.isFunction(this.acceleration)||this.terminal!==Number.POSITIVE_INFINITY)return!1;t-=this.delay,t*=.001;var a=this.calculator,n=i?a.copy(this.position,this.initalPosition):a.copy(e,this.initalPosition);return n=a.adds(n,this.velocity,t),n=a.adds(n,this.acceleration,t*t)},clone:function(){return new anim8.Physics(this.attribute,this.parser,this.calculator,this.position,this.velocity,this.acceleration,this.terminal,this.stopTime)},finish:function(){return this.finished=!0,!0},isFinished:function(){return this.finished}}),anim8.Physics.MAX_DT=.1,anim8.animation=function(t,e,i){var e=anim8.options(e,i),a=!anim8.isEmpty(e);if(t instanceof anim8.Animation){if(a){var n=t.newAttrimators();return t.merge(e,n),new anim8.Animation(!1,t.input,e,n)}return t}if(anim8.isString(t)){var r=t.toLowerCase();if(r in anim8.animation&&!a)return anim8.animation[r];var n=anim8.attrimatorsFor(t,e,i);return r in anim8.animation&&!a?anim8.animation[r]:new anim8.Animation(!1,{},e,n)}if(anim8.isObject(t)){var n=anim8.attrimatorsFor(t,e,i);return new anim8.Animation(!1,t,e,n)}return!1},anim8.attrimatorsFor=function(t,e,i){var e=anim8.options(e,i),a=!anim8.isEmpty(e),n=new anim8.AttrimatorMap;if(t instanceof anim8.Animation)n.putMap(t.newAttrimators()),a&&t.merge(e,n);else if(anim8.isObject(t)){var r=new anim8.ParserHelper(t,e);for(var s in t){var o=anim8.parser(s);o!==!1&&o.parse(t,e,n,r)}}else if(anim8.isString(t)){var u=t.toLowerCase(),m=anim8.animation[u],l=anim8.coalesce(i,anim8.defaults.cache);if(m)n.putMap(m.newAttrimators()),a&&m.merge(e,n);else{for(var c=t.split(","),h=0;h<c.length;h++){for(var f=c[h].split("&"),p=new anim8.AttrimatorMap,d=0;d<f.length;d++){var g=anim8.trim(f[d].toLowerCase()),y=g.split(" "),v=anim8.animation[y[0]];if(!v)throw g+' is not a valid animation in "'+c[h]+'"';var b=anim8.options(y.slice(1),i),w=!anim8.isEmpty(b),A=v.newAttrimators();a&&w?v.merge(anim8.extend({},e,b),A):w?v.merge(b,A):a&&v.merge(e,A),p.putMap(A)}n.queueMap(p)}l&&!a&&(anim8.animation[u]=new anim8.Animation(t,{},{},n))}}return n},anim8.save=function(t,e,i){var e=anim8.animation(e,i),a=t.toLowerCase();e.name=t,anim8.animation[a]=e},anim8.Animation=function(t,e,i,a){this.name=t,this.input=e,this.options=i,this.attrimators=a},anim8.Animation.prototype={newAttrimators:function(){return this.attrimators.clone()},merge:function(t,e){var i=new anim8.ParserHelper(this.input,this.options,t);for(var a in this.input){var n=anim8.parser(a);n!==!1&&n.merge&&n.merge(this.input,t,this.options,e,i)}return e}},anim8.transition=function(t,e){var i=t;if(anim8.isString(t)){if(t in anim8.transition)return anim8.transition[t];t=t.toLowerCase().split(" ")}if(anim8.isArray(t)){var a=t;t={};for(var n=0;n<a.length;n++){var r=a[n],s=r.charAt(0);if("<"===s){var o=anim8.time(r.substring(1),!1);isNaN(o)||(t.intro=o)}else if(">"===s){var u=anim8.time(r.substring(1),!1);isNaN(u)||(t.outro=u)}else if("/"===s){var m=anim8.number(r.substring(1),!1);m!==!1&&(t.granularity=m)}else if("^"===s){var l=anim8.time(r.substring(1),!1);l!==!1&&(t.lookup=l)}else{var c=anim8.easing(r,!1);c!==!1&&(t.easing=c);var h=anim8.time(r,!1);h!==!1&&(t.time=h)}}}return anim8.isObject(t)?(t.time=anim8.time(t.time,anim8.defaults.transitionTime),t.outro=anim8.time(t.outro,anim8.defaults.transitionOutro),t.intro=anim8.time(t.intro,anim8.defaults.transitionIntro),t.easing=anim8.easing(anim8.coalesce(t.easing,anim8.defaults.transitionEasing)),t.granularity=anim8.number(t.granularity,anim8.defaults.transitionGranularity),t.lookup=anim8.time(t.lookup,anim8.defaults.transitionLookup),anim8.isString(i)&&anim8.coalesce(e,anim8.defaults.cacheTransitions)&&(anim8.transition[i]=t),t):anim8.defaults.noTransition},anim8.options=function(){function t(t,e,i,a,n,r){var s=t.charAt(0);if("*"===s)o=anim8.number(t.substring(1),!1),o!==!1&&(e[r]=o);else{("+"===s||"-"===s)&&(a=n,t=t.substring(1));var o=i(t,!1);o!==!1&&(e[a]=o)}return o}return function(e,i){var a=e,n=anim8.coalesce(i,anim8.defaults.cacheOptions);if(anim8.isString(e)){if(e in anim8.options)return anim8.options[e];e=e.toLowerCase().split(" ")}if(anim8.isArray(e)){for(var r={},s=0;s<e.length;s++){var o=e[s],u=o.charAt(0);if("x"===u)t(o.substring(1),r,anim8.repeat,"repeat","repeatAdd","repeatScale");else if("z"===u)t(o.substring(1),r,anim8.time,"sleep","sleepAdd","sleepScale");else if("~"===u)t(o.substring(1),r,anim8.time,"delay","delayAdd","delayScale");else if("!"===u)t(o.substring(1),r,anim8.number,"scale","scaleAdd","scaleScale");else if("@"===u)t(o.substring(1),r,anim8.time,"offset","offsetAdd","offsetScale");else{var m=anim8.easing(o,!1);m!==!1&&(r.easing=m);var l=t(o,r,anim8.time,"duration","durationAdd","durationScale");l===!1&&t(o,r,anim8.repeat,"repeat","repeatAdd","repeatScale")}}return anim8.isString(a)&&n&&(anim8.options[a]=r),r}return anim8.isObject(e)?e:anim8.defaults.noOptions}}(),anim8.Animator=function(t){this.reset(t)},anim8.fn=anim8.Animator.prototype={reset:function(t){return this.subject=t,this.attrimators=new anim8.AttrimatorMap,this.attrimatorsAdded=[],this.frame={},this.updated={},this.finished=!1,this.factory=null,this.active=!1,this.cycleCurrent=0,this.cycleNext=0,this.cycleEnded=0,this},newCycle:function(t){return this.cycleNext++,t instanceof anim8.AttrimatorMap?this.cycleNext=t.applyCycle(this.cycleNext):t instanceof anim8.Attrimator&&(t.cycle=this.cycleNext),this},applyCurrentCycle:function(){for(var t=this.cycleCurrent,e=this.attrimators.values,i=e.length-1;i>=0;i--){var a=e[i],n=a.attribute;a.cycle===t&&(this.updated[n]=a.startCycle(this.frame)!==!1||this.updated[n])}return this},endCurrentCycle:function(){this.cycleCurrent>this.cycleEnded&&(this.cycleEnded=this.cycleCurrent,this.trigger("cycleEnd:"+this.cycleCurrent,this.cycleCurrent))},getAttribute:function(t){return this.factory.attribute(t)},restore:function(){return this},applyInitialState:function(){var t=anim8.now();return this.preupdate(t),this.update(t),this.apply(),this},preupdate:function(t){var e=this.attrimatorsAdded;if(e.length){for(var i=0;i<e.length;i++){var a=e[i],n=a.attribute;n in this.subject?this.frame[n]=this.subject[n]:this.setDefault(n),a.start(t,this)}e.length=0}return this.trigger("preupdate"),this},setDefault:function(t){t in this.frame||(this.frame[t]=this.getAttribute(t).cloneDefault())},update:function(t){this.wasFinished=this.finished,this.finished=!0;for(var e=this.attrimators.values,i=this.cycleNext,a=e.length-1;a>=0;a--){var n=e[a],r=n.attribute;this.updated[r]=n.setTime(t,this.frame),this.finished=this.finished&&n.isFinished(),i=Math.min(i,n.cycle)}if(this.cycleCurrent<i){for(;this.cycleCurrent<i;)this.endCurrentCycle(),this.cycleCurrent++;this.cycleCurrent=i,this.applyCurrentCycle(),this.trigger("cycleStart:"+this.cycleCurrent,this.cycleCurrent)}return!this.wasFinished&&this.finished&&this.endCurrentCycle(),this.trigger("update"),this},placeAttrimator:function(t){var e=t.attribute,i=this.attrimators.get(e);return this.attrimators.put(e,t),this.attrimatorsAdded.push(t),this.finished=!1,i},apply:function(){for(var t in this.frame)this.updated[t]&&(this.subject[t]=this.frame[t],this.updated[t]=!1);return this.trigger("apply"),this.trimAttrimators(),this},trimAttrimators:function(){for(var t=this.attrimators.values,e=t.length-1;e>=0;e--){var i=t[e];i.isFinished()&&(i.next?this.placeAttrimator(i.next):this.attrimators.removeAt(e))}return!this.wasFinished&&this.finished&&this.trigger("finished",this),this},value:function(t){return this.frame[t]},activate:function(){return anim8.add(this),this},deactivate:function(){return this.trigger("deactivate",this),this},destroy:function(){return this.finished=!0,this.factory.destroy(this),this.trigger("destroyed"),this},spring:function(t){var t=anim8.spring(t);return t===!1?!1:(this.newCycle(t),this.placeAttrimator(t),this.activate(),t)},play:function(t,e,i,a){var n=anim8.attrimatorsFor(t,e,a);return this.newCycle(n),this.playAttrimators(n,i),this.activate()},playAttrimators:function(t,e){e&&this.finishNotPresent(t,0);for(var i=t.values,a=i.length-1;a>=0;a--)this.placeAttrimator(i[a]);return this},queue:function(t,e,i){var a=anim8.attrimatorsFor(t,e,i);return this.newCycle(a),this.queueAttrimators(a),this.activate()},queueAttrimators:function(t){return this.attrimators.queueMap(t,this.placeAttrimator,this),this},transition:function(t,e,i,a,n){var t=anim8.transition(t),r=anim8.attrimatorsFor(e,i,n);return this.newCycle(r),this.transitionAttrimators(t,r,a),this.activate()},transitionAttrimators:function(t,e,i){var a=this.attrimators,n=e.values;if(i&&this.finishNotPresent(e,t.time),a.hasOverlap(e))for(var r=n.length-1;r>=0;r--){var s=n[r],o=s.attribute,u=a.get(o);if(u&&anim8.isDefined(this.frame[o])){var m=this.getAttribute(o),l=m.calculator,c=s.valueAt(0,l.create());if(c!==!1){var h=t.time,f=l.clone(this.frame[o]),p=t.outro?u.valueAt(u.getElapsed()+t.outro,l.create()):!1,d=t.intro?s.valueAt(t.intro,l.create()):!1,g=null;if(d!==!1&&t.intro<0&&t.lookup>0){var y=s.valueAt(t.lookup,l.create()),v=l.sub(y,c);if(v!==!1){var b=l.scale(v,t.intro/t.lookup),w=l.add(b,c);d=c,c=w}}if(g=p===!1&&d===!1?new anim8.Tween(o,l,f,c):p===!1?new anim8.PathQuadratic(o,l,f,c,d):d===!1?new anim8.PathQuadratic(o,l,f,p,c):new anim8.PathCubic(o,l,f,p,c,d),t.granularity>2&&t.lookup>0){var A=p===!1?u.getElapsed():u.getElapsed()+t.outro,x=p===!1?f:p,N=u.valueAt(A+t.lookup,l.create()),T=d===!1?0:t.intro,R=d===!1?c:d,S=s.valueAt(T+t.lookup,l.create());if(N!==!1&&S!==!1){for(var M=l.sub(l.clone(N),x),E=l.length(M)/t.lookup,I=l.sub(l.clone(S),R),C=l.length(I)/t.lookup,P=new anim8.PathCompiled(o,g,t.granularity),F=P.points,V=F.length-1,O=0,z=[],q=0;V>q;q++)z[q]=O,O+=l.distance(F[q],F[q+1]);if(z[V]=O,!isNaN(O)){for(var D=2*O/(E+C),k=.5*(C-E)/D,$=D/V,_=[],q=0;V>q;q++){var j=q*$,U=E*j+k*j*j;_[q]=U/O}_[V]=1,g=new anim8.PathDelta(o,l,F,_),h=D}}}var H=new anim8.Event(o,g,h,t.easing,0,0,0,1);H.next=s,H.cycle=s.cycle,s.offset=t.intro,this.placeAttrimator(H)}else u.stopIn(t.time+s.delay),u.queue(s),s.delay=0}else s.delay+=t.time,this.placeAttrimator(s)}else for(var r=n.length-1;r>=0;r--)this.placeAttrimator(n[r]);return this},finishNotPresent:function(t,e){for(var i=this.attrimators.values,a=e||0,n=i.length-1;n>=0;n--){var r=i[n];t.has(r.attribute)||r.stopIn(a)}return this},tweenTo:function(t,e,i,a){var i=anim8.options(i,a),n=this.getAttribute(t),r=n.parse(e),s=new anim8.Tween(t,n.calculator,anim8.computed.current,r),o=anim8.Event.fromOptions(t,s,i);return this.newCycle(o),this.placeAttrimator(o),this.activate()},tweenManyTo:function(t,e,i){var e=anim8.options(e,i);this.newCycle();for(var a in t){var n=this.getAttribute(a),r=n.parse(t[a]),s=new anim8.Tween(a,n.calculator,anim8.computed.current,r),o=anim8.Event.fromOptions(a,s,e);o.cycle=this.cycleNext,this.placeAttrimator(o)}return this.activate()},tweenFrom:function(t,e,i,a){var i=anim8.options(i,a),n=this.getAttribute(t),r=n.parse(e),s=new anim8.Tween(t,n.calculator,r,anim8.computed.current),o=anim8.Event.fromOptions(t,s,i);return this.newCycle(o),this.placeAttrimator(o),this.activate()},tweenManyFrom:function(t,e){var e=anim8.options(e);this.newCycle();for(var i in t){var a=this.getAttribute(i),n=a.parse(t[i]),r=new anim8.Tween(i,a.calculator,n,anim8.computed.current),s=anim8.Event.fromOptions(i,r,e);s.cycle=this.cycleNext,this.placeAttrimator(s)}return this.activate()},tween:function(t,e,i,a,n){var a=anim8.options(a,n),r=this.getAttribute(t),s=r.parse(e),o=r.parse(i),u=new anim8.Tween(t,r.calculator,s,o),m=anim8.Event.fromOptions(t,u,a);
return this.newCycle(m),this.placeAttrimator(m),this.activate()},tweenMany:function(t,e,i,a){var i=anim8.options(i,a);this.newCycle();for(var n in t){var r=this.getAttribute(n),s=r.parse(t[n]),o=r.parse(e[n]),u=new anim8.Tween(n,r.calculator,s,o),m=anim8.Event.fromOptions(n,u,i);m.cycle=this.cycleNext,this.placeAttrimator(m)}return this.activate()},move:function(t,e,i,a){var i=anim8.options(i,a),n=this.getAttribute(t),r=n.parse(e),s=anim8.computed.current,o=anim8.isComputed(r)?r:anim8.computed.relative(r),u=new anim8.Tween(t,n.calculator,s,o),m=anim8.Event.fromOptions(t,u,i);return this.newCycle(m),this.placeAttrimator(m),this.activate()},moveMany:function(t,e,i){var e=anim8.options(e,i);this.newCycle();for(var a in t){var n=this.getAttribute(a),r=n.parse(t[a]),s=anim8.computed.current,o=anim8.isComputed(r)?r:anim8.computed.relative(r),u=new anim8.Tween(a,n.calculator,s,o),m=anim8.Event.fromOptions(a,u,e);m.cycle=this.cycleNext,this.placeAttrimator(m)}return this.activate()},ref:function(t){var e=this,i=this.getAttribute(t),a={};return function(){if(t in e.frame)return e.frame[t];a[t]=!0;var n=e.get(a);return anim8.isDefined(n[t])?n[t]:i.defaultValue}},follow:function(t,e,i,a){var i=anim8.options(i,a),e=anim8.path(e),n=anim8.Event.fromOptions(t,e,i);return this.newCycle(n),this.placeAttrimator(n),this.activate()},attrimatorsFor:function(t,e){for(var i=this.attrimators,t=anim8.toArray(anim8.coalesce(t,i.keys)," "),a=!anim8.isFunction(e),n=[],r=t.length-1;r>=0;r--){var s=t[r],o=i.get(s);o&&(a?n.push(o):e.call(this,o,s))}return a?n:this},stop:function(t){return this.attrimatorsFor(t,function(t,e){this.attrimators.remove(e)})},end:function(t){return this.attrimatorsFor(t,function(t){for(;t.next;)t=t.next;t.finish(this.frame)})},finish:function(t){return this.attrimatorsFor(t,function(t){t.finish(this.frame)})},nopeat:function(t){return this.attrimatorsFor(t,function(t){t.nopeat()})},pause:function(t){return this.attrimatorsFor(t,function(t){t.pause()})},resume:function(t){return this.attrimatorsFor(t,function(t){t.resume()})},set:function(t){for(var e in t)this.frame[e]=t[e],this.updated[e]=!0;return this.apply(),this},unset:function(t){for(var t=anim8.toArray(anim8.coalesce(t,this.frame)," "),e=t.length-1;e>=0;e--){var i=t[e];this.attrimators.remove(i),delete this.frame[i]}return this},get:function(t){var e={};for(var i in t)e[i]=this.frame[i];return e},timeRemaining:function(){return this.attrimators.timeRemaining()},hasAttrimators:function(){return this.attrimators.size()>0},getSubject:function(t){var e=this.subject;return anim8.isFunction(t)&&(e=t(e)),e},invoke:function(t,e,i){return anim8.isFunction(t)&&t.apply(e||this,i||[]),this},defer:function(t,e,i){return new anim8.DeferAnimator(this,this,t,e,i)},onCycleStart:function(t,e){return this.once("cycleStart:"+this.cycleNext,t,e),this},onCycleEnd:function(t,e){return this.once("cycleEnd:"+this.cycleNext,t,e),this}},anim8.eventize(anim8.Animator.prototype),anim8.DeferAnimator=function(t,e,i,a){this.$reset(t,e,i,a)},anim8.DeferAnimator.prototype=new anim8.Defer(anim8.DeferAnimator,["restore","placeAttrimator","applyInitialState","preupdate","update","apply","trimAttrimators","activate","deactivate","destroy","spring","play","playAttrimators","queue","queueAttrimators","transition","transitionAttrimators","tween","tweenTo","tweenMany","tweenManyTo","tweenFrom","tweenManyFrom","move","moveMany","follow","stop","end","finish","nopeat","pause","resume","set","unset","get","invoke","onCycleStart","onCycleEnd"]),anim8.Animators=function(t){this.$=[],anim8.isArray(t)&&this.fill(t)},anim8s.fn=anim8.Animators.prototype={push:function(t){return this.$.push(t),this},length:function(){return this.$.length},at:function(t){return this.$[t]},each:function(t,e){for(var i=this.$,a=0;a<i.length&&t.call(e||i[a],i[a],a)!==!1;a++);return this},fill:function(t){for(var e=0;e<t.length;e++)this.push(t[e]);return this},filter:function(t){for(var e=this.$,i=0,a=0;a<e.length;a++){var n=t(e[a]);n||(e[i++]=e[a])}return e.length=i,this},getSubjects:function(t){for(var e=this.$,i=[],a=0;a<e.length;a++)i.push(e[a].subject);return anim8.isFunction(t)&&(i=t(i)),i},first:function(){return this.$[0]},reverse:function(){for(var t=this.$,e=t.length-1,i=Math.floor(t.length/2),a=0;i>a;a++){var n=t[a],r=t[e-a];t[a]=r,t[e-a]=n}return this},activate:function(){for(var t=this.$,e=0;e<t.length;e++){var i=t[e];i.active||(i.active=!0,anim8.animating.push(i))}return anim8.running||(anim8.running=!0,anim8.trigger("starting"),anim8.requestRun(anim8.run)),this},sequence:function(t,e){return new anim8.Sequence(this,t,e)},timeRemaining:function(){for(var t=this.$,e=0,i=0;i<t.length;i++)e=Math.max(e,t[i].timeRemaining());return e},preupdate:function(t,e){for(var i=this.$,a=e||i.length,n=0;a>n;n++)i[n].preupdate(t);return this},update:function(t,e){for(var i=this.$,a=e||i.length,n=0;a>n;n++)i[n].update(t);return this},apply:function(t){for(var e=this.$,i=t||e.length,a=0;i>a;a++)e[a].apply();return this},handleFinished:function(t){return t.finished&&(t.deactivate(),t.active=!1),t.finished},restore:anim8.delegate("restore",anim8.delegate.RETURN_THIS),placeAttrimator:anim8.delegate("placeAttrimator",anim8.delegate.RETURN_THIS),applyInitialState:anim8.delegate("applyInitialState",anim8.delegate.RETURN_THIS),trimAttrimators:anim8.delegate("trimAttrimators",anim8.delegate.RETURN_THIS),activate:anim8.delegate("activate",anim8.delegate.RETURN_THIS),deactivate:anim8.delegate("deactivate",anim8.delegate.RETURN_THIS),destroy:anim8.delegate("destroy",anim8.delegate.RETURN_THIS),spring:anim8.delegate("spring",anim8.delegate.RETURN_RESULTS),play:anim8.delegate("play",anim8.delegate.RETURN_THIS),playAttrimators:anim8.delegate("playAttrimators",anim8.delegate.RETURN_THIS),queue:anim8.delegate("queue",anim8.delegate.RETURN_THIS),queueAttrimators:anim8.delegate("queueAttrimators",anim8.delegate.RETURN_THIS),transition:anim8.delegate("transition",anim8.delegate.RETURN_THIS),transitionAttrimators:anim8.delegate("transitionAttrimators",anim8.delegate.RETURN_THIS),tween:anim8.delegate("tween",anim8.delegate.RETURN_THIS),tweenTo:anim8.delegate("tweenTo",anim8.delegate.RETURN_THIS),tweenFrom:anim8.delegate("tweenFrom",anim8.delegate.RETURN_THIS),tweenMany:anim8.delegate("tweenMany",anim8.delegate.RETURN_THIS),tweenManyTo:anim8.delegate("tweenManyTo",anim8.delegate.RETURN_THIS),tweenManyFrom:anim8.delegate("tweenManyFrom",anim8.delegate.RETURN_THIS),move:anim8.delegate("move",anim8.delegate.RETURN_THIS),moveMany:anim8.delegate("moveMany",anim8.delegate.RETURN_THIS),follow:anim8.delegate("follow",anim8.delegate.RETURN_THIS),attrimatorsFor:anim8.delegate("attrimatorsFor",anim8.delegate.RETURN_RESULTS),stop:anim8.delegate("stop",anim8.delegate.RETURN_THIS),end:anim8.delegate("end",anim8.delegate.RETURN_THIS),finish:anim8.delegate("finish",anim8.delegate.RETURN_THIS),nopeat:anim8.delegate("nopeat",anim8.delegate.RETURN_THIS),pause:anim8.delegate("pause",anim8.delegate.RETURN_THIS),resume:anim8.delegate("resume",anim8.delegate.RETURN_THIS),set:anim8.delegate("set",anim8.delegate.RETURN_THIS),unset:anim8.delegate("unset",anim8.delegate.RETURN_THIS),get:anim8.delegate("get",anim8.delegate.RETURN_FIRST),hasAttrimators:anim8.delegate("hasAttrimators",anim8.delegate.RETURN_TRUE),invoke:anim8.delegate("invoke",anim8.delegate.RETURN_THIS),onCycleStart:anim8.delegate("onCycleStart",anim8.delegate.RETURN_THIS),onCycleEnd:anim8.delegate("onCycleEnd",anim8.delegate.RETURN_THIS),on:anim8.delegate("on",anim8.delegate.RETURN_THIS),once:anim8.delegate("once",anim8.delegate.RETURN_THIS),off:anim8.delegate("off",anim8.delegate.RETURN_THIS),trigger:anim8.delegate("trigger",anim8.delegate.RETURN_THIS)},anim8.running=!1,anim8.live=!1,anim8.animating=new anim8.Animators,anim8.requestRun=function(){for(var t=["ms","moz","webkit","o"],e=window.requestAnimationFrame,i=0;i<t.length&&!e;++i)e=window[t[i]+"RequestAnimationFrame"];if(!e){var a=0;return function(t){var e=anim8.now(),i=Math.max(anim8.defaults.pauseTime,anim8.defaults.frameRate-(e-a)),n=window.setTimeout(function(){t(e+i)},i);return a=e+i,n}}return function(t){e(t)}}(),anim8.add=function(t){t.active||(anim8.animating.push(t),t.active=!0),anim8.running||(anim8.running=!0,anim8.trigger("starting"),anim8.requestRun(anim8.run))},anim8.run=function(){anim8.trigger("begin");var t=anim8.now(),e=anim8.animating,i=e.length();e.preupdate(t,i),e.update(t,i),e.apply(i),e.filter(e.handleFinished),anim8.trigger("end"),e.length()||anim8.live?anim8.requestRun(anim8.run):(anim8.running=!1,anim8.trigger("finished"))},anim8.pause=function(t){return anim8.animating.pause(t),anim8},anim8.resume=function(t){return anim8.animating.resume(t),anim8},anim8.stop=function(t){return anim8.animating.stop(t),anim8},anim8.end=function(t){return anim8.animating.end(t),anim8},anim8.finish=function(t){return anim8.animating.finish(t),anim8},anim8.nopeat=function(t){return anim8.animating.nopeat(t),anim8},anim8.eventize(anim8),anim8.Sequence=function(t,e,i){this.animators=t,this.delay=anim8.delay(e),this.easing=anim8.easing(i)},anim8.Sequence.prototype={maxDelay:function(){return this.delay*(this.animators.length()-1)},createAttrimators:function(t,e){for(var i=t.clone(),a=i.values,n=e/(this.animators.length()-1),r=this.easing(n)*this.maxDelay(),s=a.length-1;s>=0;s--)a[s].delay+=r;return i},reverse:function(){return this.animators.reverse(),this},play:function(t,e,i,a){var n=anim8.attrimatorsFor(t,e,a),r=this;return this.animators.each(function(t,e){var a=r.createAttrimators(n,e);t.newCycle(a),t.playAttrimators(a,i)}),this.add()},queue:function(t,e,i){var a=anim8.attrimatorsFor(t,e,i),n=this,r=0,s=[];return this.animators.each(function(t,e){s[e]=t.timeRemaining(),r=Math.max(r,s[e])}),this.animators.each(function(t,e){for(var i=r-s[e],o=n.createAttrimators(a,e),u=o.values,m=u.length-1;m>=0;m--)u[m].delay+=i;t.newCycle(o),t.queueAttrimators(o)}),this.add()},transition:function(t,e,i,a,n){var t=anim8.transition(t),r=anim8.attrimatorsFor(e,i,n),s=this;return this.animators.each(function(e,i){var n=s.createAttrimators(r,i);e.newCycle(n),e.transitionAttrimators(t,n,a)}),this.add()},add:function(){return this.animators.activate(),this}},anim8.parser=function(t){return t instanceof anim8.Parser?t:anim8.isString(t)&&t in anim8.parser?anim8.parser[t]:!1},anim8.Parser=function(){},anim8.Parser.ID=0,anim8.Parser.prototype={parse:function(){throw"Parser.parse not implemented"},merge:function(t,e,i,a,n){var r=this,s=anim8.factory(t.factory);a.iterate(function(t){t.getParser()===r&&r.mergeAttrimator(t,t.attribute,n,s)})},mergeAttrimator:function(t,e,i,a){t.easing=i.mergeEasing(e,t.easing),t.repeat=i.mergeRepeat(e,t.repeat),t.delay=i.mergeDelay(e,t.delay),t.sleep=i.mergeSleep(e,t.sleep),t.duration=i.mergeDuration(e,t.duration),t.offset=i.mergeOffset(e,t.offset),t.scale=i.mergeScale(e,t.scale),t.scaleBase=i.mergeScaleBase(e,t.scaleBase,a)}},anim8.ParserHelper=function(t,e,i){this.input=t,this.oldOptions=e||{},this.newOptions=i||{},this.prepareSpecifics("easings"),this.prepareSpecifics("repeats"),this.prepareSpecifics("delays"),this.prepareSpecifics("sleeps"),this.prepareSpecifics("durations"),this.prepareSpecifics("offsets"),this.prepareSpecifics("scales"),this.prepareSpecifics("scaleBases")},anim8.ParserHelper.prototype={prepareSpecifics:function(t){anim8.isObject(this.input[t])||(this.input[t]={})},parseEasing:function(t){return this.parseFirst(t,"easing","easings")},parseRepeat:function(t){return this.parseNumber(t,anim8.repeat,anim8.repeat,"repeat","repeatAdd","repeatScale","repeats")},parseDelay:function(t){return this.parseNumber(t,anim8.delay,anim8.time,"delay","delayAdd","delayScale","delays")},parseSleep:function(t){return this.parseNumber(t,anim8.sleep,anim8.time,"sleep","sleepAdd","sleepScale","sleeps")},parseDuration:function(t){return this.parseNumber(t,anim8.duration,anim8.time,"duration","durationAdd","durationScale","durations")},parseOffset:function(t){return this.parseNumber(t,anim8.offset,anim8.time,"offset","offsetAdd","offsetScale","offsets")},parseScale:function(t){return this.parseNumber(t,anim8.scale,anim8.number,"scale","scaleAdd","scaleScale","scales")},parseScaleBase:function(t){return this.parseFirst(t,"scaleBase","scaleBases")},parseFirst:function(t,e,i){return anim8.coalesce(this.input[i][t],this.oldOptions[e])},parseEvent:function(t,e,i,a){var n=this.parseDuration(t),r=this.parseEasing(t),s=this.parseDelay(t),o=this.parseSleep(t),u=this.parseRepeat(t),m=this.parseOffset(t),l=this.parseScale(t),c=this.parseScaleBase(t),h=new anim8.Event(t,e,n,r,s,o,m,u,l,c,a,i,null,this.input);return h},parseNumber:function(t,e,i,a,n,r,s){var o=anim8.coalesce(this.input[s][t],this.oldOptions[a]),u=e(o),m=i(this.oldOptions[n],0),l=anim8.coalesce(this.oldOptions[r],1);return 0===m&&1===l?o:(u+m)*l},mergeEasing:function(t,e){return this.mergeFirst(t,e,anim8.easing,"easing","easings")},mergeRepeat:function(t,e){return this.mergeNumber(t,e,anim8.repeat,"repeat","repeatAdd","repeatScale","repeats")},mergeDelay:function(t,e){return this.mergeNumber(t,e,anim8.time,"delay","delayAdd","delayScale","delays")},mergeSleep:function(t,e){return this.mergeNumber(t,e,anim8.time,"sleep","sleepAdd","sleepScale","scales")},mergeDuration:function(t,e){return this.mergeNumber(t,e,anim8.time,"duration","durationAdd","durationScale","durations")},mergeOffset:function(t,e){return this.mergeNumber(t,e,anim8.time,"offset","offsetAdd","offsetScale","offsets")},mergeScale:function(t,e){return this.mergeNumber(t,e,anim8.number,"scale","scaleAdd","scaleScale","scales")},mergeScaleBase:function(t,e,i){var a=i.attribute(t).calculator,n=function(t,e){return a.parse(t,e)};return this.mergeFirst(t,e,n,"scaleBase","scaleBases")},mergeFirst:function(t,e,i,a,n){var r=this.input[n][t],s=anim8.coalesce(r,this.newOptions[a],this.oldOptions[a]);return i(s,e)},mergeNumber:function(t,e,i,a,n,r,s){var o=anim8.coalesce(this.input[s][t],this.newOptions[a],this.oldOptions[a]),u=i(o,e),m=i(anim8.coalesce(this.newOptions[n],this.oldOptions[n]),0),l=anim8.coalesce(this.newOptions[r],this.oldOptions[r],1);return(u+m)*l}},anim8.ParserAnd=function(){},anim8.override(anim8.ParserAnd.prototype=new anim8.Parser,{parse:function(t,e,i){i.putMap(anim8.attrimatorsFor(t.and,e))},merge:function(t,e,i,a,n){var r=t.and,n=new anim8.ParserHelper(r,i,e);for(var s in r){var o=anim8.parser(s);o!==!1&&o.merge&&o.merge(r,e,i,a,n)}}}),anim8.parser.and=new anim8.ParserAnd,anim8.ParserDeltas=function(){},anim8.override(anim8.ParserDeltas.prototype=new anim8.Parser,{parse:function(t,e,i,a){var n=anim8.factory(t.factory),r=t.deltas,s=t.values;if(anim8.isDefined(r)){if(anim8.isArray(r)){var o={};for(var u in s)o[u]=r;r=o}}else r={};for(var u in s){for(var m=s[u],l=m.length-1,c=r[u],h=n.attribute(u),f=0;l>=f;f++)m[f]=h.parse(m[f]);if(!anim8.isArray(c)){c=[];for(var p=0;l>=p;p++)c[p]=p/l}var d=new anim8.PathDelta(u,h.calculator,m,c),g=a.parseEvent(u,d,this,!0);i.put(u,g)}}}),anim8.parser.values=new anim8.ParserDeltas,anim8.ParserFinal=function(){},anim8.override(anim8.ParserFinal.prototype=new anim8.Parser,{parse:function(t,e,i,a){var n=anim8.factory(t.factory),r=t["final"];for(var s in r){var o=n.attribute(s),u=o.parse(r[s]),m=anim8.delay(a.parseDelay(s)),l=anim8.duration(a.parseDuration(s)),c=new anim8.Oncer(s,u,m+l,!1,this,null,t);i.put(s,c)}},mergeAttrimator:function(t,e,i){t.delay=i.mergeDelay(e,t.delay)+i.mergeDuration(e,t.duration)}}),anim8.parser["final"]=new anim8.ParserFinal,anim8.ParserInitial=function(){},anim8.override(anim8.ParserInitial.prototype=new anim8.Parser,{parse:function(t,e,i,a){var n=anim8.factory(t.factory),r=t.initial;for(var s in r){var o=n.attribute(s),u=o.parse(r[s]),m=a.parseDelay(s),l=new anim8.Oncer(s,u,m,!0,this,null,t);i.put(s,l)}},mergeAttrimator:function(t,e,i){t.delay=i.mergeDelay(e,t.delay)}}),anim8.parser.initial=new anim8.ParserInitial,anim8.ParserKeyframe=function(){},anim8.override(anim8.ParserKeyframe.prototype=new anim8.Parser,{parse:function(t,e,i,a){var n=anim8.factory(t.factory),r=t.keyframe,s=t.easings||{},o=anim8.easing(anim8.coalesce(e.teasing,anim8.defaults.teasing)),u=!1,m={from:"0",start:"0",initial:"0",first:"0",half:"50",middle:"50",to:"100",end:"100",last:"100"};for(var l in r)if(l in m)r[m[l]]=r[l],delete r[l];else if(-1!==l.indexOf(",")){for(var c=l.split(","),h=0;h<c.length;h++)r[c[h]]=r[l];delete r[l],u=!0}var c=[],f=0,p=0;for(var l in r){var d=parseFloat(l);isNaN(d)?delete r[l]:(f>d&&(u=!0),c.push({order:d,key:l,value:r[l]}),f=d,p=Math.max(p,d))}if(u){c.sort(function(t,e){return t.order-e.order}),r={};for(var h=0;h<c.length;h++)r[c[h].key]=c[h].value}for(var g={},y={},v={},b={},h=0;h<c.length;h++){var w=c[h],A=anim8.coalesce(w.value.easing,e.easing);delete w.value.easing;for(var x in w.value)x in g||(g[x]=[],y[x]=[],v[x]=[],b[x]=n.attribute(x)),g[x].push(w.order/p),y[x].push(b[x].parse(w.value[x])),v[x].push(anim8.easing(anim8.coalesce(s[x],A)))}for(var x in g){var N=a.parseDuration(x),T=a.parseDelay(x),R=a.parseSleep(x),S=a.parseOffset(x),M=a.parseRepeat(x),E=a.parseScale(x),I=a.parseScaleBase(x),C=new anim8.PathKeyframe(x,b[x].calculator,y[x],g[x],v[x]),P=new anim8.Event(x,C,N,o,T,R,S,M,E,I,!0,this,null,t);i.put(x,P)}}}),anim8.parser.keyframe=new anim8.ParserKeyframe,anim8.ParserTweenTo=function(){},anim8.override(anim8.ParserTweenTo.prototype=new anim8.Parser,{parse:function(t,e,i,a){var n=anim8.factory(t.factory),r=t.tweenTo;for(var s in r){var o=n.attribute(s),u=o.parse(r[s]),m=new anim8.Tween(s,o.calculator,anim8.computed.current,u),l=a.parseEvent(s,m,this,!0);i.put(s,l)}}}),anim8.parser.tweenTo=new anim8.ParserTweenTo,anim8.ParserTweenFrom=function(){},anim8.override(anim8.ParserTweenFrom.prototype=new anim8.Parser,{parse:function(t,e,i,a){var n=anim8.factory(t.factory),r=t.tweenFrom;for(var s in r){var o=n.attribute(s),u=o.parse(r[s]),m=new anim8.Tween(s,o.calculator,u,anim8.computed.current),l=a.parseEvent(s,m,this,!0);i.put(s,l)}}}),anim8.parser.tweenFrom=new anim8.ParserTweenFrom,anim8.ParserMove=function(){},anim8.override(anim8.ParserMove.prototype=new anim8.Parser,{parse:function(t,e,i,a){var n=anim8.factory(t.factory),r=t.move;for(var s in r){var o=n.attribute(s),u=o.parse(r[s]),m=new anim8.Tween(s,o.calculator,anim8.computed.current,anim8.computed.relative(u)),l=a.parseEvent(s,m,this,!0);i.put(s,l)}}}),anim8.parser.move=new anim8.ParserMove,anim8.ParserQueue=function(){},anim8.override(anim8.ParserQueue.prototype=new anim8.Parser,{parse:function(t,e,i){i.queueMap(anim8.attrimatorsFor(t.queue,e))},merge:function(t,e,i,a,n){var r=t.queue,n=new anim8.ParserHelper(r,i,e);for(var s in r){var o=anim8.parser(s);o!==!1&&o.merge&&o.merge(r,e,i,a,n)}}}),anim8.parser.queue=new anim8.ParserQueue,anim8.ParseSpring=function(){},anim8.override(anim8.ParseSpring.prototype=new anim8.Parser,{parse:function(t,e,i){var a=(anim8.factory(t.factory),t.springs);for(var n in a){var r=a[n];anim8.isDefined(r.attribute)||(r.attribute=n);var s=anim8.spring(r);s!==!1&&(s.parser=this,i.put(n,s))}},merge:!1}),anim8.parser.springs=new anim8.ParseSpring,anim8.ParsePhysics=function(){},anim8.override(anim8.ParsePhysics.prototype=new anim8.Parser,{parse:function(t,e,i){var a=(anim8.factory(t.factory),t.physics);for(var n in a){var r=a[n],s=new anim8.Physics(n,this,r.calculator,anim8.coalesce(r.position,!0),r.velocity,r.acceleration,r.terminal,r.stopAt);i.put(n,s)}},merge:!1}),anim8.parser.physics=new anim8.ParsePhysics,anim8.ParserTravel=function(){},anim8.override(anim8.ParserTravel.prototype=new anim8.Parser,{parse:function(t,e,i){var a=anim8.factory(t.factory),n=t.travel,r=function(t,e,i,a){var n=function(n,r){var s=r.getAttribute(n.attribute),o=s.calculator,u=anim8.isComputed(e)?e(n,r):e,m=o.create();return function(){var e=n.position,r=o.copy(m,anim8.resolve(u)),s=o.sub(r,e),l=o.distance(s,o.ZERO);return i>l?n.stopIn(0):s=o.scale(s,t/l),a&&(s=o.sub(s,n.resolveVelocity())),s}};return n.computed=!0,n};for(var s in n){var o=n[s],u=a.attribute(s),m=u.parse(anim8.coalesce(o.from,!0)),l=u.parse(anim8.coalesce(o.to,!0)),c=anim8.number(o.velocity,0),h=anim8.number(o.acceleration,0),f=anim8.number(anim8.coalesce(o.terminal,o.velocity),Number.POSITIVE_INFINITY),p=anim8.number(o.epsilon,.001);0!==h&&(h=r(h,l,p,!0)),0!==c&&(c=r(c,l,p,!1));var d=new anim8.Physics(s,this,u.calculator,m,c,h,f);i.put(s,d)}},merge:!1}),anim8.parser.travel=new anim8.ParserTravel,anim8.factoryFor=function(t,e){var i=!1;for(var a in anim8.factory){var n=anim8.factory[a];n.is(t)&&(i===!1||i.priority<n.priority)&&(i=n)}if(i)return i;if(e)return!1;throw"No factory exists for subject "+t},anim8.factory=function(t){return t instanceof anim8.Factory?t:anim8.isString(t)&&t in anim8.factory?anim8.factory[t]:anim8.factory["default"]},anim8.Factory=function(){this.priority=0},anim8.Factory.prototype={is:function(){throw"Factory.is not implemented"},animatorFor:function(){throw"Factory.animatorFor not implemented"},animatorsFor:function(t,e){e.push(this.animatorFor(t))},destroy:function(){},attribute:function(){throw"Factory.attribute not implemented"}},anim8.FactoryObject=function(){this.priority=0,this.attributes={}},anim8.override(anim8.FactoryObject.prototype=new anim8.Factory,{is:function(t){return anim8.isObject(t)&&!anim8.isElement(t)&&!anim8.isArray(t)},animatorFor:function(t){var e=t.$animator;return e||(e=new anim8.Animator(t),e.factory=this,t.$animator=e),e},destroy:function(t){delete t.subject.$animator},attribute:function(t){var e=this.attributes[t];if(!e){e=this.attributes[t]=anim8.object.attribute(t);var i=e.calculator,a=anim8.calculator(i),n=a.parse(e.defaultValue,a.ZERO);e.calculatorName=i,e.calculator=a,e.defaultValue=n,e.name=t,e.parse=function(t){return this.calculator.parse(t,this.defaultValue)},e.cloneDefault=function(){return this.calculator.clone(this.defaultValue)}}return e}}),anim8.factory["default"]=anim8.factory.object=new anim8.FactoryObject,anim8.object={},anim8.object.attribute=function(t){return anim8.isObject(t)&&anim8.isDefined(t.defaultValue)?t:anim8.isString(t)&&t in anim8.object.attribute?anim8.object.attribute[t]:anim8.object.attribute["default"]},anim8.object.attribute["default"]={defaultValue:0},anim8.FactoryEasel=function(){this.priority=3,this.attributes={}},anim8.override(anim8.FactoryEasel.prototype=new anim8.Factory,{is:function(t){return anim8.isObject(t)&&!anim8.isArray(t)},animatorFor:function(t){var e=t.$animator;return e||(e=new anim8.AnimatorEasel(t),e.factory=this,t.$animator=e),e},destroy:function(t){delete t.subject.$animator},attribute:function(t){var e=this.attributes[t];if(!e){e=this.attributes[t]=anim8.easel.attribute(t);var i=e.calculator,a=anim8.calculator(i),n=a.parse(e.defaultValue,a.ZERO),r=e.dynamic,s=anim8.easel.dynamic(r);e.calculatorName=i,e.calculator=a,e.defaultValue=n,e.name=t,e.dynamicName=r,e.dynamic=s,e.parse=function(t){return this.calculator.parse(t,this.defaultValue)},e.cloneDefault=function(){return this.calculator.clone(this.defaultValue)}}return e}}),anim8.factory.easeljs=new anim8.FactoryEasel,anim8.AnimatorEasel=function(t){this.reset(t),this.dynamics=new anim8.FastMap},anim8.override(anim8.AnimatorEasel.prototype=new anim8.Animator,{placeAttrimator:function(t){anim8.fn.placeAttrimator.apply(this,arguments);var e=t.attribute,i=this.getAttribute(e),a=i.dynamic;return a&&this.dynamics.put(e,a),this},apply:function(){for(var t in this.frame){var e=this.dynamics.get(t);this.updated[t]&&e&&(e(this.frame[t],this.subject),this.updated[t]=!1)}return anim8.fn.apply.apply(this,arguments),this}}),anim8.easel={},anim8.easel.attribute=function(t){return anim8.isString(t)&&t in anim8.easel.attribute?anim8.easel.attribute[t]:anim8.easel.attribute["default"]},anim8.easel.attribute["default"]={defaultValue:0},anim8.easel.attribute.alpha={defaultValue:1},anim8.easel.attribute.regX={defaultValue:0},anim8.easel.attribute.regY={defaultValue:0},anim8.easel.attribute.rotation={defaultValue:0},anim8.easel.attribute.scaleX={defaultValue:1},anim8.easel.attribute.scaleY={defaultValue:1},anim8.easel.attribute.skewX={defaultValue:0},anim8.easel.attribute.skewY={defaultValue:0},anim8.easel.attribute.x={defaultValue:0},anim8.easel.attribute.y={defaultValue:0},anim8.easel.attribute.lineHeight={defaultValue:0},anim8.easel.attribute.letterSpacing={defaultValue:0},anim8.easel.attribute.spaceWidth={defaultValue:0},anim8.easel.attribute.blurX={defaultValue:0},anim8.easel.attribute.blurY={defaultValue:0},anim8.easel.attribute.quality={defaultValue:1},anim8.easel.attribute.redMultiplier={defaultValue:1},anim8.easel.attribute.greenMultiplier={defaultValue:1},anim8.easel.attribute.blueMultiplier={defaultValue:1},anim8.easel.attribute.alphaMultiplier={defaultValue:1},anim8.easel.attribute.redOffset={defaultValue:0},anim8.easel.attribute.greenOffset={defaultValue:0},anim8.easel.attribute.blueOffset={defaultValue:0},anim8.easel.attribute.alphaOffset={defaultValue:0},anim8.easel.attribute.radius={defaultValue:0},anim8.easel.attribute.startAngle={defaultValue:0},anim8.easel.attribute.endAngle={defaultValue:0},anim8.easel.attribute.cp1x={defaultValue:0},anim8.easel.attribute.cp1y={defaultValue:0},anim8.easel.attribute.cp2x={defaultValue:0},anim8.easel.attribute.cp2y={defaultValue:0},anim8.easel.attribute.w={defaultValue:0},anim8.easel.attribute.h={defaultValue:0},anim8.easel.attribute.width={defaultValue:0},anim8.easel.attribute.height={defaultValue:0},anim8.easel.attribute.sides={defaultValue:0},anim8.easel.attribute.pointSize={defaultValue:0},anim8.easel.attribute.angle={defaultValue:0},anim8.easel.attribute.cpx={defaultValue:0},anim8.easel.attribute.cpy={defaultValue:0},anim8.easel.attribute.radiusTL={defaultValue:0},anim8.easel.attribute.radiusTR={defaultValue:0},anim8.easel.attribute.radiusBL={defaultValue:0},anim8.easel.attribute.radiusBR={defaultValue:0},anim8.easel.attribute.miterLimit={defaultValue:0},anim8.easel.attribute.offsetX={defaultValue:0},anim8.easel.attribute.offsetY={defaultValue:0},anim8.easel.attribute.blur={defaultValue:0},anim8.easel.attribute.framerate={defaultValue:0},anim8.easel.attribute.currentAnimationFrame={defaultValue:0},anim8.easel.attribute.style={defaultValue:anim8.color(),calculator:"rgba"},anim8.easel.attribute.color={defaultValue:anim8.color(),calculator:"rgba"},anim8.easel.attribute.cornerRadius={defaultValue:0,dynamic:"cornerRadius"},anim8.easel.attribute.brightness={defaultValue:0,dynamic:"brightness"},anim8.easel.attribute.contrast={defaultValue:0,dynamic:"contrast"},anim8.easel.attribute.saturation={defaultValue:0,dynamic:"saturation"},anim8.easel.attribute.hue={defaultValue:0,dynamic:"hue"},anim8.easel.attribute.reg={defaultValue:{x:0,y:0},calculator:"2d",dynamic:"reg"},anim8.easel.attribute.position={defaultValue:{x:0,y:0},calculator:"2d",dynamic:"position"},anim8.easel.attribute.offset={defaultValue:{x:0,y:0},calculator:"2d",dynamic:"offset"},anim8.easel.attribute.cp={defaultValue:{x:0,y:0},calculator:"2d",dynamic:"cp"},anim8.easel.attribute.cp1={defaultValue:{x:0,y:0},calculator:"2d",dynamic:"cp1"},anim8.easel.attribute.cp2={defaultValue:{x:0,y:0},calculator:"2d",dynamic:"cp2"},anim8.easel.attribute.filterBlur={defaultValue:{x:0,y:0},calculator:"2d",dynamic:"filterBlur"},anim8.easel.attribute.size={defaultValue:{x:0,y:0},calculator:"2d",dynamic:"size"},anim8.easel.attribute.scale={defaultValue:{x:1,y:1},calculator:"2d",dynamic:"scale"},anim8.easel.attribute.skew={defaultValue:{x:0,y:0},calculator:"2d",dynamic:"skew"},anim8.easel.attribute.filterMultiplier={defaultValue:anim8.color(),calculator:"rgba",dynamic:"filterMultiplier"},anim8.easel.attribute.filterOffset={defaultValue:anim8.color(),calculator:"rgba",dynamic:"filterOffset"},anim8.easel.dynamic=function(t){return anim8.isString(t)&&t in anim8.easel.dynamic?anim8.easel.dynamic[t]:!1},anim8.easel.dynamic.style=function(t,e){e.style=anim8.color.format(t)},anim8.easel.dynamic.color=function(t,e){e.color=anim8.color.format(t)},anim8.easel.dynamic.cornerRadius=function(t,e){e.radiusTL=t,e.radiusTR=t,e.radiusBL=t,e.radiusBR=t},anim8.easel.dynamic.brightness=function(t,e){e.adjustBrightness(t)},anim8.easel.dynamic.contrast=function(t,e){e.adjustContrast(t)},anim8.easel.dynamic.saturation=function(t,e){e.adjustSaturation(t)},anim8.easel.dynamic.hue=function(t,e){e.adjustHue(t)},anim8.easel.dynamic.reg=function(t,e){e.regX=t.x,e.regY=t.y},anim8.easel.dynamic.position=function(t,e){e.x=t.x,e.y=t.y},anim8.easel.dynamic.offset=function(t,e){e.offsetX=t.x,e.offsetY=t.y},anim8.easel.dynamic.cp=function(t,e){e.cpx=t.x,e.cpy=t.y},anim8.easel.dynamic.cp1=function(t,e){e.cp1x=t.x,e.cp1y=t.y},anim8.easel.dynamic.cp2=function(t,e){e.cp2x=t.x,e.cp2y=t.y},anim8.easel.dynamic.filterBlur=function(t,e){e.blurX=t.x,e.blurY=t.y},anim8.easel.dynamic.size=function(t,e){e.w=e.width=t.x,e.h=e.height=t.y},anim8.easel.dynamic.scale=function(t,e){e.scaleX=t.x,e.scaleY=t.y},anim8.easel.dynamic.skew=function(t,e){e.skewX=t.x,e.skewY=t.y},anim8.easel.dynamic.filterMultiplier=function(t,e){e.redMultiplier=t.r,e.greenMultiplier=t.g,e.blueMultiplier=t.b,e.alphaMultiplier=t.a},anim8.easel.dynamic.filterOffset=function(t,e){e.redOffset=t.r,e.greenOffset=t.g,e.blueOffset=t.b,e.alphaOffset=t.a};
//# sourceMappingURL=anim8js-easel.min.js.map